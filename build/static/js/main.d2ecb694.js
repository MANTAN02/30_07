/*! For license information please see main.d2ecb694.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var N=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var j=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case N:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},B=[],M=-1;function F(e){return{current:e}}function z(e){0>M||(e.current=B[M],B[M]=null,M--)}function U(e,t){M++,B[M]=e.current,e.current=t}var V=F(null),$=F(null),H=F(null),W=F(null);function q(e,t){switch(U(H,t),U($,e),U(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(V),U(V,e)}function K(){z(V),z($),z(H)}function G(e){null!==e.memoizedState&&U(W,e);var t=V.current,n=sd(t,e.type);t!==n&&(U($,e),U(V,n))}function Q(e){$.current===e&&(z(V),z($)),W.current===e&&(z(W),Gd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ne(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,Re="__reactProps$"+Ae,Oe="__reactContainer$"+Ae,De="__reactEvents$"+Ae,Le="__reactListeners$"+Ae,Be="__reactHandles$"+Ae,Me="__reactResources$"+Ae,Fe="__reactMarker$"+Ae;function ze(e){delete e[Pe],delete e[Re],delete e[De],delete e[Le],delete e[Be]}function Ue(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Pe]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[Me];return t||(t=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var qe=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ye,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Et(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Ot(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Pt||null!==Rt)&&(Uc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Mt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Rh){Ft=!1}var Ut=null,Vt=null,$t=null;function Ht(){if($t)return $t;var e,t,n=Vt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Yt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Qt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Qt=0,Jt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),sn=Gt(h({},nn,{dataTransfer:0})),an=Gt(h({},en,{relatedTarget:0})),on=Gt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Gt(h({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=Mt&&"CompositionEvent"in window,kn=null;Mt&&"documentMode"in document&&(kn=document.documentMode);var En=Mt&&"TextEvent"in window&&!kn,Cn=Mt&&(!Sn||kn&&8<kn&&11>=kn),_n=String.fromCharCode(32),Nn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Ln(e){Lu(e,0)}function Bn(e){if(ht($e(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(Mt){var zn;if(Mt){var Un="oninput"in document;if(!Un){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Un="function"===typeof Vn.oninput}zn=Un}else zn=!1;Fn=zn&&(!document.documentMode||9<document.documentMode)}function $n(){On&&(On.detachEvent("onpropertychange",Hn),Dn=On=null)}function Hn(e){if("value"===e.propertyName&&Bn(Dn)){var t=[];Rn(t,Dn,e,At(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?($n(),Dn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&$n()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Dn)}function Kn(e,t){if("click"===e)return Bn(t)}function Gn(e,t){if("input"===e||"change"===e)return Bn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Mt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Yn(sr,r)||(sr=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Mt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){xr.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],_r=0,Nr=0;function Tr(){for(var e=_r,t=Nr=_r=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function jr(e,t,n,r){Cr[_r++]=e,Cr[_r++]=t,Cr[_r++]=n,Cr[_r++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return jr(e,t,n,r),Rr(e)}function Ar(e,t){return jr(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Rr(e){if(50<Pc)throw Pc=0,Rc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Br(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Lr(31,n,t,i)).elementType=N,e.lanes=s,e;case g:return Ur(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Lr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case k:return(e=Lr(13,n,t,i)).elementType=k,e.lanes=s,e;case E:return(e=Lr(19,n,t,i)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case S:o=11;break e;case C:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ur(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,qr=null,Kr=0,Gr=[],Qr=0,Yr=null,Jr=1,Xr="";function Zr(e,t){Hr[Wr++]=Kr,Hr[Wr++]=qr,qr=e,Kr=t}function ei(e,t,n){Gr[Qr++]=Jr,Gr[Qr++]=Xr,Gr[Qr++]=Yr,Yr=e;var r=Jr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-fe(t)+i|n<<i|r,Xr=s+e}else Jr=1<<s|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=Hr[--Wr],Hr[Wr]=null,Kr=Hr[--Wr],Hr[Wr]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Bu("cancel",t),Bu("close",t);break;case"iframe":case"object":case"embed":Bu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Bu(Ou[n],t);break;case"source":Bu("error",t);break;case"img":case"image":case"link":Bu("error",t),Bu("load",t);break;case"details":Bu("toggle",t);break;case"input":Bu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Bu("invalid",t);break;case"textarea":Bu("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Bu("beforetoggle",t),Bu("toggle",t)),null!=r.onScroll&&Bu("scroll",t),null!=r.onScrollEnd&&Bu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!si)return di(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=vd,vd=null,ii=e):ii=n):ii=ri?yd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=F(null),yi=null,vi=null;function bi(e,t,n){U(gi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=gi.current,z(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wi(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ki(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _i(e){return Ti(yi,e)}function Ni(e,t){return null===yi&&Ci(e),Ti(e,t)}function Ti(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var ji="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Ai=r.unstable_NormalPriority,Pi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new ji,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&Ii(Ai,function(){e.controller.abort()})}var Di=null,Li=0,Bi=0,Mi=null;function Fi(){if(0===--Li&&null!==Di){null!==Mi&&(Mi.status="fulfilled");var e=Di;Di=null,Bi=0,Mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Li=0,Bi=ju(),Mi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Fi,Fi)}(0,t),null!==zi&&zi(e,t)};var Ui=F(null);function Vi(){var e=Ui.current;return null!==e?e:rc.pooledCache}function $i(e,t){U(Ui,null===t?Ui.current:t.pool)}function Hi(){var e=Vi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Wi=Error(a(460)),qi=Error(a(474)),Ki=Error(a(542)),Gi={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function Zi(){if(null===Xi)throw Error(a(459));var e=Xi;return Xi=null,e}function es(e){if(e===Wi||e===Ki)throw Error(a(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return jr(e,r,t,n),Rr(e)}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Mi)throw Mi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Bi&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var fs=F(null),ps=F(0);function ms(e,t){U(ps,e=dc),U(fs,t),dc=e|t.baseLanes}function gs(){U(ps,dc),U(fs,fs.current)}function ys(){dc=ps.current,z(fs),z(ps)}var vs=0,bs=null,xs=null,ws=null,Ss=!1,ks=!1,Es=!1,Cs=0,_s=0,Ns=null,Ts=0;function js(){throw Error(a(321))}function Is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function As(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Wa:qa,Es=!1,s=n(r,i),Es=!1,ks&&(s=Rs(t,n,r,i)),Ps(e),s}function Ps(e){O.H=Ha;var t=null!==xs&&null!==xs.next;if(vs=0,ws=xs=bs=null,Ss=!1,_s=0,Ns=null,t)throw Error(a(300));null===e||No||null!==(e=e.dependencies)&&Ei(e)&&(No=!0)}function Rs(e,t,n,r){bs=e;var i=0;do{if(ks&&(Ns=null),_s=0,ks=!1,25<=i)throw Error(a(301));if(i+=1,ws=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=Ka,s=t(n,r)}while(ks);return s}function Os(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?zs(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(bs.flags|=1024),t}function Ds(){var e=0!==Cs;return Cs=0,e}function Ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bs(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}vs=0,ws=xs=bs=null,ks=!1,_s=Cs=0,Ns=null}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function Fs(){if(null===xs){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,xs=e;else{if(null===e){if(null===bs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function zs(e){var t=_s;return _s+=1,null===Ns&&(Ns=[]),e=Ji(Ns,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Wa:qa),e}function Us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zs(e);if(e.$$typeof===w)return _i(e)}throw Error(a(438,String(e)))}function Vs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function $s(e,t){return"function"===typeof t?t(e):t}function Hs(e){return Ws(Fs(),xs,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(vs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bi&&(d=!0);else{if((vs&f)===f){u=u.next,f===Bi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,bs.lanes|=f,fc|=f}h=u.action,Es&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(No=!0,d&&null!==(n=Mi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qs(e){var t=Fs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Qn(s,t.memoizedState)||(No=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ks(e,t,n){var r=bs,i=Fs(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((xs||i).memoizedState,n);if(o&&(i.memoizedState=n,No=!0),i=i.queue,ga(2048,8,Ys.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));s||0!==(124&vs)||Gs(r,t,n)}return n}function Gs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qs(e,t,n,r){t.value=n,t.getSnapshot=r,Js(t)&&Xs(e)}function Ys(e,t,n){return n(function(){Js(t)&&Xs(e)})}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Xs(e){var t=Ar(e,2);null!==t&&Lc(t,e,2)}function Zs(e){var t=Ms();if("function"===typeof e){var n=e;if(e=n(),Es){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Ws(e,xs,"function"===typeof r?r:$s)}function ta(e,t,n,r,i){if(Ua(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){sa(e,t,c)}finally{O.T=s}}else try{ra(e,t,s=n(i,r))}catch(u){sa(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ia(e,t,n)},function(n){return sa(e,t,n)}):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(si){var n=rc.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Ms()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Ma.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=za.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Ms()).queue=i,n=ta.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(Fs(),xs,e)}function ua(e,t,n){if(t=Ws(e,t,oa)[0],e=Hs($s)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zs(t)}catch(a){if(a===Wi)throw Ki;throw a}else r=t;var i=(t=Fs()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,s,e]}function da(e,t){e.action=t}function ha(e){var t=Fs(),n=xs;if(null!==n)return ua(t,n,e);Fs(),t=t.memoizedState;var r=(n=Fs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return Fs().memoizedState}function ma(e,t,n,r){var i=Ms();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var i=Fs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==xs&&null!==r&&Is(r,xs.memoizedState.deps)?i.memoizedState=fa(t,s,n,r):(bs.flags|=e,i.memoizedState=fa(1|t,s,n,r))}function ya(e,t){ma(8390656,8,e,t)}function va(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function xa(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function ka(){}function Ea(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=Fs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Is(t,r[1]))return r[0];if(r=e(),Es){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function _a(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),bs.lanes|=e,fc|=e,n)}function Na(e,t,n,r){return Qn(n,t)?n:null!==fs.current?(e=_a(e,n,r),Qn(e,t)||(No=!0),e):0===(42&vs)?(No=!0,e.memoizedState=n):(e=Dc(),bs.lanes|=e,fc|=e,t)}function Ta(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var a=O.T,o={};O.T=o,za(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fa(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Oc());else Fa(e,t,r,Oc())}catch(u){Fa(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{D.p=s,O.T=a}}function ja(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Aa(e).queue;Ta(e,i,t,L,null===n?ja:function(){return Pa(e),n(r)})}function Aa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){Fa(e,Aa(e).next.queue,{},Oc())}function Ra(){return _i(Gd)}function Oa(){return Fs().memoizedState}function Da(){return Fs().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=ss(t,e=is(n),n);return null!==r&&(Lc(r,t,n),as(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Ba(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ua(e)?Va(t,n):null!==(n=Ir(e,t,n,r))&&(Lc(n,e,r),$a(n,t,r))}function Ma(e,t,n){Fa(e,t,n,Oc())}function Fa(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ua(e))Va(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,a))return jr(e,t,i,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Lc(n,e,r),$a(n,t,r),!0}return!1}function za(e,t,n,r){if(r={lane:2,revertLane:ju(),action:r,hasEagerState:!1,eagerState:null,next:null},Ua(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Lc(t,e,2)}function Ua(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function Va(e,t){ks=Ss=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ne(e,n)}}var Ha={readContext:_i,use:Us,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useLayoutEffect:js,useInsertionEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useSyncExternalStore:js,useId:js,useHostTransitionStatus:js,useFormState:js,useActionState:js,useOptimistic:js,useMemoCache:js,useCacheRefresh:js},Wa={readContext:_i,use:Us,useCallback:function(e,t){return Ms().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){ma(4,2,e,t)},useMemo:function(e,t){var n=Ms();t=void 0===t?null:t;var r=e();if(Es){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ms();if(void 0!==n){var i=n(t);if(Es){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ba.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ms().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Ma.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return _a(Ms(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ta.bind(null,bs,e.queue,!0,!1),Ms().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Ms();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&sc)||Gs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ya(Ys.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,s,n,t),null),n},useId:function(){var e=Ms(),t=rc.identifierPrefix;if(si){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ts++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Ms();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=za.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vs,useCacheRefresh:function(){return Ms().memoizedState=La.bind(null,bs)}},qa={readContext:_i,use:Us,useCallback:Ea,useContext:_i,useEffect:va,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:Hs,useRef:pa,useState:function(){return Hs($s)},useDebugValue:ka,useDeferredValue:function(e,t){return Na(Fs(),xs.memoizedState,e,t)},useTransition:function(){var e=Hs($s)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Ks,useId:Oa,useHostTransitionStatus:Ra,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(Fs(),0,e,t)},useMemoCache:Vs,useCacheRefresh:Da},Ka={readContext:_i,use:Us,useCallback:Ea,useContext:_i,useEffect:va,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:qs,useRef:pa,useState:function(){return qs($s)},useDebugValue:ka,useDeferredValue:function(e,t){var n=Fs();return null===xs?_a(n,e,t):Na(n,xs.memoizedState,e,t)},useTransition:function(){var e=qs($s)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Ks,useId:Oa,useHostTransitionStatus:Ra,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=Fs();return null!==xs?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vs,useCacheRefresh:Da},Ga=null,Qa=0;function Ya(e){var t=Qa;return Qa+=1,null===Ga&&(Ga=[]),Ji(Ga,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Mr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&Za(s)===t.type)?(Ja(t=i(t,n.props),n),t.return=e,t):(Ja(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Ja(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=$r(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||I(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Ya(t),n);if(t.$$typeof===w)return h(e,Ni(e,t),n);Xa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||I(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ya(n),r);if(n.$$typeof===w)return f(e,t,Ni(e,n),r);Xa(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ya(r),i);if(r.$$typeof===w)return y(e,t,n,Ni(t,r),i);Xa(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&Za(b)===c.type){n(l,c.sibling),Ja(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Ur(u.props.children,l.mode,d,u.key)).return=l,l=d):(Ja(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=$r(u,l.mode,d)).return=l,l=d}return o(l);case _:return v(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(i,a,o,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,o[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(i,d),si&&Zr(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(a=s(d,a,p),null===u?c=d:u.sibling=d,u=d);return si&&Zr(i,p),c}for(d=r(d);p<o.length;p++)null!==(m=y(d,i,p,o[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,m),null===d?u=b:d.sibling=b,d=b,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=s(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,Ya(u),d);if(u.$$typeof===w)return v(l,c,Ni(l,u),d);Xa(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var i=v(e,t,n,r);return Ga=null,i}catch(a){if(a===Wi||a===Ki)throw a;var s=Lr(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=F(null),io=null;function so(e){var t=e.alternate;U(co,1&co.current),U(ro,e),null===io&&(null===t||null!==fs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if(U(co,co.current),U(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){U(co,co.current),U(ro,ro.current)}function lo(e){z(ro),io===e&&(io=null),z(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Lc(t,e,n),as(t,e,n))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,s))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function So(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function Eo(e){return(e=is(e)).tag=3,e}function Co(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){So(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){So(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var _o=Error(a(461)),No=!1;function To(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ci(t),r=As(e,t,n,a,s,i),o=Ds(),null===e||No?(si&&o&&ti(t),t.flags|=1,To(e,t,r,i),t.child):(Ls(e,t,i),Qo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Br(s)||void 0!==s.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,r,i))}if(s=e.child,!Yo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Mr(s,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if(No=!1,t.pendingProps=r=s,!Yo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(No=!0)}}return Do(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),ao(t)}else null!==s?($i(0,s.cachePool),ms(t,s),oo(),t.memoizedState=null):(null!==e&&$i(0,null),gs(),oo());return To(e,t,i,n),t.child}function Ro(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&$i(0,null),gs(),ao(t),null!==e&&ki(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Do(e,t,n,r,i){return Ci(t),n=As(e,t,n,r,void 0,i),r=Ds(),null===e||No?(si&&r&&ti(t),t.flags|=1,To(e,t,n,i),t.child):(Ls(e,t,i),Qo(e,t,i))}function Lo(e,t,n,r,i,s){return Ci(t),t.updateQueue=null,n=Rs(t,r,n,i),Ps(e),r=Ds(),null===e||No?(si&&r&&ti(t),t.flags|=1,To(e,t,n,s),t.child):(Ls(e,t,s),Qo(e,t,s))}function Bo(e,t,n,r,i){if(Ci(t),null===t.stateNode){var s=Or,a=n.contextType;"object"===typeof a&&null!==a&&(s=_i(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),a=n.contextType,s.context="object"===typeof a&&null!==a?_i(a):Or,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=go(n,o);s.props=l;var c=s.context,u=n.contextType;a=Or,"object"===typeof u&&null!==u&&(a=_i(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&mo(t,s,r,a),ts=!1;var h=t.memoizedState;s.state=h,us(t,r,s,i),cs(),c=t.memoizedState,o||h!==c||ts?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ts||po(t,n,l,r,h,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=go(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=_i(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&mo(t,s,r,l),ts=!1,h=t.memoizedState,s.state=h,us(t,r,s,i),cs();var f=t.memoizedState;a!==d||h!==f||ts||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ts||po(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Oo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):To(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Qo(e,t,i),e}function Mo(e,t,n,r){return fi(),t.flags|=256,To(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zo(e){return{baseLanes:e,cachePool:Hi()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=Ho({mode:"hidden",children:c},s=t.mode),i=Ur(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=zo(n),s.childLanes=Uo(e,r,n),t.memoizedState=Fo,i):(so(t),$o(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=Ho({mode:"visible",children:i.children},c),(s=Ur(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=zo(n),i.childLanes=Uo(e,r,n),t.memoizedState=Fo,t=s);else if(so(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(No||ki(e,t,n,!1),r=0!==(n&e.childLanes),No||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Te(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ar(e,i),Lc(r,e,i),_o;"$?"===c.data||Kc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yd(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Gr[Qr++]=Jr,Gr[Qr++]=Xr,Gr[Qr++]=Yr,Jr=e.id,Xr=e.overflow,Yr=t),(t=$o(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Mr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Mr(u,s):(s=Ur(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=zo(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Uo(e,r,n),t.memoizedState=Fo,i):(so(t),e=(n=e.child).sibling,(n=Mr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Ko(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(To(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)No=!0;else{if(!Yo(e,n)&&0===(128&t.flags))return No=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vo(e,t,n):(so(t),null!==(e=Qo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);No=0!==(131072&e.flags)}else No=!1,si&&0!==(1048576&t.flags)&&ei(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=jo(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Br(r)?(e=go(r,e),t.tag=1,t=Bo(null,t,r,e,n)):(t.tag=0,t=Do(null,t,r,e,n))}return t;case 0:return Do(e,t,t.type,t.pendingProps,n);case 1:return Bo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Pi,r),r!==s.cache&&Si(t,[Pi],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Mo(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=Mo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yd(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Pe]=t,r[Re]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&si&&(r=t.stateNode=xd(t.type,t.pendingProps,H.current),ri=t,oi=!0,i=ii,fd(t.type)?(vd=i,ii=yd(r.firstChild)):ii=i),To(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=yd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,ad(i,s)?r=null:null!==o&&ad(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=As(e,t,Os,null,null,n),Gd._currentValue=i),Oo(e,t),To(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vo(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):To(e,t,r,n),t.child;case 11:return jo(e,t,t.type,t.pendingProps,n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),To(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=_i(i)),t.flags|=1,To(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 19:return Go(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Mr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Ci(t),r=_i(Pi),null===e?(null===(i=Vi())&&(i=rc,s=Ri(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=s.cache,bi(0,Pi,r),r!==i.cache&&Si(t,[Pi],n,!0))),To(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Xi=Gi,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xi(Pi),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=xd(i,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Pe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return xi(t.type),nl(t),null;case 19:if(z(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Pi),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Pi),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(co),null;case 4:return K(),null;case 10:return xi(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&z(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Pi),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:xi(Pi),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:lo(t);break;case 19:z(co);break;case 10:xi(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&z(Ui);break;case 24:xi(Pi)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hs(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Xu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Xu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Xu(e,t,o,i,r,s)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(_t(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Pe]=e,t[Re]=n}catch(s){uu(e,e.return,s)}}var bl=!1,xl=!1,wl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,kl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Bl(e,n),4&r&&al(5,n);break;case 1:if(Bl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Bl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hs(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Bl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Bl(e,n);break;case 13:Bl(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,i=bl;var s=xl;bl=r,(xl=t)&&!s?Fl(e,n,0!==(8772&n.subtreeFlags)):Bl(e,n),bl=i,xl=s}break;case 30:break;default:Bl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _l=null,Nl=!1;function Tl(e,t,n){for(n=n.child;null!==n;)jl(e,t,n),n=n.sibling}function jl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:xl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=_l,i=Nl;fd(n.type)&&(_l=n.stateNode,Nl=!1),Tl(e,t,n),wd(n.stateNode),_l=r,Nl=i;break;case 5:xl||dl(n,t);case 6:if(r=_l,i=Nl,_l=null,Tl(e,t,n),Nl=i,null!==(_l=r))if(Nl)try{(9===_l.nodeType?_l.body:"HTML"===_l.nodeName?_l.ownerDocument.body:_l).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{_l.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==_l&&(Nl?(pd(9===(e=_l).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Nh(e)):pd(_l,n.stateNode));break;case 4:r=_l,i=Nl,_l=n.stateNode.containerInfo,Nl=!0,Tl(e,t,n),_l=r,Nl=i;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Tl(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Tl(e,t,n),xl=r;break;default:Tl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Nh(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){_l=l.stateNode,Nl=!1;break e}break;case 5:_l=l.stateNode,Nl=!1;break e;case 3:case 4:_l=l.stateNode.containerInfo,Nl=!0;break e}l=l.return}if(null===_l)throw Error(a(160));jl(s,o,i),_l=null,Nl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Rl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Dl(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Fe]||s[Pe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),ed(s,r,n),s[Pe]=e,We(s),r=s;break e;case"link":var o=Fd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=Fd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Pe]=e,We(s),r=s}e.stateNode=r}else zd(i,e.type,e.stateNode);else e.stateNode=Od(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?zd(i,e.type,e.stateNode):Od(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Md=null,i=Rl,Rl=Ed(t.containerInfo),Pl(t,e),Rl=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Nh(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Ll(e));break;case 4:r=Rl,Rl=Ed(e.stateNode.containerInfo),Pl(t,e),Dl(e),Rl=r;break;case 12:default:Pl(t,e),Dl(e);break;case 13:Pl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=xl;if(bl=u||i,xl=d||c,Pl(t,e),xl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||xl||Ml(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Al(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,ml(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ml(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ml(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ml(t);break;case 22:null===t.memoizedState&&Ml(t);break;default:Ml(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Fl(i,s,n),al(4,s);break;case 1:if(Fl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Fl(i,s,n),n&&null===r&&4&a&&hl(s),ul(s,s.return);break;case 12:Fl(i,s,n);break;case 13:Fl(i,s,n),n&&4&a&&Il(i,s);break;case 22:null===s.memoizedState&&Fl(i,s,n),ul(s,s.return);break;case 30:break;default:Fl(i,s,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Vl(e,t,n,r):Wl(e,t):2&s._visibility?Vl(e,t,n,r):(s._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(a,t);break;case 24:Vl(e,t,n,r),2048&i&&Ul(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(s,a,o,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(s,a,o,l,i):Wl(s,a):(u._visibility|=2,Hl(s,a,o,l,i)),i&&2048&c&&zl(a.alternate,a);break;case 24:Hl(s,a,o,l,i),i&&2048&c&&Ul(a.alternate,a);break;default:Hl(s,a,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Ul(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var ql=8192;function Kl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(a(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=jd(n.href),s=e.querySelector(Id(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Ad(n),(i=Sd.get(i))&&Ld(n,i),We(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Rl;Rl=Ed(e.stateNode.containerInfo),Kl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Kl(e),ql=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,s=r.return;if(Cl(r),r===n){kl=null;break e}if(null!==i){i.return=s,kl=i;break e}kl=s}}}var ec={getCacheForType:function(e){var t=_i(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,Sc=1/0,kc=null,Ec=null,Cc=0,_c=null,Nc=null,Tc=0,jc=0,Ic=null,Ac=null,Pc=0,Rc=null;function Oc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==O.T){return 0!==Bi?Bi:ju()}return Ie()}function Dc(){0===gc&&(gc=0===(536870912&sc)||si?Se():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||($c(e,0),zc(e,sc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,sc,gc,!1)),Su(e))}function Bc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=qc();rc!==e||sc!==t?(kc=null,Sc=te()+500,$c(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var s=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Qi(s)){ac=0,oc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),Su(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qi(s)?(ac=0,oc=null,Xc(t)):(ac=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Ud(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,oc=null,Zc(e,t,s,5);break;case 6:ac=0,oc=null,Zc(e,t,s,6);break;case 8:Vc(),hc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){Hc(e,d)}return vi=yi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,sc=0,Tr(),hc)}(e,t):Gc(e,t,!0),s=r;;){if(0===i){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Fc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Gc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,i=4;break e}s=bc,bc=i,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){$c(e,0),zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Mc.bind(null,r,n,bc,kc,xc,t,gc,pc,yc,lc,s,2,-0,0),i)}else Mc(r,n,bc,kc,xc,t,gc,pc,yc,lc,s,0,-0,0)}break}i=Gc(e,t,!1),s=!1}Su(e)}function Mc(e,t,n,r,i,s,o,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:$d},Gl(t),null!==(h=function(){if(null===Vd)throw Error(a(475));var e=Vd;return e.stylesheets&&0===e.count&&qd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,s,n,r,i,o,l,c,d,1,f,p)),void zc(e,s,o,!u);nu(e,t,s,n,r,i,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&_e(e,n,t)}function Uc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Vc(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,Bs(e=ic),Ga=null,Qa=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=Mr(e.current,null),sc=t,ac=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,yc=gc=mc=pc=fc=hc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return dc=t,Tr(),n}function Hc(e,t){bs=null,O.H=Ha,t===Wi||t===Ki?(t=Zi(),ac=3):t===qi?(t=Zi(),ac=4):ac=t===_o?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,wo(e,Er(t,e.current)))}function Wc(){var e=O.H;return O.H=Ha,null===e?Ha:e}function qc(){var e=O.A;return O.A=ec,e}function Kc(){hc=4,lc||(4194048&sc)!==sc&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,sc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Wc(),s=qc();rc===e&&sc===t||(kc=null,$c(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==ic){var o=ic,l=oc;switch(ac){case 8:Vc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Qc(),a=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,O.H=i,O.A=s,null===ic&&(rc=null,sc=0,Tr()),a}function Qc(){for(;null!==ic;)Jc(ic)}function Yc(){for(;null!==ic&&!Z();)Jc(ic)}function Jc(e){var t=Jo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Bs(t);default:sl(n,t),t=Jo(n,t=ic=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Bs(t),Ga=null,Qa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(a(435,n.tag))}return du(e,r,i),Kc(),!1}if(si)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),os(e,i=ko(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var s=Error(a(520),{cause:r});if(s=Er(s,n),null===vc?vc=[s]:vc.push(s),4!==hc&&(hc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Ec||!Ec.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Co(i=Eo(i),e,n,r),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return hc=1,wo(e,Er(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return hc=1,wo(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(si||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Cc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Nr,o,l,c),e===rc&&(ic=rc=null,sc=0),Nc=t,_c=e,Tc=n,jc=s,Ic=i,Ac=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,D.p=i,O.T=r}}Cc=1,ru(),iu(),su()}}function ru(){if(1===Cc){Cc=0;var e=_c,t=Nc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ol(t,e);var s=nd,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=Xn(o,m),v=Xn(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nh=!!td,nd=td=null}finally{nc=i,D.p=r,O.T=n}}e.current=t,Cc=2}}function iu(){if(2===Cc){Cc=0;var e=_c,t=Nc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=i,D.p=r,O.T=n}}Cc=3}}function su(){if(4===Cc||3===Cc){Cc=0,ee();var e=_c,t=Nc,n=Tc,r=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,Nc=_c=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),je(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,D.p=i}}0!==(3&Tc)&&ou(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,ku(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function ou(e){return ru(),iu(),su(),lu()}function lu(){if(5!==Cc)return!1;var e=_c,t=jc;jc=0;var n=je(Tc),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=Ic,Ic=null;var s=_c,o=Tc;if(Cc=0,Nc=_c=null,Tc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Jl(s.current),$l(s,s.current,o,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{D.p=i,O.T=r,au(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=ss(e,t=ko(e.stateNode,t,2),2))&&(Ce(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ss(t,n=Eo(2),2))&&(Co(n,r,t,e),Ce(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===hc||3===hc&&(62914560&sc)===sc&&300>te()-wc?0===(2&nc)&&$c(e,0):mc|=n,yc===sc&&(yc=0)),Su(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Ar(e,t))&&(Ce(e,t),Su(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function Su(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?J(re,Eu):Cu()}))}function ku(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Tu(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,s)||(n=!0,Tu(r,s));r=r.next}}while(n);xu=!1}}function Eu(){Cu()}function Cu(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,s=_u(r,t);0===s?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=i}ku(e,!1)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),je(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Nu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Nu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Bc(e,r,t),_u(e,te()),null!=e.callbackNode&&e.callbackNode===n?Nu.bind(null,e):null)}function Tu(e,t){if(ou())return null;Bc(e,t,!0)}function ju(){return 0===wu&&(wu=Se()),wu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var Ru=wr[Pu];Sr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}}}}function Bu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Mu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Fu]){e[Fu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Mu(t,!1,e),Mu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Mu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Ue(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Lt(function(){var r=s,i=At(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Bt(m,f))&&d.push($u(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Oe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:$e(c),p=null==u?o:$e(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Ue(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&qu(a,o,c,d,!1),null!==u&&null!==h&&qu(a,h,u,d,!0)}if("select"===(c=(o=r?$e(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Mn;else if(Pn(o))if(Fn)y=Gn;else{y=qn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(y=Mn):y=Kn;switch(y&&(y=y(e,r))?Rn(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?$e(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?Tn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(b=Ht()):(Vt="value"in(Ut=i)?Ut.value:Ut.textContent,In=!0)),0<(v=Hu(r,x)).length&&(x=new cn(x,e,null,n,i),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=jn(n))&&(x.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Nn=!0,_n);case"textInput":return(e=t.data)===_n&&Nn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Sn&&Tn(e,t)?(e=Ht(),$t=Vt=Ut=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Iu((i[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Au(i,a):new FormData(i);Ia(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Au(i,a):new FormData(i),Ia(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Lu(a,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Bt(e,n))&&r.unshift($u(e,i,s)),null!=(i=Bt(e,t))&&r.push($u(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Bt(n,s))&&a.unshift($u(n,c,l)):i||null!=(c=Bt(n,s))&&a.push($u(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Ju(){}function Xu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Bu("beforetoggle",e),Bu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Nt.get(n)||n,r)}}function Zu(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Bu("scroll",e);break;case"onScrollEnd":null!=r&&Bu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Re]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bu("error",e),Bu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,o,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Bu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Xu(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,s,!1),void dt(e);case"select":for(s in Bu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Xu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Bu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,o,l,n,null)}return wt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Bu("beforetoggle",e),Bu("toggle",e),Bu("cancel",e),Bu("close",e);break;case"iframe":case"object":Bu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Bu(Ou[i],e);break;case"image":Bu("error",e),Bu("load",e);break;case"details":Bu("toggle",e);break;case"embed":case"source":case"link":Bu("error",e),Bu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Nh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Nh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Sd=new Map,kd=new Set;function Ed(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=D.d;D.d={f:function(){var e=Cd.f(),t=Uc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Cd.r(e)},D:function(e){Cd.D(e),Nd("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Nd("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=_d;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=jd(e);break;case"script":s=Pd(e)}Sd.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Id(s))||"script"===t&&r.querySelector(Rd(s))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=_d;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Pd(e)}if(!Sd.has(s)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(s)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=_d;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Rd(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Bd(e,t),We(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Cd.S(e,t,n);var r=_d;if(r&&e){var i=He(r).hoistableStyles,s=jd(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Id(s)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(s))&&Ld(e,n);var l=a=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Dd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Cd.M(e,t);var n=_d;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Rd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Bd(e,t),We(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var _d="undefined"===typeof document?null:document;function Nd(e,t,n){var r=_d;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var i,s,o,l,c=(c=H.current)?Ed(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=jd(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=jd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(i=c,s=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ed(s,"link",o),We(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function jd(e){return'href="'+mt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":i=jd(n.href);var s=e.querySelector(Id(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;r=Ad(n),(i=Sd.get(i))&&Ld(r,i),We(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(s,"link",r),t.state.loading|=4,Dd(s,n.precedence,e),t.instance=s;case"script":return s=Pd(n.src),(i=e.querySelector(Rd(s)))?(t.instance=i,We(i),i):(r=n,(i=Sd.get(s))&&Bd(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Md=null;function Fd(e,t,n){if(null===Md){var r=new Map,i=Md=new Map;i.set(n,r)}else(r=(i=Md).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Fe]||s[Pe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function $d(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function qd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Kd,e),Wd=null,Hd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qd(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,s,a,o,l,c,u,d){return e=new Qd(e,t,n,a,o,l,c,d),t=1,!0===s&&(t|=24),s=Lr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Jd(e){return e?e=Or:Or}function Xd(e,t,n,r,i,s){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Lc(n,0,t),as(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=2,sh(e,t,n,r)}finally{D.p=s,O.T=i}}function ih(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=8,sh(e,t,n,r)}finally{D.p=s,O.T=i}}function sh(e,t,n,r){if(nh){var i=ah(r);if(null===i)Vu(e,t,r,oh,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,bh(ph.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,bh(mh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var s=Ve(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}Su(s),0===(6&nc)&&(Sc=te()+500,ku(0,!1))}}break;case 13:null!==(o=Ar(s,2))&&Lc(o,0,2),Uc(),eh(s,2)}if(null===(s=ah(r))&&Vu(e,t,r,oh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function ah(e){return lh(e=At(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Te(e);var t=Ar(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Sh(e,t,n){wh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(Sh),mh.forEach(Sh)}function Eh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Ch=null;function _h(e){Ch!==e&&(Ch=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ch===e&&(Ch=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var s=Ve(n);null!==s&&(e.splice(t,3),t-=3,Ia(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Nh(e){function t(t){return Eh(t,e)}null!==dh&&Eh(dh,e),null!==hh&&Eh(hh,e),null!==fh&&Eh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)xh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Re]||null;if("function"===typeof s)a||_h(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Re]||null)o=a.formAction;else if(null!==lh(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_h(n)}}}function Th(e){this._internalRoot=e}function jh(e){this._internalRoot=e}jh.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xd(t.current,Oc(),e,t,null,null)},jh.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Uc(),t[Oe]=null}},jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&xh(e)}};var Ih=i.version;if("19.1.0"!==Ih)throw Error(a(527,Ih,"19.1.0"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Oh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=vo,s=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Oe]=t.current,zu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=vo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Jd(null),n=t.current,(i=is(r=Te(r=Oc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ce(t,n),Su(t),e[Oe]=t.current,zu(e),new jh(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},147:(e,t,n)=>{n.d(t,{qk:()=>ke,c7:()=>Ce,KR:()=>Ee,D:()=>Se});var r=n(150),i=n(529),s=n(812);const a="firebasestorage.googleapis.com",o="storageBucket";class l extends i.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),`Firebase Storage: ${t} (${d(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,l.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var c,u;function d(e){return"storage/"+e}function h(){return new l(c.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function f(){return new l(c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p(){return new l(c.CANCELED,"User canceled the upload/download.")}function m(){return new l(c.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function g(e){return new l(c.INVALID_ARGUMENT,e)}function y(){return new l(c.APP_DELETED,"The Firebase app was deleted.")}function v(e,t){return new l(c.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function b(e){throw new l(c.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(c||(c={}));class x{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=x.makeFromUrl(e,t)}catch(i){return new x(e,"")}if(""===n.path)return n;throw r=e,new l(c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let a=0;a<u.length;a++){const t=u[a],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new x(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new l(c.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class w{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function S(e){return"string"===typeof e||e instanceof String}function k(e){return E()&&e instanceof Blob}function E(){return"undefined"!==typeof Blob}function C(e,t,n,r){if(r<t)throw g(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw g(`Invalid value for '${e}'. Expected ${n} or less.`)}function _(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function N(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function T(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(u||(u={}));class j{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new I(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===u.NO_ERROR,i=n.getStatus();if(!t||T(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===u.ABORT;return void e(!1,new I(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new I(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=h();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?y():p())}else{r(f())}};this.canceled_?t(0,new I(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class I{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function A(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function P(){const e=A();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(E())return new Blob(n);throw new l(c.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function R(e){if("undefined"===typeof atob)throw t="base-64",new l(c.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const O="raw",D="base64",L="base64url",B="data_url";class M{constructor(e,t){this.data=e,this.contentType=t||null}}function F(e,t){switch(e){case O:return new M(z(t));case D:case L:return new M(U(e,t));case B:return new M(function(e){const t=new V(e);return t.base64?U(D,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw v(B,"Malformed data URL.")}return z(t)}(t.rest)}(t),new V(t).contentType)}throw h()}function z(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function U(e,t){switch(e){case D:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw v(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case L:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw v(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw v(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class V{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw v(B,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ${constructor(e,t){let n=0,r="";k(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(k(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new $(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new $(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(E()){const e=t.map(e=>e instanceof $?e.data_:e);return new $(P.apply(null,e))}{const e=t.map(e=>S(e)?F(O,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new $(r,!0)}}uploadData(){return this.data_}}function H(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function W(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function q(e,t){return t}class K{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||q}}let G=null;function Q(){if(G)return G;const e=[];e.push(new K("bucket")),e.push(new K("generation")),e.push(new K("metageneration")),e.push(new K("name","fullPath",!0));const t=new K("name");t.xform=function(e,t){return function(e){return!S(e)||e.length<2?e:W(e)}(t)},e.push(t);const n=new K("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new K("timeCreated")),e.push(new K("updated")),e.push(new K("md5Hash",null,!0)),e.push(new K("cacheControl",null,!0)),e.push(new K("contentDisposition",null,!0)),e.push(new K("contentEncoding",null,!0)),e.push(new K("contentLanguage",null,!0)),e.push(new K("contentType",null,!0)),e.push(new K("metadata","customMetadata",!0)),G=e,G}function Y(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new x(n,r);return t._makeStorageReference(i)}})}(r,e),r}function J(e,t,n){const r=H(t);if(null===r)return null;return Y(e,r,n)}function X(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Z{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ee(e){if(!e)throw h()}function te(e,t){return function(n,r){const i=J(e,r,t);return ee(null!==i),i}}function ne(e,t){return function(n,r){const i=J(e,r,t);return ee(null!==i),function(e,t,n,r){const i=H(t);if(null===i)return null;if(!S(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const i=e.bucket,s=e.fullPath;return _("/b/"+a(i)+"/o/"+a(s),n,r)+N({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}function re(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new l(c.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new l(c.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new l(c.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new l(c.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function ie(e){const t=re(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new l(c.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function se(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ae(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=se(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=$.getBlob(c,r,u);if(null===d)throw m();const h={name:l.fullPath},f=_(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new Z(f,"POST",te(e,n),p);return g.urlParams=h,g.headers=a,g.body=d.uploadData(),g.errorHandler=re(t),g}let oe=null;class le{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=u.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=u.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=u.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,s){if(this.sent_)throw b("cannot .send() more than once");if((0,i.zJ)(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw b("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw b("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw b("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw b("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ce extends le{initXhr(){this.xhr_.responseType="text"}}function ue(){return oe?oe():new ce}class de{constructor(e,t){this._service=e,this._location=t instanceof x?t:x.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new de(e,t)}get root(){const e=new x(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return W(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new x(this._location.bucket,e);return new de(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new l(c.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function he(e,t,n){e._throwIfRoot("uploadBytes");const r=ae(e.storage,e._location,Q(),new $(t,!0),n);return e.storage.makeRequestWithTokens(r,ue).then(t=>({metadata:t,ref:e}))}function fe(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=_(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Z(r,"GET",ne(e,n),i);return s.errorHandler=ie(t),s}(e.storage,e._location,Q());return e.storage.makeRequestWithTokens(t,ue).then(e=>{if(null===e)throw new l(c.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function pe(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new x(e._location.bucket,n);return new de(e.storage,r)}function me(e,t){if(e instanceof ve){const n=e;if(null==n._bucket)throw new l(c.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o+"' property when initializing the app?");const r=new de(n,n._bucket);return null!=t?me(r,t):r}return void 0!==t?pe(e,t):e}function ge(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ve)return new de(e,t);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return me(e,t)}function ye(e,t){const n=null===t||void 0===t?void 0:t[o];return null==n?null:x.makeFromBucketSpec(n,e)}class ve{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?x.makeFromBucketSpec(r,this._host):ye(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=x.makeFromBucketSpec(this._url,e):this._bucket=ye(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new de(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new w(y());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=N(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new j(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const be="@firebase/storage",xe="0.13.14",we="storage";function Se(e,t,n){return he(e=(0,i.Ku)(e),t,n)}function ke(e){return fe(e=(0,i.Ku)(e))}function Ee(e,t){return ge(e=(0,i.Ku)(e),t)}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,i.Ku)(e);const n=(0,r.j6)(e,we).getImmediate({identifier:t}),s=(0,i.yU)("storage");return s&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`;const s=(0,i.zJ)(t);s&&((0,i.gE)(`https://${e.host}/b`),(0,i.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"===typeof a?a:(0,i.Fy)(a,e.app.options.projectId))}(e,t,n,r)}(n,...s),n}function _e(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new ve(i,s,a,n,r.MF)}(0,r.om)(new s.uA(we,_e,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(be,xe,""),(0,r.KO)(be,xe,"esm2017")},150:(e,t,n)=>{n.d(t,{MF:()=>ue,j6:()=>se,xZ:()=>ae,om:()=>ie,Sx:()=>he,Wp:()=>de,KO:()=>fe});var r=n(812),i=n(443),s=n(529);let a,o;const l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),g(l.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(y(this),t,...r);return u.set(s,t.sort?t.sort():[t]),g(s)}}function m(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});c.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,f):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(g(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),h.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=m(e);return t!==e&&(d.set(e,t),h.set(t,e)),t}const y=e=>h.get(e);const v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],x=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return x.set(t,s),s}f=(e=>({...e,get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(f);class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const k="@firebase/app",E="0.13.2",C=new i.Vy("@firebase/app"),_="@firebase/app-compat",N="@firebase/analytics-compat",T="@firebase/analytics",j="@firebase/app-check-compat",I="@firebase/app-check",A="@firebase/auth",P="@firebase/auth-compat",R="@firebase/database",O="@firebase/data-connect",D="@firebase/database-compat",L="@firebase/functions",B="@firebase/functions-compat",M="@firebase/installations",F="@firebase/installations-compat",z="@firebase/messaging",U="@firebase/messaging-compat",V="@firebase/performance",$="@firebase/performance-compat",H="@firebase/remote-config",W="@firebase/remote-config-compat",q="@firebase/storage",K="@firebase/storage-compat",G="@firebase/firestore",Q="@firebase/ai",Y="@firebase/firestore-compat",J="firebase",X="[DEFAULT]",Z={[k]:"fire-core",[_]:"fire-core-compat",[T]:"fire-analytics",[N]:"fire-analytics-compat",[I]:"fire-app-check",[j]:"fire-app-check-compat",[A]:"fire-auth",[P]:"fire-auth-compat",[R]:"fire-rtdb",[O]:"fire-data-connect",[D]:"fire-rtdb-compat",[L]:"fire-fn",[B]:"fire-fn-compat",[M]:"fire-iid",[F]:"fire-iid-compat",[z]:"fire-fcm",[U]:"fire-fcm-compat",[V]:"fire-perf",[$]:"fire-perf-compat",[H]:"fire-rc",[W]:"fire-rc-compat",[q]:"fire-gcs",[K]:"fire-gcs-compat",[G]:"fire-fst",[Y]:"fire-fst-compat",[Q]:"fire-vertex","fire-js":"fire-js",[J]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){C.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ie(e){const t=e.name;if(ne.has(t))return C.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of ee.values())re(n,e);for(const n of te.values())re(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return null!==e&&void 0!==e&&void 0!==e.settings}const oe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},le=new s.FA("app","Firebase",oe);class ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const ue="11.10.0";function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:X,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw le.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw le.create("no-options");const o=ee.get(a);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(i,o.config))return o;throw le.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of ne.values())l.addComponent(r);const c=new ce(n,i,l);return ee.set(a,c),c}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const t=ee.get(e);if(!t&&e===X&&(0,s.T9)())return de();if(!t)throw le.create("no-app",{appName:e});return t}function fe(e,t,n){var i;let s=null!==(i=Z[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${s}" with version "${t}":`];return a&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void C.warn(e.join(" "))}ie(new r.uA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const pe="firebase-heartbeat-store";let me=null;function ge(){return me||(me=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=g(a);return r&&a.addEventListener("upgradeneeded",e=>{r(g(a.result),e.oldVersion,e.newVersion,g(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pe)}catch(n){console.warn(n)}}}).catch(e=>{throw le.create("idb-open",{originalErrorMessage:e.message})})),me}async function ye(e,t){try{const n=(await ge()).transaction(pe,"readwrite"),r=n.objectStore(pe);await r.put(t,ve(e)),await n.done}catch(n){if(n instanceof s.g)C.warn(n.message);else{const e=le.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});C.warn(e.message)}}}function ve(e){return`${e.name}!${e.options.appId}`}class be{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new we(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){C.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Se(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Se(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return C.warn(t),""}}}function xe(){return(new Date).toISOString().substring(0,10)}class we{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ge()).transaction(pe),n=await t.objectStore(pe).get(ve(e));return await t.done,n}catch(t){if(t instanceof s.g)C.warn(t.message);else{const e=le.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});C.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Se(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ke;ke="",ie(new r.uA("platform-logger",e=>new S(e),"PRIVATE")),ie(new r.uA("heartbeat",e=>new be(e),"PRIVATE")),fe(k,E,ke),fe(k,E,"esm2017"),fe("fire-js","")},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function E(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function j(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return j((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+N(e,0):s,w(a)?(i="",null!=u&&(i=u.replace(_,"$&/")+"/"),j(a,t,i,"",function(e){return e})):null!=a&&(C(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===s?".":s+":";if(w(e))for(var m=0;m<e.length;m++)u+=j(s=e[m],t,i,o=p+N(s,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=j(s=s.value,t,i,o=p+N(s,m++),a);else if("object"===o){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(s){P(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},443:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},472:(e,t,n)=>{n.d(t,{H9:()=>mo,x7:()=>Fo,aU:()=>xo});var r,i,s=n(150),a=n(812),o=n(443),l=n(529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function o(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return m(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),d=o(1),h=o(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(d)}function g(e,t){return e.add(m(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(m(e),t),new v(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new v(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=d,r=t;0>=r.l(e);)n=x(n),r=x(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!f(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=w(r,1),n=w(n,1)}return t=g(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=l(n)).j(t);p(a)||0<a.l(e);)a=(s=l(n-=r)).j(t);f(s)&&(s=d),i=i.add(s),e=g(e,a)}return new v(i,e)}function x(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,s=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,o=65535&this.i(r),u=e.i(i)>>>16,d=65535&e.i(i);n[2*r+2*i]+=o*d,y(n,2*r+2*i),n[2*r+2*i+1]+=a*d,y(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},r=u.Integer=s}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},x={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function E(e){return/^[\s\xa0]*$/.test(e)}function C(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function _(e){return _[" "](e),e}_[" "]=function(){};var N=-1!=C().indexOf("Gecko")&&!(-1!=C().toLowerCase().indexOf("webkit")&&-1==C().indexOf("Edge"))&&!(-1!=C().indexOf("Trident")||-1!=C().indexOf("MSIE"))&&-1==C().indexOf("Edge");function T(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function j(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function R(e){i.setTimeout(()=>{throw e},0)}function O(){var e=F;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var D=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L,e=>e.reset());class L{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let B,M=!1,F=new class{constructor(){this.h=this.g=null}add(e,t){const n=D.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},z=()=>{const e=i.Promise.resolve(void 0);B=()=>{e.then(U)}};var U=()=>{for(var e;e=O();){try{e.h.call(e.g)}catch(n){R(n)}var t=D;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}M=!1};function V(){this.s=this.s,this.C=this.C}function $(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},$.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function W(e,t){if($.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(N){e:{try{_(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}w(W,$);var q={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),G=0;function Q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++G,this.da=this.fa=!1}function Y(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function J(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}J.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);return null}return n=de(n),e&&e[K]?e.K(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new J(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)H||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=de(n),e&&e[K]?e.L(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function se(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)se(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=de(n),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(s=e.g[t],n,r,i))&&(Y(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):Y(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new W(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ae(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof J?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){V.call(this),this.i=new J(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new $(t,e);else if(t instanceof $)t.target=t.target||e;else{var i=t;A(t=new $(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=pe(a,r,!0,t)&&i}if(i=pe(a=t.g=e,r,!0,t)&&i,i=pe(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=pe(a=t.g=n[s],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&X(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,ge(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}w(he,V),he.prototype[K]=!0,he.prototype.removeEventListener=function(e,t,n,r){se(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){V.call(this),this.h=e,this.g={}}w(ve,V);var be=[];function xe(e){T(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),xe(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=i.JSON.stringify,Se=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ee(){}function Ce(e){return e.h||(e.h=e.i())}function _e(){}Ee.prototype.h=null;var Ne={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Te(){$.call(this,"d")}function je(){$.call(this,"c")}w(Te,$),w(je,$);var Ie={},Ae=null;function Pe(){return Ae=Ae||new he}function Re(e){$.call(this,Ie.La,e)}function Oe(e){const t=Pe();fe(t,new Re(t))}function De(e,t){$.call(this,Ie.STAT_EVENT,e),this.stat=t}function Le(e){const t=Pe();fe(t,new De(t,e))}function Be(e,t){$.call(this,Ie.Ma,e),this.size=t}function Me(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Fe(){this.g=!0}function ze(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return we(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Ie.La="serverreachability",w(Re,$),Ie.STAT_EVENT="statevent",w(De,$),Ie.Ma="timingevent",w(Be,$),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var Ue,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function We(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}w(He,Ee),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},Ue=new He;var Ke={},Ge={};function Qe(e,t,n){e.L=1,e.v=wt(gt(t)),e.m=n,e.P=!0,Ye(e,null)}function Ye(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new qe,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var s=0;s<i.length;s++){var a=ne(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?j(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Oe(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Je(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ge:(n=Number(t.substring(n,r)),isNaN(n)?Ke:(r+=1)+n>t.length?Ge:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Me(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||vn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,xe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),on(n)}pn(n),Le(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Me(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else xn(n,11)}else if((e.K||n.g==e)&&yn(n),!E(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ut(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,xt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),a.K){dt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(tt(o),Ze(o)),r.g=a}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||xn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Oe()}catch(u){}}We.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Oe(),tt(this);var n=this.g.Z();this.X=n;t:if(Je(this)){var r=nn(this.g);e="";var s=r.length,a=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Le(12),rt(this),nt(this);break e}ze(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Xe(this,o),e==Ge){4==h&&(this.s=4,Le(14),n=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ke){this.s=4,Le(15),ze(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}ze(this.i,this.l,e,null),it(this,e)}if(Je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Le(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),mn(d),d.M=!0,Le(11))}}else ze(this.i,this.l,o,"[Invalid Chunked Response]"),rt(this),nt(this)}else ze(this.i,this.l,o,null),it(this,o);4==h&&rt(this),this.o&&!this.J&&(4==h?vn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(E(e[r]))continue;var n=P(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),rt(this),nt(this)}}}catch(h){}},We.prototype.cancel=function(){this.J=!0,rt(this)},We.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Oe(),Le(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var st=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}at.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new At;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),vt(this,t[4]),this.l=St(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new At(null,this.h))}function gt(e){return new mt(e)}function yt(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof At?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Rt(this,t),Dt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,jt)),e.i=new At(t,e.h))}function xt(e,t,n){e.i.set(t,n)}function wt(e){return xt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Et),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Et(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,_t,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,_t,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?Tt:Nt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,It)),e.join("")};var Ct,_t=/[#\/\?@]/g,Nt=/[#\?:]/g,Tt=/[#\?]/g,jt=/[#\?@]/g,It=/#/g;function At(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Rt(e,t){Pt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ot(e,t){return Pt(e),t=Lt(e,t),e.g.has(t)}function Dt(e,t,n){Rt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),S(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Bt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Mt(){this.g=new ke}function Ft(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;a(e)&&(i=we(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ut(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function $t(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return T(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xt(e,t,n))}function Kt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=At.prototype).add=function(e,t){Pt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Ot(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Ot(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},w(zt,Ee),zt.prototype.g=function(){return new Ut(this.l,this.j)},zt.prototype.i=(Ct={},function(){return Ct}),w(Ut,he),(e=Ut.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$t(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$t(this):Ht(this),3==this.readyState&&Vt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,$t(this))},e.Qa=function(e){this.g&&(this.response=e,$t(this))},e.ga=function(){this.g&&$t(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),w(Kt,he);var Gt=/^https?$/i,Qt=["POST","PUT"];function Yt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Jt(e),Zt(e)}function Jt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(pt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Gt.test(a?a.toLowerCase():"")}n=s}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var o=2<tn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Jt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sn(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Mt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(xt(n,"SID",e.K),xt(n,"RID",t),xt(n,"TYPE","terminate"),dn(e,n),(t=new We(e,e.j,t)).L=2,t.v=wt(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}wn(e)}function on(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){on(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!ot(e.h)&&!e.s){e.s=!0;var t=e.Ga;B||z(),M||(B(),M=!0),F.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);xt(r,"SID",e.K),xt(r,"RID",n),xt(r,"AID",e.T),dn(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new We(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Qe(n,r,t)}function dn(e,t){e.H&&T(e.H,function(e,n){xt(t,n,e)}),e.l&&ft({},function(e,n){xt(t,n,e)})}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Ft(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;B||z(),M||(B(),M=!0),F.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Me(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);xt(t,"RID","rpc"),xt(t,"SID",e.K),xt(t,"AID",e.T),xt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&xt(t,"TO",e.ja),xt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=wt(gt(t)),n.m=null,n.P=!0,Ye(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vn(e,t){var n=null;if(e.g==t){yn(e),mn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Pe(),new Be(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Me(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xn(e,5);break;case 4:xn(e,10);break;case 3:xn(e,6);break;default:xn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function xn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),wt(r),t?function(e,t){const n=new Fe;if(i.Image){const r=new Image;r.onload=u(Bt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Bt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Bt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Bt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Fe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Bt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Bt(0,0,!0,t):Bt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Bt(0,0,!1,t)})}(r.toString(),n)}else Le(2);e.G=0,e.l&&e.l.sa(t),wn(e),ln(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new mt(null);r&&yt(a,r),t&&(a.g=t),s&&vt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&xt(r,n,t),xt(r,"VER",e.la),dn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new zt({eb:n})):new Kt(e.pa)).Ha(e.J),t}function En(){}function Cn(){}function _n(e,t){he.call(this),this.g=new sn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!E(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new jn(this)}function Nn(e){Te.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tn(){je.call(this),this.status=1}function jn(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?Ce(this.o):Ce(Ue),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Yt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Qt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Yt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Ct){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ct){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Se(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=sn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Le(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new We(this,this.j,e);let s=this.o;if(this.S&&(s?(s=j(s),A(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),xt(n=gt(this.I),"RID",e),xt(n,"CVER",22),this.D&&xt(n,"X-HTTP-Session-Id",this.D),dn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&qt(n,this.m,s)),ut(this.h,i),this.Ua&&xt(n,"TYPE","init"),this.P?(xt(n,"$req",t),xt(n,"SID","null"),i.T=!0,Qe(i,n,null)):Qe(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||ot(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Me(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),on(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,on(this),pn(this),Le(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=En.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Cn.prototype.g=function(e,t){return new _n(e,t)},w(_n,he),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){an(this.g)},_n.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=we(e),e=n);t.i.push(new st(t.Ya++,e)),3==t.G&&cn(t)},_n.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,_n.aa.N.call(this)},w(Nn,Te),w(Tn,je),w(jn,En),jn.prototype.ua=function(){fe(this.g,"a")},jn.prototype.ta=function(e){fe(this.g,new Nn(e))},jn.prototype.sa=function(e){fe(this.g,new Tn)},jn.prototype.ra=function(){fe(this.g,"b")},Cn.prototype.createWebChannel=Cn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,v=x.createWebChannelTransport=function(){return new Cn},y=x.getStatEventTarget=function(){return Pe()},g=x.Event=Ie,m=x.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,p=x.ErrorCode=Ve,$e.COMPLETE="complete",f=x.EventType=$e,_e.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",he.prototype.listen=he.prototype.K,h=x.WebChannel=_e,x.FetchXmlHttpFactory=zt,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,d=x.XhrIo=Kt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const w="@firebase/firestore",S="4.8.0";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let E="11.10.0";const C=new o.Vy("@firebase/firestore");function _(){return C.logLevel}function N(e){if(C.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);C.debug(`Firestore (${E}): ${e}`,...i)}}function T(e){if(C.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);C.error(`Firestore (${E}): ${e}`,...i)}}function j(e){if(C.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);C.warn(`Firestore (${E}): ${e}`,...i)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function A(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,P(e,r,n)}function P(e,t,n){let r=`FIRESTORE (${E}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw T(r),new Error(r)}function R(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||P(t,i,r)}function O(e,t){return e}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class B{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){R(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new B;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new B,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new B)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(R("string"==typeof t.accessToken,31837,{l:t}),new M(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ${constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){R(void 0===this.o,3512);const n=e=>{null!=e.error&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,N("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(R("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function K(){return new TextEncoder}class G{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=q(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function Y(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Q(r,i);{const s=K(),a=X(s.encode(J(e,n)),s.encode(J(t,n)));return 0!==a?a:Q(r,i)}}n+=r>65535?2:1}return Q(e.length,t.length)}function J(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Q(e[n],t[n]);return Q(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&A(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&A(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):Y(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends te{construct(e,t,n){return new ie(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new ie([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ie(t)}static emptyPath(){return new ie([])}}class se{constructor(e){this.path=e}static fromPath(e){return new se(ne.fromString(e))}static fromName(e){return new se(ne.fromString(e).popFirst(5))}static empty(){return new se(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new ne(e.slice()))}}function ae(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oe(e){if(!se.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function le(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ce(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":A(12329,{type:typeof e})}function ue(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ce(e);throw new L(D.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function de(e,t){const n={typeString:e};return t&&(n.value=t),n}function he(e,t){if(!le(e))throw new L(D.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new L(D.INVALID_ARGUMENT,n);return!0}const fe=-62135596800,pe=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*pe);return new me(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fe)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pe}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(he(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:de("string",me._jsonSchemaVersion),seconds:de("number"),nanoseconds:de("number")};class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new me(0,0))}static max(){return new ge(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ye=-1;class ve{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ve.UNKNOWN_ID=-1;function be(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(1e9===r?new me(n+1,0):new me(n,r));return new we(i,se.empty(),t)}function xe(e){return new we(e.readTime,e.key,ye)}class we{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new we(ge.min(),se.empty(),ye)}static max(){return new we(ge.max(),se.empty(),ye)}}function Se(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=se.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const ke="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ce(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==ke)throw e;N("LocalStore","Unexpectedly lost primary lease")}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&A(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(e){return _e.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,n)=>{t(e)})}static reject(e){return new _e((t,n)=>{n(e)})}static waitFor(e){return new _e((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=_e.resolve(!1);for(const n of e)t=t.next(e=>e?_e.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new _e((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new _e((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ne(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Te(e){return"IndexedDbTransactionError"===e.name}class je{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}je.ue=-1;const Ie=-1;function Ae(e){return null==e}function Pe(e){return 0===e&&1/e==-1/0}const Re="\x01";function Oe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Le(t)),t=De(e.get(n),t);return Le(t)}function De(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Re:n+="\x01\x11";break;default:n+=t}}return n}function Le(e){return e+Re+"\x01"}const Be="remoteDocuments",Me="owner",Fe="mutationQueues",ze="mutations";const Ue="documentMutations",Ve="remoteDocumentsV14",$e="remoteDocumentGlobal",He="targets",We="targetDocuments",qe="targetGlobal",Ke="collectionParents",Ge="clientMetadata",Qe="bundles",Ye="namedQueries",Je="indexConfiguration",Xe="indexState",Ze="indexEntries",et="documentOverlays",tt="globals",nt=[Fe,ze,Ue,Be,He,Me,qe,We,Ge,$e,Ke,Qe,Ye],rt=[Fe,ze,Ue,Ve,He,Me,qe,We,Ge,$e,Ke,Qe,Ye,et],it=rt,st=[...it,Je,Xe,Ze];function at(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ot(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ct{constructor(e,t){this.comparator=e,this.root=t||dt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ut(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ut(this.root,e,this.comparator,!1)}getReverseIterator(){return new ut(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ut(this.root,e,this.comparator,!0)}}class ut{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:dt.RED,this.left=null!=r?r:dt.EMPTY,this.right=null!=i?i:dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new dt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw A(43730,{key:this.key,value:this.value});if(this.right.isRed())throw A(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw A(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1,dt.EMPTY=new class{constructor(){this.size=0}get key(){throw A(57766)}get value(){throw A(16141)}get color(){throw A(16727)}get left(){throw A(29726)}get right(){throw A(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ht{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ft(this.data.getIterator())}getIteratorFrom(e){return new ft(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ht))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ht(this.comparator);return t.data=e,t}}class ft{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pt{constructor(e){this.fields=e,e.sort(ie.comparator)}static empty(){return new pt([])}unionWith(e){let t=new ht(ie.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class mt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mt("Invalid base64 string: "+e):e}}(e);return new gt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vt(e){if(R(!!e,39018),"string"==typeof e){let t=0;const n=yt.exec(e);if(R(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bt(e.seconds),nanos:bt(e.nanos)}}function bt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xt(e){return"string"==typeof e?gt.fromBase64String(e):gt.fromUint8Array(e)}const wt="server_timestamp",St="__type__",kt="__previous_value__",Et="__local_write_time__";function Ct(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[St])||void 0===n?void 0:n.stringValue)===wt}function _t(e){const t=e.mapValue.fields[kt];return Ct(t)?_t(t):t}function Nt(e){const t=vt(e.mapValue.fields[Et].timestampValue);return new me(t.seconds,t.nanos)}class Tt{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const jt="(default)";class It{constructor(e,t){this.projectId=e,this.database=t||jt}static empty(){return new It("","")}get isDefaultDatabase(){return this.database===jt}isEqual(e){return e instanceof It&&e.projectId===this.projectId&&e.database===this.database}}const At="__type__",Pt="__max__",Rt={mapValue:{fields:{__type__:{stringValue:Pt}}}},Ot="__vector__",Dt="value";function Lt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ct(e)?4:Xt(e)?9007199254740991:Yt(e)?10:11:A(28295,{value:e})}function Bt(e,t){if(e===t)return!0;const n=Lt(e);if(n!==Lt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nt(e).isEqual(Nt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vt(e.timestampValue),r=vt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xt(e.bytesValue).isEqual(xt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bt(e.geoPointValue.latitude)===bt(t.geoPointValue.latitude)&&bt(e.geoPointValue.longitude)===bt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bt(e.integerValue)===bt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bt(e.doubleValue),r=bt(t.doubleValue);return n===r?Pe(n)===Pe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],Bt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(at(n)!==at(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bt(n[i],r[i])))return!1;return!0}(e,t);default:return A(52216,{left:e})}}function Mt(e,t){return void 0!==(e.values||[]).find(e=>Bt(e,t))}function Ft(e,t){if(e===t)return 0;const n=Lt(e),r=Lt(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bt(e.integerValue||e.doubleValue),r=bt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zt(e.timestampValue,t.timestampValue);case 4:return zt(Nt(e),Nt(t));case 5:return Y(e.stringValue,t.stringValue);case 6:return function(e,t){const n=xt(e),r=xt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(bt(e.latitude),bt(t.latitude));return 0!==n?n:Q(bt(e.longitude),bt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ut(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Dt])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Dt])||void 0===r?void 0:r.arrayValue,u=Q((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ut(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Rt.mapValue&&t===Rt.mapValue)return 0;if(e===Rt.mapValue)return 1;if(t===Rt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Y(r[a],s[a]);if(0!==e)return e;const t=Ft(n[r[a]],i[s[a]]);if(0!==t)return t}return Q(r.length,s.length)}(e.mapValue,t.mapValue);default:throw A(23264,{le:n})}}function zt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=vt(e),r=vt(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function Ut(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ft(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function Vt(e){return $t(e)}function $t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vt(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return xt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return se.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$t(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${$t(e.fields[i])}`;return n+"}"}(e.mapValue):A(61005,{value:e})}function Ht(e){switch(Lt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_t(e);return t?16+Ht(t):16;case 5:return 2*e.stringValue.length;case 6:return xt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ht(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ot(e.fields,(e,n)=>{t+=e.length+Ht(n)}),t}(e.mapValue);default:throw A(13486,{value:e})}}function Wt(e){return!!e&&"integerValue"in e}function qt(e){return!!e&&"arrayValue"in e}function Kt(e){return!!e&&"nullValue"in e}function Gt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qt(e){return!!e&&"mapValue"in e}function Yt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[At])||void 0===n?void 0:n.stringValue)===Ot}function Jt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ot(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Jt(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Xt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Pt}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jt(t)}setAll(e){let t=ie.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Jt(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ot(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Zt(Jt(this.value))}}class en{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new en(e,0,ge.min(),ge.min(),ge.min(),Zt.empty(),0)}static newFoundDocument(e,t,n,r){return new en(e,1,t,ge.min(),n,r,0)}static newNoDocument(e,t){return new en(e,2,t,ge.min(),ge.min(),Zt.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,ge.min(),ge.min(),Zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tn{constructor(e,t){this.position=e,this.inclusive=t}}function nn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?se.comparator(se.fromName(a.referenceValue),n.key):Ft(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bt(e.position[n],t.position[n]))return!1;return!0}class sn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function an(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class on{}class ln extends on{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new gn(e,t,n):"array-contains"===t?new xn(e,n):"in"===t?new wn(e,n):"not-in"===t?new Sn(e,n):"array-contains-any"===t?new kn(e,n):new ln(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yn(e,n):new vn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ft(t,this.value)):null!==t&&Lt(this.value)===Lt(t)&&this.matchesComparison(Ft(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends on{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new cn(e,t)}matches(e){return un(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function un(e){return"and"===e.op}function dn(e){return hn(e)&&un(e)}function hn(e){for(const t of e.filters)if(t instanceof cn)return!1;return!0}function fn(e){if(e instanceof ln)return e.field.canonicalString()+e.op.toString()+Vt(e.value);if(dn(e))return e.filters.map(e=>fn(e)).join(",");{const t=e.filters.map(e=>fn(e)).join(",");return`${e.op}(${t})`}}function pn(e,t){return e instanceof ln?function(e,t){return t instanceof ln&&e.op===t.op&&e.field.isEqual(t.field)&&Bt(e.value,t.value)}(e,t):e instanceof cn?function(e,t){return t instanceof cn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&pn(n,t.filters[r]),!0)}(e,t):void A(19439)}function mn(e){return e instanceof ln?function(e){return`${e.field.canonicalString()} ${e.op} ${Vt(e.value)}`}(e):e instanceof cn?function(e){return e.op.toString()+" {"+e.getFilters().map(mn).join(" ,")+"}"}(e):"Filter"}class gn extends ln{constructor(e,t,n){super(e,t,n),this.key=se.fromName(n.referenceValue)}matches(e){const t=se.comparator(e.key,this.key);return this.matchesComparison(t)}}class yn extends ln{constructor(e,t){super(e,"in",t),this.keys=bn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vn extends ln{constructor(e,t){super(e,"not-in",t),this.keys=bn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>se.fromName(e.referenceValue))}class xn extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qt(t)&&Mt(t.arrayValue,this.value)}}class wn extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mt(this.value.arrayValue,t)}}class Sn extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Mt(this.value.arrayValue,t)}}class kn extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Mt(this.value.arrayValue,e))}}class En{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Pe=null}}function Cn(e){return new En(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function _n(e){const t=O(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>fn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ae(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Vt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Vt(e)).join(",")),t.Pe=e}return t.Pe}function Nn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!an(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rn(e.startAt,t.startAt)&&rn(e.endAt,t.endAt)}function Tn(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function In(e,t,n,r,i,s,a,o){return new jn(e,t,n,r,i,s,a,o)}function An(e){return new jn(e)}function Pn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rn(e){return null!==e.collectionGroup}function On(e){const t=O(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ht(ie.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new sn(r,n))}),e.has(ie.keyField().canonicalString())||t.Te.push(new sn(ie.keyField(),n))}return t.Te}function Dn(e){const t=O(e);return t.Ie||(t.Ie=Ln(t,On(e))),t.Ie}function Ln(e,t){if("F"===e.limitType)return Cn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new sn(e.field,t)});const n=e.endAt?new tn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tn(e.startAt.position,e.startAt.inclusive):null;return Cn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Bn(e,t,n){return new jn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mn(e,t){return Nn(Dn(e),Dn(t))&&e.limitType===t.limitType}function Fn(e){return`${_n(Dn(e))}|lt:${e.limitType}`}function zn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>mn(e)).join(", ")}]`),Ae(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Vt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Vt(e)).join(",")),`Target(${t})`}(Dn(e))}; limitType=${e.limitType})`}function Un(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):se.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of On(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=nn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,On(e),t))&&!(e.endAt&&!function(e,t,n){const r=nn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,On(e),t))}(e,t)}function Vn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $n(e){return(t,n)=>{let r=!1;for(const i of On(e)){const e=Hn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hn(e,t,n){const r=e.field.isKeyField()?se.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ft(r,i):A(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A(19790,{direction:e.dir})}}class Wn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ot(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return lt(this.inner)}size(){return this.innerSize}}const qn=new ct(se.comparator);function Kn(){return qn}const Gn=new ct(se.comparator);function Qn(){let e=Gn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Yn(e){let t=Gn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Jn(){return Zn()}function Xn(){return Zn()}function Zn(){return new Wn(e=>e.toString(),(e,t)=>e.isEqual(t))}new ct(se.comparator);const er=new ht(se.comparator);function tr(){let e=er;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const nr=new ht(Q);function rr(){return nr}function ir(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pe(t)?"-0":t}}function sr(e){return{integerValue:""+e}}class ar{constructor(){this._=void 0}}function or(e,t,n){return e instanceof ur?function(e,t){const n={fields:{[St]:{stringValue:wt},[Et]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ct(t)&&(t=_t(t)),t&&(n.fields[kt]=t),{mapValue:n}}(n,t):e instanceof dr?hr(e,t):e instanceof fr?pr(e,t):function(e,t){const n=cr(e,t),r=gr(n)+gr(e.Ee);return Wt(n)&&Wt(e.Ee)?sr(r):ir(e.serializer,r)}(e,t)}function lr(e,t,n){return e instanceof dr?hr(e,t):e instanceof fr?pr(e,t):n}function cr(e,t){return e instanceof mr?function(e){return Wt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ur extends ar{}class dr extends ar{constructor(e){super(),this.elements=e}}function hr(e,t){const n=yr(t);for(const r of e.elements)n.some(e=>Bt(e,r))||n.push(r);return{arrayValue:{values:n}}}class fr extends ar{constructor(e){super(),this.elements=e}}function pr(e,t){let n=yr(t);for(const r of e.elements)n=n.filter(e=>!Bt(e,r));return{arrayValue:{values:n}}}class mr extends ar{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function gr(e){return bt(e.integerValue||e.doubleValue)}function yr(e){return qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function br(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xr{}function wr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ir(e.key,vr.none()):new Cr(e.key,e.data,vr.none());{const n=e.data,r=Zt.empty();let i=new ht(ie.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new _r(e.key,r,new pt(i.toArray()),vr.none())}}function Sr(e,t,n){e instanceof Cr?function(e,t,n){const r=e.value.clone(),i=Tr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _r?function(e,t,n){if(!br(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Tr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kr(e,t,n,r){return e instanceof Cr?function(e,t,n,r){if(!br(e.precondition,t))return n;const i=e.value.clone(),s=jr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _r?function(e,t,n,r){if(!br(e.precondition,t))return n;const i=jr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Nr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return br(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Er(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof dr&&t instanceof dr||e instanceof fr&&t instanceof fr?Z(e.elements,t.elements,Bt):e instanceof mr&&t instanceof mr?Bt(e.Ee,t.Ee):e instanceof ur&&t instanceof ur}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cr extends xr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _r extends xr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Nr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Tr(e,t,n){const r=new Map;R(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,lr(a,o,n[i]))}return r}function jr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,or(e,s,t))}return r}class Ir extends xr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ar{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Sr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xn();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=wr(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ge.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(e,t)=>Er(e,t))&&Z(this.baseMutations,e.baseMutations,(e,t)=>Er(e,t))}}class Pr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Or,Dr;function Lr(e){if(void 0===e)return T("GRPC error has no .code"),D.UNKNOWN;switch(e){case Or.OK:return D.OK;case Or.CANCELLED:return D.CANCELLED;case Or.UNKNOWN:return D.UNKNOWN;case Or.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Or.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Or.INTERNAL:return D.INTERNAL;case Or.UNAVAILABLE:return D.UNAVAILABLE;case Or.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Or.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Or.NOT_FOUND:return D.NOT_FOUND;case Or.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Or.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Or.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Or.ABORTED:return D.ABORTED;case Or.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Or.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Or.DATA_LOSS:return D.DATA_LOSS;default:return A(39323,{code:e})}}(Dr=Or||(Or={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";let Br=null;const Mr=new r([4294967295,4294967295],0);function Fr(e){const t=K().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function zr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([s,a],0)]}class Ur{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vr(`Invalid padding: ${t}`);if(n<0)throw new Vr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Vr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Vr(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=r.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Mr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Fr(e),[n,r]=zr(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ur(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.fe)return;const t=Fr(e),[n,r]=zr(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $r{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Hr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $r(ge.min(),r,new ct(Q),Kn(),tr())}}class Hr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hr(n,t,tr(),tr(),tr())}}class Wr{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class qr{constructor(e,t){this.targetId=e,this.De=t}}class Kr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Gr{constructor(){this.ve=0,this.Ce=Jr(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tr(),t=tr(),n=tr();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A(38017,{changeType:i})}}),new Hr(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Jr()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,R(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Qr{constructor(e){this.We=e,this.Ge=new Map,this.ze=Kn(),this.je=Yr(),this.Je=Yr(),this.He=new ct(Q)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:A(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(Tn(i))if(0===n){const e=new se(i.path);this.Xe(t,e,en.newNoDocument(e,ge.min()))}else R(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Br||Br.ct(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=xt(n).toUint8Array()}catch(e){if(e instanceof mt)return j("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ur(s,r,i)}catch(e){return j(e instanceof Vr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&Tn(i.target)){const t=new se(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,en.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=tr();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new $r(e,t,this.He,this.ze,n);return this.ze=Kn(),this.je=Yr(),this.Je=Yr(),this.He=new ct(Q),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Gr,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ht(Q),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ht(Q),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||N("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Gr),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Yr(){return new ct(se.comparator)}function Jr(){return new ct(se.comparator)}const Xr={asc:"ASCENDING",desc:"DESCENDING"},Zr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ei={and:"AND",or:"OR"};class ti{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ni(e,t){return e.useProto3Json||Ae(t)?t:{value:t}}function ri(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ii(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function si(e){return R(!!e,49232),ge.fromTimestamp(function(e){const t=vt(e);return new me(t.seconds,t.nanos)}(e))}function ai(e,t){return oi(e,t).canonicalString()}function oi(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function li(e){const t=ne.fromString(e);return R(Ei(t),10190,{key:t.toString()}),t}function ci(e,t){const n=li(t);if(n.get(1)!==e.databaseId.projectId)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new se(fi(n))}function ui(e,t){return ai(e.databaseId,t)}function di(e){const t=li(e);return 4===t.length?ne.emptyPath():fi(t)}function hi(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fi(e){return R(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function pi(e,t){return{documents:[ui(e,t.path)]}}function mi(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ui(e,i);const s=function(e){if(0!==e.length)return ki(cn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:wi(e.field),direction:vi(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ni(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function gi(e){let t=di(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){R(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=yi(e);return t instanceof cn&&dn(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new sn(Si(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ae(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new tn(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new tn(n,t)}(n.endAt)),In(t,i,a,s,o,"F",l,c)}function yi(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Si(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Si(e.unaryFilter.field);return ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Si(e.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Si(e.unaryFilter.field);return ln.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return A(61313);default:return A(60726)}}(e):void 0!==e.fieldFilter?function(e){return ln.create(Si(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return A(58110);default:return A(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return cn.create(e.compositeFilter.filters.map(e=>yi(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A(1026)}}(e.compositeFilter.op))}(e):A(30097,{filter:e})}function vi(e){return Xr[e]}function bi(e){return Zr[e]}function xi(e){return ei[e]}function wi(e){return{fieldPath:e.canonicalString()}}function Si(e){return ie.fromServerFormat(e.fieldPath)}function ki(e){return e instanceof ln?function(e){if("=="===e.op){if(Gt(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NAN"}};if(Kt(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gt(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NOT_NAN"}};if(Kt(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(e.field),op:bi(e.op),value:e.value}}}(e):e instanceof cn?function(e){const t=e.getFilters().map(e=>ki(e));return 1===t.length?t[0]:{compositeFilter:{op:xi(e.op),filters:t}}}(e):A(54877,{filter:e})}function Ei(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ci{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ge.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ge.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _i{constructor(e){this.gt=e}}function Ni(e){const t=gi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bn(t,t.limit,"L"):t}class Ti{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(bt(e.integerValue));else if("doubleValue"in e){const n=bt(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Pe(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=vt(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(xt(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?Xt(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Yt(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):A(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const s=Dt,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(bt(a)),this.xt(s,t),this.Dt(i[s],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),se.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Ti.Ut=new Ti;class ji{constructor(){this.Dn=new Ii}addToCollectionParentIndex(e,t){return this.Dn.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(we.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(we.min())}updateCollectionGroup(e,t,n){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class Ii{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ht(ne.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ht(ne.comparator)).toArray()}}new Uint8Array(0);const Ai={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pi=41943040;class Ri{static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(Pi,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class Oi{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Oi(0)}static ur(){return new Oi(-1)}}const Di="LruGarbageCollector",Li=1048576;function Bi(e,t){let[n,r]=e,[i,s]=t;const a=Q(n,i);return 0===a?Q(r,s):a}class Mi{constructor(e){this.Tr=e,this.buffer=new ht(Bi),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Bi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fi{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){N(Di,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Te(e)?N(Di,"Ignoring IndexedDB error during garbage collection: ",e):await Ce(e)}await this.Rr(3e5)})}}class zi{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(je.ue);const n=new Mi(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(Ai)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ai):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),_()<=o.$b.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Ui(e,t){return new zi(e,t)}class Vi{constructor(){this.changes=new Wn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_e.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $i{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hi{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&kr(n.mutation,e,pt.empty(),me.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,tr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr();const r=Jn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Qn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Jn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,tr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Kn();const s=Zn(),a=Zn();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof _r)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),kr(a.mutation,t,a.mutation.getFieldMask(),me.now())):s.set(t.key,pt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new $i(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Zn();let r=new ct((e,t)=>e-t),i=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||pt.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||tr()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Xn();l.forEach(e=>{if(!i.has(e)){const r=wr(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return _e.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):_e.resolve(Jn());let a=ye,o=i;return s.next(t=>_e.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?_e.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,tr())).next(e=>({batchId:a,changes:Yn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(e=>{let t=Qn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Qn();return this.indexManager.getCollectionParents(e,i).next(a=>_e.forEach(a,a=>{const o=function(e,t){return new jn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,en.newInvalidDocument(r)))});let n=Qn();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&kr(s.mutation,r,pt.empty(),me.now()),Un(t,r)&&(n=n.insert(e,r))}),n})}}class Wi{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return _e.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:si(e.createTime)}}(t)),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Ni(e.bundledQuery),readTime:si(e.readTime)}}(t)),_e.resolve()}}class qi{constructor(){this.overlays=new ct(se.comparator),this.kr=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jn();return _e.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),_e.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),_e.resolve()}getOverlaysForCollection(e,t,n){const r=Jn(),i=t.length+1,s=new se(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return _e.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ct((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Jn(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return _e.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pr(t,n));let i=this.kr.get(t);void 0===i&&(i=tr(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class Ki{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_e.resolve()}}class Gi{constructor(){this.qr=new ht(Qi.Qr),this.$r=new ht(Qi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new Qi(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Qi(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new se(new ne([])),n=new Qi(t,e),r=new Qi(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new se(new ne([])),n=new Qi(t,e),r=new Qi(t,e+1);let i=tr();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Qi(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Qi{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return se.comparator(e.key,t.key)||Q(e.Hr,t.Hr)}static Ur(e,t){return Q(e.Hr,t.Hr)||se.comparator(e.key,t.key)}}class Yi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ht(Qi.Qr)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ar(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Yr=this.Yr.add(new Qi(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _e.resolve(s)}lookupMutationBatch(e,t){return _e.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return _e.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?Ie:this.er-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Qi(t,0),r=new Qi(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),_e.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ht(Q);return t.forEach(e=>{const t=new Qi(e,0),r=new Qi(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),_e.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;se.isDocumentKey(i)||(i=i.child(""));const s=new Qi(new se(i),0);let a=new ht(Q);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},s),_e.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){R(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return _e.forEach(t.mutations,r=>{const i=new Qi(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new Qi(t,0),r=this.Yr.firstAfterOrEqual(n);return _e.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ji{constructor(e){this.ni=e,this.docs=new ct(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _e.resolve(n?n.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let n=Kn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():en.newInvalidDocument(e))}),_e.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kn();const s=t.path,a=new se(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Se(xe(a),n)<=0||(r.has(a.key)||Un(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,t,n,r){A(9500)}ri(e,t){return _e.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Xi(this)}getSize(e){return _e.resolve(this.size)}}class Xi extends Vi{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),_e.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class Zi{constructor(e){this.persistence=e,this.ii=new Wn(e=>_n(e),Nn),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.si=0,this.oi=new Gi,this.targetCount=0,this._i=Oi.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),_e.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Oi(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.hr(t),_e.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),_e.waitFor(i).next(()=>r)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return _e.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),_e.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),_e.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return _e.resolve(n)}containsKey(e,t){return _e.resolve(this.oi.containsKey(t))}}class es{constructor(e,t){this.ai={},this.overlays={},this.ui=new je(0),this.ci=!1,this.ci=!0,this.li=new Ki,this.referenceDelegate=e(this),this.hi=new Zi(this),this.indexManager=new ji,this.remoteDocumentCache=function(e){return new Ji(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new _i(t),this.Ti=new Wi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new Yi(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){N("MemoryPersistence","Starting transaction:",e);const r=new ts(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return _e.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class ts extends Ee{constructor(e){super(),this.currentSequenceNumber=e}}class ns{constructor(e){this.persistence=e,this.Ai=new Gi,this.Ri=null}static Vi(e){return new ns(e)}get mi(){if(this.Ri)return this.Ri;throw A(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),_e.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.mi,n=>{const r=se.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,ge.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return _e.or([()=>_e.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class rs{constructor(e,t){this.persistence=e,this.gi=new Wn(e=>Oe(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ui(this,t)}static Vi(e,t){return new rs(e,t)}Ii(){}di(e){return _e.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return _e.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?_e.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ge.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),_e.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),_e.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),_e.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ht(e.data.value)),t}Sr(e,t,n){return _e.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return _e.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class is{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=tr(),r=tr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new is(e,t.fromCache,n,r)}}class ss{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class as{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,l.nr)()?8:Ne((0,l.ZQ)())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ss;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(_()<=o.$b.DEBUG&&N("QueryEngine","SDK will not create cache indexes for query:",zn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),_e.resolve()):(_()<=o.$b.DEBUG&&N("QueryEngine","Query:",zn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(_()<=o.$b.DEBUG&&N("QueryEngine","The SDK decides to create cache indexes for query:",zn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(t))):_e.resolve())}ps(e,t){if(Pn(t))return _e.resolve(null);let n=Dn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Bn(t,null,"F"),n=Dn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=tr(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ds(t,s,i,n.readTime)?this.ps(e,Bn(t,null,"F")):this.vs(e,s,t,n)}))})))}ys(e,t,n,r){return Pn(t)||r.isEqual(ge.min())?_e.resolve(null):this.gs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ds(t,s,n,r)?_e.resolve(null):(_()<=o.$b.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zn(t)),this.vs(e,s,t,be(r,ye)).next(e=>e))})}bs(e,t){let n=new ht($n(e));return t.forEach((t,r)=>{Un(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return _()<=o.$b.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",zn(t)),this.gs.getDocumentsMatchingQuery(e,t,we.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const os="LocalStore",ls=3e8;class cs{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ct(Q),this.Ms=new Wn(e=>_n(e),Nn),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hi(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function us(e,t,n,r){return new cs(e,t,n,r)}async function ds(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=tr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:s}))})})}function hs(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function fs(e,t,n){let r=tr(),i=tr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Kn();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ge.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):N(os,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ls:r,ks:i}})}function ps(e,t){const n=O(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,_e.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new Ci(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function ms(e,t,n){const r=O(e),i=r.Fs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Te(e))throw e;N(os,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function gs(e,t,n){const r=O(e);let i=ge.min(),s=tr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=O(e),i=r.Ms.get(n);return void 0!==i?_e.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,Dn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:ge.min(),n?s:tr())).next(e=>(ys(r,Vn(t),e),{documents:e,qs:s})))}function ys(e,t,n){let r=e.xs.get(t)||ge.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class vs{constructor(){this.activeTargetIds=rr()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bs{constructor(){this.Fo=new vs,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vs,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xs{xo(e){}shutdown(){}}const ws="ConnectivityMonitor";class Ss{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){N(ws,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){N(ws,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ks=null;function Es(){return null===ks?ks=268435456+Math.round(2147483648*Math.random()):ks++,"0x"+ks.toString(16)}const Cs="RestConnection",_s={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ns{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===jt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const s=Es(),a=this.Go(e,t.toUriEncodedString());N(Cs,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,i);const{host:c}=new URL(a),u=(0,l.zJ)(c);return this.jo(e,a,o,n,u).then(t=>(N(Cs,`Received RPC '${e}' ${s}: `,t),t),t=>{throw j(Cs,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=_s[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class Ts{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const js="WebChannelConnection";class Is extends Ns{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const s=Es();return new Promise((i,a)=>{const o=new d;o.setWithCredentials(!0),o.listenOnce(f.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case p.NO_ERROR:const t=o.getResponseJson();N(js,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case p.TIMEOUT:N(js,`RPC '${e}' ${s} timed out`),a(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=o.getStatus();if(N(js,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(t.status);a(new L(e,t.message))}else a(new L(D.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(D.UNAVAILABLE,"Connection failed."));break;default:A(9055,{c_:e,streamId:s,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{N(js,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);N(js,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Es(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=v(),a=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");N(js,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.T_(u);let d=!1,f=!1;const p=new Ts({Ho:t=>{f?N(js,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(N(js,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),N(js,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(u,h.EventType.OPEN,()=>{f||(N(js,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),b(u,h.EventType.CLOSE,()=>{f||(f=!0,N(js,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(u))}),b(u,h.EventType.ERROR,t=>{f||(f=!0,j(js,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.__(new L(D.UNAVAILABLE,"The operation could not be completed")))}),b(u,h.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];R(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){N(js,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Or[e];if(void 0!==t)return Lr(t)}(t),i=a.message;void 0===n&&(n=D.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.__(new L(n,i)),u.close()}else N(js,`RPC '${e}' stream ${r} received:`,i),p.a_(i)}}),b(a,g.STAT_EVENT,t=>{t.stat===m.PROXY?N(js,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===m.NOPROXY&&N(js,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function As(){return"undefined"!=typeof document?document:null}function Ps(e){return new ti(e,!0)}class Rs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&N("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Os="PersistentStream";class Ds{constructor(e,t,n,r,i,s,a,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Rs(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(T(t.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new L(D.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return N(Os,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(N(Os,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ls extends Ds{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(R(void 0===t||"string"==typeof t,58123),gt.fromBase64String(t||"")):(R(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),gt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?D.UNKNOWN:Lr(e.code);return new L(t,e.message||"")}(a);n=new Kr(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ci(e,r.document.name),s=si(r.document.updateTime),a=r.document.createTime?si(r.document.createTime):ge.min(),o=new Zt({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Wr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ci(e,r.document),s=r.readTime?si(r.readTime):ge.min(),a=en.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Wr([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ci(e,r.document),s=r.removedTargetIds||[];n=new Wr([],s,i,null)}else{if(!("filter"in t))return A(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Rr(r,i),a=e.targetId;n=new qr(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ge.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ge.min():t.readTime?si(t.readTime):ge.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=hi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Tn(r)?{documents:pi(e,r)}:{query:mi(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ii(e,t.resumeToken);const r=ni(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ge.min())>0){n.readTime=ri(e,t.snapshotVersion.toTimestamp());const r=ni(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return A(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=hi(this.serializer),t.removeTarget=e,this.k_(t)}}class Bs{}class Ms extends Bs{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Wo(e,oi(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Jo(e,oi(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Fs{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(T(t),this._a=!1):N("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const zs="RemoteStore";class Us{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Ys(this)&&(N(zs,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ia.add(4),await $s(t),t.Aa.set("Unknown"),t.Ia.delete(4),await Vs(t)}(this))})}),this.Aa=new Fs(n,r)}}async function Vs(e){if(Ys(e))for(const t of e.da)await t(!0)}async function $s(e){for(const t of e.da)await t(!1)}function Hs(e,t){const n=O(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Qs(n)?Gs(n):sa(n).x_()&&qs(n,t))}function Ws(e,t){const n=O(e),r=sa(n);n.Ta.delete(t),r.x_()&&Ks(n,t),0===n.Ta.size&&(r.x_()?r.B_():Ys(n)&&n.Aa.set("Unknown"))}function qs(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ge.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sa(e).H_(t)}function Ks(e,t){e.Ra.$e(t),sa(e).Y_(t)}function Gs(e){e.Ra=new Qr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),sa(e).start(),e.Aa.aa()}function Qs(e){return Ys(e)&&!sa(e).M_()&&e.Ta.size>0}function Ys(e){return 0===O(e).Ia.size}function Js(e){e.Ra=void 0}async function Xs(e){e.Aa.set("Online")}async function Zs(e){e.Ta.forEach((t,n)=>{qs(e,t)})}async function ea(e,t){Js(e),Qs(e)?(e.Aa.la(t),Gs(e)):e.Aa.set("Unknown")}async function ta(e,t,n){if(e.Aa.set("Online"),t instanceof Kr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){N(zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await na(e,n)}else if(t instanceof Wr?e.Ra.Ye(t):t instanceof qr?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ge.min()))try{const t=await hs(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(gt.EMPTY_BYTE_STRING,r.snapshotVersion)),Ks(e,t);const i=new Ci(r.target,t,n,r.sequenceNumber);qs(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){N(zs,"Failed to raise snapshot:",t),await na(e,t)}}async function na(e,t,n){if(!Te(t))throw t;e.Ia.add(1),await $s(e),e.Aa.set("Offline"),n||(n=()=>hs(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{N(zs,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await Vs(e)})}async function ra(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),N(zs,"RemoteStore received new credentials");const r=Ys(n);n.Ia.add(3),await $s(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Vs(n)}async function ia(e,t){const n=O(e);t?(n.Ia.delete(2),await Vs(n)):t||(n.Ia.add(2),await $s(n),n.Aa.set("Unknown"))}function sa(e){return e.Va||(e.Va=function(e,t,n){const r=O(e);return r.ia(),new Ls(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Xs.bind(null,e),e_:Zs.bind(null,e),n_:ea.bind(null,e),J_:ta.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Qs(e)?Gs(e):e.Aa.set("Unknown")):(await e.Va.stop(),Js(e))})),e.Va}class aa{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new aa(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oa(e,t){if(T("AsyncQueue",`${t}: ${e}`),Te(e))return new L(D.UNAVAILABLE,`${t}: ${e}`);throw e}class la{static emptySet(e){return new la(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||se.comparator(t.key,n.key):(e,t)=>se.comparator(e.key,t.key),this.keyedMap=Qn(),this.sortedSet=new ct(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof la))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new la;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ca{constructor(){this.fa=new ct(se.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):A(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class ua{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ua(e,t,la.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class da{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class ha{constructor(){this.queries=fa(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=fa(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new L(D.ABORTED,"Firestore shutting down"))}}function fa(){return new Wn(e=>Fn(e),Mn)}async function pa(e,t){const n=O(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.ba()&&(r=2):(s=new da,r=t.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=oa(e,`Initialization of query '${zn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.wa.push(t),t.va(n.onlineState),s.ya&&t.Ca(s.ya)&&va(n)}async function ma(e,t){const n=O(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.wa.indexOf(t);e>=0&&(s.wa.splice(e,1),0===s.wa.length?i=t.ba()?0:1:!s.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ga(e,t){const n=O(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&va(n)}function ya(e,t,n){const r=O(e),i=r.queries.get(t);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(t)}function va(e){e.Da.forEach(e=>{e.next()})}var ba,xa;(xa=ba||(ba={})).Fa="default",xa.Cache="cache";class wa{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ua(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ba.Cache}}class Sa{constructor(e){this.key=e}}class ka{constructor(e){this.key=e}}class Ea{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tr(),this.mutatedKeys=tr(),this.Xa=$n(e),this.eu=new la(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new ca,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Un(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:s,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==s.length||l?{snapshot:new ua(this.query,e.eu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ca,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tr(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new ka(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new Sa(n))}),t}uu(e){this.Ha=e.qs,this.Za=tr();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ua.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Ca="SyncEngine";class _a{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Na{constructor(e){this.key=e,this.lu=!1}}class Ta{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Wn(e=>Fn(e),Mn),this.Tu=new Map,this.Iu=new Set,this.du=new ct(se.comparator),this.Eu=new Map,this.Au=new Gi,this.Ru={},this.Vu=new Map,this.mu=Oi.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function ja(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qa(e);let i;const s=r.Pu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await Aa(r,t,n,!0),i}async function Ia(e,t){const n=qa(e);await Aa(n,t,!0,!1)}async function Aa(e,t,n,r){const i=await ps(e.localStore,Dn(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Pa(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Hs(e.remoteStore,i),o}async function Pa(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await gs(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return za(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const s=await gs(e.localStore,t,!0),a=new Ea(t,s.qs),o=a.nu(s.documents),l=Hr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);za(e,n,c._u);const u=new _a(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Ra(e,t,n){const r=O(e),i=r.Pu.get(t),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(e=>!Mn(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ms(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ws(r.remoteStore,i.targetId),Ma(r,i.targetId)}).catch(Ce)):(Ma(r,i.targetId),await ms(r.localStore,i.targetId,!0))}async function Oa(e,t){const n=O(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ws(n.remoteStore,r.targetId))}async function Da(e,t){const n=O(e);try{const e=await function(e,t){const n=O(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(gt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=ls||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.hi.updateTargetData(e,c))});let o=Kn(),l=tr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(fs(e,s,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!r.isEqual(ge.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return _e.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?R(r.lu,14607):e.removedDocuments.size>0&&(R(r.lu,42227),r.lu=!1))}),await $a(n,e,t)}catch(e){await Ce(e)}}function La(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&va(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ba(e,t,n){const r=O(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new ct(se.comparator);e=e.insert(s,en.newNoDocument(s,ge.min()));const n=tr().add(s),i=new $r(ge.min(),new Map,new ct(Q),e,n);await Da(r,i),r.du=r.du.remove(s),r.Eu.delete(t),Va(r)}else await ms(r.localStore,t,!1).then(()=>Ma(r,t,n)).catch(Ce)}function Ma(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Fa(e,t)})}function Fa(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Ws(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Va(e))}function za(e,t,n){for(const r of n)r instanceof Sa?(e.Au.addReference(r.key,t),Ua(e,r)):r instanceof ka?(N(Ca,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Fa(e,r.key)):A(19791,{yu:r})}function Ua(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(N(Ca,"New document in limbo: "+n),e.Iu.add(r),Va(e))}function Va(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new se(ne.fromString(t)),r=e.mu.next();e.Eu.set(r,new Na(n)),e.du=e.du.insert(n,r),Hs(e.remoteStore,new Ci(Dn(An(n.path)),r,"TargetPurposeLimboResolution",je.ue))}}async function $a(e,t,n){const r=O(e),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,o)=>{a.push(r.gu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=is.Es(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_e.forEach(t,t=>_e.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>_e.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Te(e))throw e;N(os,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,s))}async function Ha(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){N(Ca,"User change. New user:",t.toKey());const e=await ds(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new L(D.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $a(n,e.Bs)}}function Wa(e,t){const n=O(e),r=n.Eu.get(t);if(r&&r.lu)return tr().add(r.key);{let e=tr();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function qa(e){const t=O(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Da.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wa.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ba.bind(null,t),t.hu.J_=ga.bind(null,t.eventManager),t.hu.pu=ya.bind(null,t.eventManager),t}class Ka{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ps(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return us(this.persistence,new as,e.initialUser,this.serializer)}Du(e){return new es(ns.Vi,this.serializer)}bu(e){return new bs}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ka.provider={build:()=>new Ka};class Ga extends Ka{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){R(this.persistence.referenceDelegate instanceof rs,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fi(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new es(e=>rs.Vi(e,t),this.serializer)}}class Qa{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>La(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ha.bind(null,this.syncEngine),await ia(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ha}createDatastore(e){const t=Ps(e.databaseInfo.databaseId),n=function(e){return new Is(e)}(e.databaseInfo);return function(e,t,n,r){return new Ms(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Us(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>La(this.syncEngine,e,0),Ss.C()?new Ss:new xs)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Ta(e,t,n,r,i,s);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);N(zs,"RemoteStore shutting down."),t.Ia.add(5),await $s(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Qa.provider={build:()=>new Qa};class Ya{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):T("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Ja="FirestoreClient";class Xa{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{N(Ja,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(N(Ja,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=oa(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Za(e,t){e.asyncQueue.verifyOperationInProgress(),N(Ja,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ds(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{j("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{N("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{j("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function eo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await to(e);N(Ja,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>ra(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ra(t.remoteStore,n)),e._onlineComponents=t}async function to(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){N(Ja,"Using user provided OfflineComponentProvider");try{await Za(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;j("Error using user provided cache. Falling back to memory cache: "+n),await Za(e,new Ka)}}else N(Ja,"Using default OfflineComponentProvider"),await Za(e,new Ga(void 0));return e._offlineComponents}async function no(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(N(Ja,"Using user provided OnlineComponentProvider"),await eo(e,e._uninitializedComponentsProvider._online)):(N(Ja,"Using default OnlineComponentProvider"),await eo(e,new Qa))),e._onlineComponents}async function ro(e){const t=await no(e),n=t.eventManager;return n.onListen=ja.bind(null,t.syncEngine),n.onUnlisten=Ra.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ia.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Oa.bind(null,t.syncEngine),n}function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new B;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Ya({next:o=>{s.Ou(),t.enqueueAndForget(()=>ma(e,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new L(D.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new L(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new wa(An(n.path),s,{includeMetadataChanges:!0,ka:!0});return pa(e,a)}(await ro(e),e.asyncQueue,t,n,r)),r.promise}function so(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ao=new Map,oo="firestore.googleapis.com",lo=!0;class co{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oo,this.ssl=lo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:lo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Pi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Li)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=so(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new L(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new co({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new co(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new $(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ao.get(e);t&&(N("ComponentProvider","Removing Datastore"),ao.delete(e),t.terminate())}(this),Promise.resolve()}}class ho{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class fo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fo(this.firestore,e,this._key)}toJSON(){return{type:fo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(he(t,fo._jsonSchema))return new fo(e,n||null,new se(ne.fromString(t.referencePath)))}}fo._jsonSchemaVersion="firestore/documentReference/1.0",fo._jsonSchema={type:de("string",fo._jsonSchemaVersion),referencePath:de("string")};class po extends ho{constructor(e,t,n){super(e,t,An(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fo(this.firestore,null,new se(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function mo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=G.newId()),ae("doc","path",t),e instanceof uo){const n=ne.fromString(t,...r);return oe(n),new fo(e,null,new se(n))}{if(!(e instanceof fo||e instanceof po))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return oe(n),new fo(e.firestore,e instanceof po?e.converter:null,new se(n))}}const go="AsyncQueue";class yo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Rs(this,"async_queue_retry"),this.oc=()=>{const e=As();e&&N(go,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=As();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=As();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new B;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Te(e))throw e;N(go,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,T("INTERNAL UNHANDLED ERROR: ",vo(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=aa.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&A(47125,{hc:vo(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function vo(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class bo extends uo{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new yo,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yo(e),this._firestoreClient=void 0,await e}}}function xo(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||jt,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=ue(e,uo);const s=(0,l.zJ)(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;s&&((0,l.gE)(`https://${c}`),(0,l.P1)("Firestore",!0)),a.host!==oo&&a.host!==c&&j("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:r});if(!(0,l.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(s)}e._authCredentials=new z(new M(t,n))}}(i,...e)}return i}function wo(e){if(e._terminated)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||So(e),e._firestoreClient}function So(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Tt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,so(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Xa(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(gt.fromBase64String(e))}catch(e){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ko(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ko._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(he(e,ko._jsonSchema))return ko.fromBase64String(e.bytes)}}ko._jsonSchemaVersion="firestore/bytes/1.0",ko._jsonSchema={type:de("string",ko._jsonSchemaVersion),bytes:de("string")};class Eo{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Co{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Co._jsonSchemaVersion}}static fromJSON(e){if(he(e,Co._jsonSchema))return new Co(e.latitude,e.longitude)}}Co._jsonSchemaVersion="firestore/geoPoint/1.0",Co._jsonSchema={type:de("string",Co._jsonSchemaVersion),latitude:de("number"),longitude:de("number")};class _o{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_o._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(he(e,_o._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new _o(e.vectorValues);throw new L(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_o._jsonSchemaVersion="firestore/vectorValue/1.0",_o._jsonSchema={type:de("string",_o._jsonSchemaVersion),vectorValues:de("object")};const No=new RegExp("[~\\*/\\[\\]]");function To(e,t,n){if(t.search(No)>=0)throw jo(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Eo(...t.split("."))._internalPath}catch(r){throw jo(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jo(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new L(D.INVALID_ARGUMENT,o+e+l)}class Io{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ao(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Po("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ao extends Io{data(){return super.data()}}function Po(e,t){return"string"==typeof t?To(e,t):t instanceof Eo?t._internalPath:t._delegate._internalPath}class Ro{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Lt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw A(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ot(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Dt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>bt(e.doubleValue));return new _o(i)}convertGeoPoint(e){return new Co(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_t(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nt(e));default:return null}}convertTimestamp(e){const t=vt(e);return new me(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ne.fromString(e);R(Ei(n),9688,{name:e});const r=new It(n.get(1),n.get(3)),i=new se(n.popFirst(5));return r.isEqual(t)||T(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class Oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends Io{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Po("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Do._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:de("string",Do._jsonSchemaVersion),bundleSource:de("string","DocumentSnapshot"),bundleName:de("string"),bundle:de("string")};class Lo extends Do{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Bo{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Oo(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Lo(this._firestore,this._userDataWriter,n.key,n,new Oo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Lo(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Oo(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Lo(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Oo(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Mo(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mo(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A(61501,{type:e})}}function Fo(e){e=ue(e,fo);const t=ue(e.firestore,bo);return io(wo(t),e._key).then(n=>Uo(t,e,n))}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:de("string",Bo._jsonSchemaVersion),bundleSource:de("string","QuerySnapshot"),bundleName:de("string"),bundle:de("string")};class zo extends Ro{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fo(this.firestore,null,t)}}function Uo(e,t,n){const r=n.docs.get(t._key),i=new zo(e);return new Do(e,i,t._key,r,new Oo(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(s.MF),(0,s.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new bo(new U(e.getProvider("auth-internal")),new W(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new It(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(w,S,e),(0,s.KO)(w,S,"esm2017")}()},529:(e,t,n)=>{n.d(t,{cY:()=>p,FA:()=>R,g:()=>P,u:()=>o,Uj:()=>a,Fy:()=>y,tD:()=>U,bD:()=>L,hp:()=>z,T9:()=>h,Tj:()=>u,yU:()=>d,XA:()=>f,mS:()=>l,Ku:()=>H,ZQ:()=>w,sr:()=>C,zJ:()=>m,c1:()=>E,Im:()=>D,lT:()=>N,zW:()=>I,jZ:()=>S,lV:()=>_,nr:()=>T,Ov:()=>j,gE:()=>g,Am:()=>M,I9:()=>F,P1:()=>x,eX:()=>A});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function m(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function g(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}const v={};let b=!1;function x(e,t){if("undefined"===typeof window||"undefined"===typeof document||!m(window.location.host)||v[e]===t||v[e]||b)return;function n(e){return`__firebase__banner__${e}`}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function k(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function E(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function C(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){const e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return!k()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function A(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(O,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new P(n,s,t)}}const O=/\{\$([^}]+)}/g;function D(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(B(n)&&B(s)){if(!L(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B(e){return null!==e&&"object"===typeof e}function M(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function F(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function U(e,t){const n=new V(e,t);return n.subscribe.bind(n)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $(){}function H(e){return e&&e._delegate?e._delegate:e}},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},791:(e,t,n)=>{n.d(t,{auth:()=>l,db:()=>c,I:()=>u});var r=n(150);(0,r.KO)("firebase","11.10.0","app");var i=n(898),s=n(472),a=n(147);const o=(0,r.Wp)({apiKey:"AIzaSyB-111111111111111111111",authDomain:"swapin-b4770.firebaseapp.com",projectId:"swapin-b4770",storageBucket:"swapin-b4770.appspot.com",messagingSenderId:"101100000000000000000",appId:"1:101100000000000000000:web:101100000000000000000"}),l=(0,i.xI)(o),c=(0,s.aU)(o),u=(0,a.c7)(o)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},812:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>i});var r=n(529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var k,E=!1,C=-1,_=5,N=-1;function T(){return!!y||!(t.unstable_now()-N<_)}function j(){if(y=!1,E){var e=t.unstable_now();N=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),p=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof x)k=function(){x(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=j,k=function(){A.postMessage(null)}}else k=function(){v(j,0)};function P(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(C),C=-1):g=!0,P(S,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},898:(e,t,n)=>{n.d(t,{HF:()=>Xe,eJ:()=>ft,xI:()=>zn,hg:()=>mt,sendPasswordResetEmail:()=>ht,x9:()=>pt,df:()=>en,CI:()=>gt});var r=n(150),i=n(529),s=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new s.Vy("@firebase/auth");function h(e){if(d.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.error(`Auth (${r.MF}): ${e}`,...n)}}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw v(e,...n)}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e,...n)}function m(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function b(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw v(t,...r)}}function x(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||x(t)}function S(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function k(){return"http:"===E()||"https:"===E()}function E(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(k()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function _(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class N{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void x("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void x("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void x("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const T={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I=new C(3e4,6e4);function A(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function P(e,t,n,r){return R(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});const o=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),N.fetch()(await D(e,e.config.apiHost,n,o),c)})}async function R(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},T),t);try{const t=new B(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw M(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw M(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,o,a);f(e,o)}}catch(s){if(s instanceof i.g)throw s;f(e,"network-request-failed",{message:String(s)})}}async function O(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await P(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function D(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?_(e.config,i):`${e.config.apiScheme}://${i}`;if(j.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function L(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),I.get())})}}function M(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function F(e){return void 0!==e&&void 0!==e.enterprise}class z{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U(e,t){return P(e,"GET","/v2/recaptchaConfig",A(e,t))}async function V(e,t){return P(e,"POST","/v1/accounts:lookup",t)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function H(e){return 1e3*Number(e)}function W(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(s){return h("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function q(e){const t=W(e);return b(t,"internal-error"),b("undefined"!==typeof t.exp,"internal-error"),b("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function K(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Q{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Y(e){var t;const n=e.auth,r=await e.getIdToken(),i=await K(e,V(n,{idToken:r}));b(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?J(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Q(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function J(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b("undefined"!==typeof e.idToken,"internal-error"),b("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){b(0!==e.length,"internal-error");const t=q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(b(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await R(e,{},async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await D(e,r,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),N.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new X;return n&&(b("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(b("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(b("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return x("not implemented")}}function Z(e,t){b("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await K(this,this.stsTokenManager.getToken(this.auth,e));return b(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),s=W(r);b(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a="object"===typeof s.firebase?s.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:$(H(s.auth_time)),issuedAtTime:$(H(s.iat)),expirationTime:$(H(s.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await Y(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Y(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await K(this,async function(e,t){return P(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:k}=t;b(v&&k,e,"internal-error");const E=X.fromJSON(this.name,k);b("string"===typeof v,e,"internal-error"),Z(u,e.name),Z(d,e.name),b("boolean"===typeof x,e,"internal-error"),b("boolean"===typeof w,e,"internal-error"),Z(h,e.name),Z(f,e.name),Z(p,e.name),Z(m,e.name),Z(g,e.name),Z(y,e.name);const C=new ee({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(C.providerData=S.map(e=>Object.assign({},e))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new X;r.updateFromServerResponse(t);const i=new ee({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Y(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];b(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?J(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new X;a.updateFromIdToken(n);const o=new ee({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Q(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const te=new Map;function ne(e){w(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class re{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}re.type="NONE";const ie=re;function se(e,t,n){return`firebase:${e}:${t}:${n}`}class ae{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=se(this.userKey,r.apiKey,i),this.fullPersistenceKey=se("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await V(this.auth,{idToken:e}).catch(()=>{});return t?ee._fromGetAccountInfoResponse(this.auth,t,e):null}return ee._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ae(ne(ie),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ne(ie);const s=se(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await V(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ee._fromGetAccountInfoResponse(e,r,t)}else n=ee._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new ae(i,e,n)):new ae(i,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(de(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fe(t))return"Blackberry";if(pe(t))return"Webos";if(ce(t))return"Safari";if((t.includes("chrome/")||ue(t))&&!t.includes("edge/"))return"Chrome";if(he(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function ce(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return me(e)||he(e)||pe(e)||fe(e)||/windows phone/i.test(e)||de(e)}function ye(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,i.ZQ)());break;case"Worker":t=`${oe((0,i.ZQ)())}-${e}`;break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${r.MF}/${s}`}class ve{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class be{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xe{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Se(this),this.idTokenSubscription=new Se(this),this.beforeStateQueue=new ve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ne(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ae.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await V(this,{idToken:e}),n=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Y(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&b(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ne(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return P(e,"GET","/v2/passwordPolicy",A(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new be(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return P(e,"POST","/v2/accounts:revokeToken",A(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ne(e)||this._popupRedirectResolver;b(t,this,"argument-error"),this.redirectPersistenceManager=await ae.create(this,[ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(d.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];d.warn(`Auth (${r.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function we(e){return(0,i.Ku)(e)}class Se{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ke={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ee(e){return ke.loadJS(e)}function Ce(e){return`__${e}${Math.floor(1e6*Math.random())}`}class _e{constructor(){this.enterprise=new Ne}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ne{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Te="NO_RECAPTCHA";class je{constructor(e){this.type="recaptcha-enterprise",this.auth=we(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;F(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Te)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new _e).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{U(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new z(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&F(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ke.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Ee(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Ie(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new je(e);let a;if(i)a=Te;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ae(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ie(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Ie(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Ie(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Ie(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Ie(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Pe(e){const t=we(e),n=await U(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new z(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new je(t).verify()}}function Re(e,t,n){const r=we(e);b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Oe(t),{host:o,port:l}=function(e){const t=Oe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:De(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:De(t)}}}(t),c=null===l?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return b(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void b((0,i.bD)(u,r.config.emulator)&&(0,i.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,i.zJ)(o)?((0,i.gE)(`${a}//${o}${c}`),(0,i.P1)("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Oe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function De(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Le{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return x("not implemented")}_getIdTokenResponse(e){return x("not implemented")}_linkToIdToken(e,t){return x("not implemented")}_getReauthenticationResolver(e){return x("not implemented")}}async function Be(e,t){return P(e,"POST","/v1/accounts:signUp",t)}async function Me(e,t){return O(e,"POST","/v1/accounts:signInWithPassword",A(e,t))}async function Fe(e,t){return P(e,"POST","/v1/accounts:sendOobCode",A(e,t))}async function ze(e,t){return Fe(e,t)}class Ue extends Le{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ue(e,t,"password")}static _fromEmailAndCode(e,t){return new Ue(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ae(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Me,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ae(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Be,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ve(e,t){return O(e,"POST","/v1/accounts:signInWithIdp",A(e,t))}class $e extends Le{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $e(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new $e(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ve(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function He(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",A(e,t))}const We={USER_NOT_FOUND:"user-not-found"};class qe extends Le{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await O(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),We)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ke{constructor(e){var t,n,r,s,a,o;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);b(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ke(t)}catch(n){return null}}}class Ge{constructor(){this.providerId=Ge.PROVIDER_ID}static credential(e,t){return Ue._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ke.parseLink(t);return b(n,"argument-error"),Ue._fromEmailAndCode(e,n.code,n.tenantId)}}Ge.PROVIDER_ID="password",Ge.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ge.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ye extends Qe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Je extends Ye{constructor(){super("facebook.com")}static credential(e){return $e._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.FACEBOOK_SIGN_IN_METHOD="facebook.com",Je.PROVIDER_ID="facebook.com";class Xe extends Ye{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $e._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xe.credential(n,r)}catch(i){return null}}}Xe.GOOGLE_SIGN_IN_METHOD="google.com",Xe.PROVIDER_ID="google.com";class Ze extends Ye{constructor(){super("github.com")}static credential(e){return $e._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ze.credential(t.oauthAccessToken)}catch(n){return null}}}Ze.GITHUB_SIGN_IN_METHOD="github.com",Ze.PROVIDER_ID="github.com";class et extends Ye{constructor(){super("twitter.com")}static credential(e,t){return $e._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return et.credential(n,r)}catch(i){return null}}}async function tt(e,t){return O(e,"POST","/v1/accounts:signUp",A(e,t))}et.TWITTER_SIGN_IN_METHOD="twitter.com",et.PROVIDER_ID="twitter.com";class nt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ee._fromIdTokenResponse(e,n,r),s=rt(n);return new nt({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=rt(n);return new nt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function rt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class it extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,it.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new it(e,t,n,r)}}function st(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw it._fromErrorAndOperation(e,n,t,r);throw n})}async function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await K(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nt._forOperation(e,"link",r)}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const s="reauthenticate";try{const r=await K(e,st(i,s,t,e),n);b(r.idToken,i,"internal-error");const a=W(r.idToken);b(a,i,"internal-error");const{sub:o}=a;return b(e.uid===o,i,"user-mismatch"),nt._forOperation(e,s,r)}catch(a){throw"auth/user-not-found"===(null===a||void 0===a?void 0:a.code)&&f(i,"user-mismatch"),a}}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",s=await st(e,i,t),a=await nt._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function ct(e,t){return lt(we(e),t)}function ut(e,t,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),b("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),b("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function dt(e){const t=we(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ht(e,t,n){const r=we(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ut(r,i,n),await Ae(r,i,"getOobCode",ze,"EMAIL_PASSWORD_PROVIDER")}async function ft(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=we(e),s=Ae(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tt,"EMAIL_PASSWORD_PROVIDER"),a=await s.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dt(e),t}),o=await nt._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function pt(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):ct((0,i.Ku)(e),Ge.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dt(e),t})}function mt(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function gt(e){return(0,i.Ku)(e).signOut()}function yt(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",A(e,t))}new WeakMap;const vt="__sak";class bt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vt,"1"),this.storage.removeItem(vt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class xt extends bt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xt.type="LOCAL";const wt=xt;function St(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function kt(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Et{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=kt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return St(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=kt(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=kt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=St(n);const i=setInterval(()=>{const e=St(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Et.type="COOKIE";class Ct extends bt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ct.type="SESSION";const _t=Ct;class Nt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Nt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Nt.receivers=[];class jt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Tt("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function It(){return window}function At(){return"undefined"!==typeof It().WorkerGlobalScope&&"function"===typeof It().importScripts}const Pt="firebaseLocalStorageDb",Rt="firebaseLocalStorage",Ot="fbase_key";class Dt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lt(e,t){return e.transaction([Rt],t?"readwrite":"readonly").objectStore(Rt)}function Bt(){const e=indexedDB.open(Pt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Rt,{keyPath:Ot})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Rt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Pt);return new Dt(e).toPromise()}(),t(await Bt()))})})}async function Mt(e,t,n){const r=Lt(e,!0).put({[Ot]:t,value:n});return new Dt(r).toPromise()}function Ft(e,t){const n=Lt(e,!0).delete(t);return new Dt(n).toPromise()}class zt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Bt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return At()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nt._getInstance(At()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new jt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bt();return await Mt(e,vt,"1"),await Ft(e,vt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Lt(e,!1).get(t),r=await new Dt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ft(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Lt(e,!1).getAll();return new Dt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zt.type="LOCAL";const Ut=zt;function Vt(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",A(e,t))}Ce("rcb"),new C(3e4,6e4);const $t="recaptcha";async function Ht(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Pe(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){b("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Ae(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Te){b((null===n||void 0===n?void 0:n.type)===$t,e,"argument-error");return yt(e,await Wt(e,t,n))}return yt(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{b("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;b(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Ae(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Te){b((null===n||void 0===n?void 0:n.type)===$t,e,"argument-error");return Vt(e,await Wt(e,t,n))}return Vt(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ae(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Te){b((null===n||void 0===n?void 0:n.type)===$t,e,"argument-error");return He(e,await Wt(e,t,n))}return He(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Wt(e,t,n){b(n.type===$t,e,"argument-error");const r=await n.verify();b("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class qt{constructor(e){this.providerId=qt.PROVIDER_ID,this.auth=we(e)}verifyPhoneNumber(e,t){return Ht(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return qt.credentialFromTaggedObject(t)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qe._fromTokenResponse(n,r):null}}function Kt(e,t){return t?ne(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}qt.PROVIDER_ID="phone",qt.PHONE_SIGN_IN_METHOD="phone";class Gt extends Le{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ve(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ve(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ve(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qt(e){return lt(e.auth,new Gt(e),e.bypassAuthState)}function Yt(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),ot(n,new Gt(e),e.bypassAuthState)}async function Jt(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),at(n,new Gt(e),e.bypassAuthState)}class Xt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qt;case"linkViaPopup":case"linkViaRedirect":return Jt;case"reauthViaPopup":case"reauthViaRedirect":return Yt;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zt=new C(2e3,1e4);async function en(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(p(e,"operation-not-supported-in-this-environment"));const i=we(e);y(e,t,Qe);const s=Kt(i,n);return new tn(i,"signInViaPopup",t,s).executeNotNull()}class tn extends Xt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tn.currentPopupAction&&tn.currentPopupAction.cancel(),tn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return b(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=Tt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Zt.get())};e()}}tn.currentPopupAction=null;const nn=new Map;class rn extends Xt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=nn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=on(t),r=an(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}nn.set(this.auth._key(),e)}return this.bypassAuthState||nn.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function sn(e,t){nn.set(e._key(),t)}function an(e){return ne(e._redirectPersistence)}function on(e){return se("pendingRedirect",e.config.apiKey,e.name)}async function ln(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=we(e),s=Kt(i,t),a=new rn(i,s,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class cn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!dn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(un(e))}saveEventToCache(e){this.cachedEventUids.add(un(e)),this.lastProcessedEventTime=Date.now()}}function un(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function dn(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fn=/^https?/;async function pn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return P(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(mn(r))return}catch(n){}f(e,"unauthorized-domain")}function mn(e){const t=S(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!fn.test(n))return!1;if(hn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gn=new C(3e4,6e4);function yn(){const e=It().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function vn(e){return new Promise((t,n)=>{var r,i,s;function a(){yn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yn(),n(p(e,"network-request-failed"))},timeout:gn.get()})}if(null===(i=null===(r=It().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=It().gapi)||void 0===s?void 0:s.load)){const t=Ce("iframefcb");return It()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},Ee(`${ke.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw bn=null,e})}let bn=null;const xn=new C(5e3,15e3),wn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kn(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:r.MF},a=Sn.get(e.config.apiHost);a&&(s.eid=a);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${(0,i.Am)(s).slice(1)}`}async function En(e){const t=await function(e){return bn=bn||vn(e),bn}(e),n=It().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:kn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),s=It().setTimeout(()=>{r(i)},xn.get());function a(){It().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Cn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _n{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Nn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Cn),{width:r.toString(),height:s.toString(),top:a,left:o}),u=(0,i.ZQ)().toLowerCase();n&&(l=ue(u)?"_blank":n),le(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return me(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new _n(null);const h=window.open(t||"",l,d);b(h,e,"popup-blocked");try{h.focus()}catch(f){}return new _n(h)}const Tn="__/auth/handler",jn="emulator/auth/handler",In=encodeURIComponent("fac");async function An(e,t,n,s,a,o){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:a};if(t instanceof Qe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Ye){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?`#${In}=${encodeURIComponent(u)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Tn}`;return _(t,jn)}(e)}?${(0,i.Am)(c).slice(1)}${d}`}const Pn="webStorageSupport";const Rn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_t,this._completeRedirectFn=ln,this._overrideRedirectResult=sn}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Nn(e,await An(e,t,n,S(),r),Tt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){It().location.href=e}(await An(e,t,n,S(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await En(e),n=new cn(e);return t.register("authEvent",t=>{b(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pn,{type:Pn},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Pn];void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||ce()||me()}};var On="@firebase/auth",Dn="1.10.8";class Ln{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Bn=(0,i.XA)("authIdTokenMaxAge")||300;let Mn=null;const Fn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Bn)return;const i=null===n||void 0===n?void 0:n.token;Mn!==i&&(Mn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;f(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Rn,persistence:[Ut,wt,_t]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=Fn(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const a=(0,i.Tj)("auth");return a&&Re(n,`http://${a}`),n}var Un;ke={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Un="Browser",(0,r.om)(new o.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;b(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Un,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(Un)},c=new xe(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ne);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new o.uA("auth-internal",e=>(e=>new Ln(e))(we(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(On,Dn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Un)),(0,r.KO)(On,Dn,"esm2017")},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(43),i=n(391),s="popstate";function a(){return f(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:d(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?h(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l="POP",d=null,h=f();function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let e=f(),t=null==e?null:e-h;h=e,d&&d({action:l,location:y.location,delta:t})}function g(e){return p(e)}null==h&&(h=0,o.replaceState({...o.state,idx:h},""));let y={get action(){return l},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(s,m),d=e,()=>{i.removeEventListener(s,m),d=null}},createHref:e=>t(i,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=u(y.location,e,t);n&&n(r,e),h=f()+1;let s=c(r,h),p=y.createHref(r);try{o.pushState(s,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;i.location.assign(p)}a&&d&&d({action:l,location:y.location,delta:1})},replace:function(e,t){l="REPLACE";let r=u(y.location,e,t);n&&n(r,e),h=f();let i=c(r,h),s=y.createHref(r);o.replaceState(i,"",s),a&&d&&d({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),o(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:d(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function m(e,t){return g(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function g(e,t,n,r){let i=A(("string"===typeof t?h(t):t).pathname||"/",n);if(null==i)return null;let s=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=I(i);a=N(s[o],e,r)}return a}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=L([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of v(e.path))i(e,t,n);else i(e,t)}),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=v(r.join("/")),o=[];return o.push(...a.map(e=>""===e?s:[s,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var b=/^:[\w-]+$/,x=3,w=2,S=1,k=10,E=-2,C=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=E),t&&(r+=w),n.filter(e=>!C(e)).reduce((e,t)=>e+(b.test(t)?x:""===t?S:k),r)}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:L([s,u.pathname]),pathnameBase:B(L([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=L([s,u.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=j(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:a,pattern:e}}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e){let t=R(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function D(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=h(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),P("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),P("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),P("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:F(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var L=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var $=r.createContext(null);$.displayName="DataRouter";var H=r.createContext(null);H.displayName="DataRouterState";var W=r.createContext(!1);var q=r.createContext({isTransitioning:!1});q.displayName="ViewTransition";var K=r.createContext(new Map);K.displayName="Fetchers";var G=r.createContext(null);G.displayName="Await";var Q=r.createContext(null);Q.displayName="Navigation";var Y=r.createContext(null);Y.displayName="Location";var J=r.createContext({outlet:null,matches:[],isDataRoute:!1});J.displayName="Route";var X=r.createContext(null);X.displayName="RouteError";function Z(){return null!=r.useContext(Y)}function ee(){return o(Z(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(Y).location}var te="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ne(e){r.useContext(Q).static||r.useLayoutEffect(e)}function re(){let{isDataRoute:e}=r.useContext(J);return e?function(){let{router:e}=fe("useNavigate"),t=me("useNavigate"),n=r.useRef(!1);ne(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(n.current,te),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t]);return i}():function(){o(Z(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext($),{basename:t,navigator:n}=r.useContext(Q),{matches:i}=r.useContext(J),{pathname:s}=ee(),a=JSON.stringify(O(i)),c=r.useRef(!1);ne(()=>{c.current=!0});let u=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,te),!c.current)return;if("number"===typeof r)return void n.go(r);let o=D(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:L([t,o.pathname])),(i.replace?n.replace:n.push)(o,i.state,i)},[t,n,a,s,e]);return u}()}r.createContext(null);function ie(){let{matches:e}=r.useContext(J),t=e[e.length-1];return t?t.params:{}}function se(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(J),{pathname:i}=ee(),s=JSON.stringify(O(n));return r.useMemo(()=>D(e,JSON.parse(s),i,"path"===t),[e,s,i,t])}function ae(e,t,n,i){o(Z(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(Q),{matches:a}=r.useContext(J),c=a[a.length-1],u=c?c.params:{},d=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";ve(d,!p||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let g,y=ee();if(t){let e="string"===typeof t?h(t):t;o("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),g=e}else g=y;let v=g.pathname||"/",b=v;if("/"!==f){let e=f.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=m(e,{pathname:b});l(p||null!=x,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),l(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=de(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([f,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:L([f,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,i);return t&&w?r.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function oe(){let e=ge(),t=z(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var le=r.createElement(oe,null),ce=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ue(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext($);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},i)}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,s=n?.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){a=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((e,o,c)=>{let u,d=!1,h=null,f=null;n&&(u=s&&o.route.id?s[o.route.id]:void 0,h=o.route.errorElement||le,a&&(l<0&&0===c?(ve("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=o.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?h:d?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(ue,{match:o,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?r.createElement(ce,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function he(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fe(e){let t=r.useContext($);return o(t,he(e)),t}function pe(e){let t=r.useContext(H);return o(t,he(e)),t}function me(e){let t=function(e){let t=r.useContext(J);return o(t,he(e)),t}(e),n=t.matches[t.matches.length-1];return o(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ge(){let e=r.useContext(X),t=pe("useRouteError"),n=me("useRouteError");return void 0!==e?e:t.errors?.[n]}var ye={};function ve(e,t,n){t||ye[e]||(ye[e]=!0,l(!1,n))}var be={};function xe(e,t){e||be[t]||(be[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r}=e;return ae(t,void 0,r,n)});function we(e){let{to:t,replace:n,state:i,relative:s}=e;o(Z(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(Q);l(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=r.useContext(J),{pathname:u}=ee(),d=re(),h=D(t,O(c),u,"path"===s),f=JSON.stringify(h);return r.useEffect(()=>{d(JSON.parse(f),{replace:n,state:i,relative:s})},[d,f,s,n,i]),null}function Se(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ke(e){let{basename:t="/",children:n=null,location:i,navigationType:s="POP",navigator:a,static:c=!1}=e;o(!Z(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:u,navigator:a,static:c,future:{}}),[u,a,c]);"string"===typeof i&&(i=h(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=r.useMemo(()=>{let e=A(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:s}},[u,f,p,m,g,y,s]);return l(null!=v,`<Router basename="${u}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:r.createElement(Q.Provider,{value:d},r.createElement(Y.Provider,{children:n,value:v}))}function Ee(e){let{children:t,location:n}=e;return ae(Ce(t),n)}r.Component;function Ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Ce(e.props.children,s));o(e.type===Se,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ce(e.props.children,s)),n.push(a)}),n}var _e="get",Ne="application/x-www-form-urlencoded";function Te(e){return null!=e&&"string"===typeof e.tagName}var je=null;var Ie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ae(e){return null==e||Ie.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ne}"`),null)}function Pe(e,t){let n,r,i,s,a;if(Te(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?A(a,t):null,n=e.getAttribute("method")||_e,i=Ae(e.getAttribute("enctype"))||Ne,s=new FormData(e)}else if(function(e){return Te(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Te(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?A(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||_e,i=Ae(e.getAttribute("formenctype"))||Ae(a.getAttribute("enctype"))||Ne,s=new FormData(a,e),!function(){if(null===je)try{new FormData(document.createElement("form"),0),je=!1}catch(e){je=!0}return je}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Te(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_e,r=null,i=Ne,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Re(e){return{__html:e}}function Oe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function De(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===A(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Le(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Be(e){return null!=e&&"string"===typeof e.page}function Me(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Fe(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function ze(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Ue(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Be(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Ve(e,t){return"lazy"===e.mode&&!0===t}function $e(){let e=r.useContext($);return Oe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function He(){let e=r.useContext(H);return Oe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var We=r.createContext(void 0);function qe(){let e=r.useContext(We);return Oe(e,"You must render this element inside a <HydratedRouter> element"),e}function Ke(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ge(e,t,n){if(n&&!Xe)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}We.displayName="FrameworkContext";function Qe(e){let{page:t,...n}=e,{router:i}=$e(),s=r.useMemo(()=>m(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?r.createElement(Je,{page:t,matches:s,...n}):null}function Ye(e){let{manifest:t,routeModules:n}=qe(),[i,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Ue((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Le(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Me).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),i}function Je(e){let{page:t,matches:n,...i}=e,s=ee(),{manifest:a,routeModules:o}=qe(),{basename:l}=$e(),{loaderData:c,matches:u}=He(),d=r.useMemo(()=>Fe(t,n,u,a,s,"data"),[t,n,u,a,s]),h=r.useMemo(()=>Fe(t,n,u,a,s,"assets"),[t,n,u,a,s]),f=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!d.some(e=>e.route.id===t.route.id)&&t.route.id in c&&o[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=De(t,l,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[l,c,s,a,d,n,t,o]),p=r.useMemo(()=>ze(h,a),[h,a]),m=Ye(h);return r.createElement(r.Fragment,null,f.map(e=>r.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i})),p.map(e=>r.createElement("link",{key:e,rel:"modulepreload",href:e,...i})),m.map(e=>{let{key:t,link:n}=e;return r.createElement("link",{key:t,...n})}))}var Xe=!1;function Ze(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:o}=qe(),{router:l,static:c,staticContext:u}=$e(),{matches:d}=He(),h=r.useContext(W),f=Ve(a,o);s&&(s.didRenderScripts=!0);let p=Ge(d,null,i);r.useEffect(()=>{Xe=!0},[]);let g=r.useMemo(()=>{if(h)return null;let i=u?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=c?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${f?"":`import ${JSON.stringify(t.url)}`};\n${p.map((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];Oe(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${r} = {${u.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${f?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push(`/${s.join("/")}`),s.pop();a.forEach(e=>{let n=m(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let o=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return{...r,routes:o,sri:!!n||void 0}}(t,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return r.createElement(r.Fragment,null,r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Re(i),type:void 0}),r.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Re(s),type:"module",async:!0}))},[]),y=Xe||h?[]:(v=t.entry.imports.concat(ze(p,t,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let b="object"===typeof t.sri?t.sri:{};return xe(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Xe||h?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,f?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),y.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0})),g)}function et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function tt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(z(t))return r.createElement(nt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(nt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function nt(e){let{title:t,renderScripts:n,isOutsideRemixApp:i,children:s}=e,{routeModules:a}=qe();return a.root?.Layout&&!i?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,t)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,n?r.createElement(Ze,null):null)))}var rt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{rt&&(window.__reactRouterVersion="7.7.0")}catch(er){}function it(e){let{basename:t,children:n,window:i}=e,s=r.useRef();null==s.current&&(s.current=a({window:i,v5Compat:!0}));let o=s.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback(e=>{r.startTransition(()=>c(e))},[c]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.createElement(ke,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var st=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=r.forwardRef(function(e,t){let n,{onClick:i,discover:s="render",prefetch:a="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=e,{basename:b}=r.useContext(Q),x="string"===typeof m&&st.test(m),w=!1;if("string"===typeof m&&x&&(n=m,rt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=A(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(er){l(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(Z(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(Q),{hash:s,pathname:a,search:l}=se(e,{relative:t}),c=a;return"/"!==n&&(c="/"===a?n:L([n,a])),i.createHref({pathname:c,search:l,hash:s})}(m,{relative:c}),[k,E,C]=function(e,t){let n=r.useContext(We),[i,s]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:Ke(l,p),onBlur:Ke(c,m),onMouseEnter:Ke(u,p),onMouseLeave:Ke(d,m),onTouchStart:Ke(h,p)}]:[!1,f,{}]}(a,v),_=function(e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=ee(),u=se(e,{relative:a});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:d(c)===d(u);l(e,{replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,t,e,s,a,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:c,viewTransition:y});let N=r.createElement("a",{...v,...C,href:n||S,onClick:w||u?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:et(t,E),target:p,"data-discover":x||"render"!==s?void 0:"true"});return k&&!x?r.createElement(r.Fragment,null,N,r.createElement(Qe,{page:S})):N});at.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:d,...h}=e,f=se(c,{relative:h.relative}),p=ee(),m=r.useContext(H),{navigator:g,basename:y}=r.useContext(Q),v=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(q);o(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ct("useViewTransitionState"),s=se(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=A(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=A(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=T(s.pathname,l)||null!=T(s.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=A(w,y)||w);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,E=x===b||!a&&x.startsWith(b)&&"/"===x.charAt(S),C=null!=w&&(w===b||!a&&w.startsWith(b)&&"/"===w.charAt(b.length)),_={isActive:E,isPending:C,isTransitioning:v},N=E?n:void 0;k="function"===typeof s?s(_):[s,E?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let j="function"===typeof l?l(_):l;return r.createElement(at,{...h,"aria-current":N,className:k,ref:t,style:j,to:c,viewTransition:u},"function"===typeof d?d(_):d)}).displayName="NavLink";var ot=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:u=_e,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=e,v=ht(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(Q),i=r.useContext(J);o(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...se(e||".",{relative:t})},l=ee();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:L([n,a.pathname]));return d(a)}(h,{relative:p}),x="get"===u.toLowerCase()?"get":"post",w="string"===typeof h&&st.test(h);return r.createElement("form",{ref:t,method:x,action:b,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":w||"render"!==n?void 0:"true"})});function lt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ct(e){let t=r.useContext($);return o(t,lt(e)),t}ot.displayName="Form";var ut=0,dt=()=>`__${String(++ut)}__`;function ht(){let{router:e}=ct("useSubmit"),{basename:t}=r.useContext(Q),n=me("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=Pe(r,t);if(!1===i.navigate){let t=i.fetcherKey||dt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var ft=n(791),pt=n(898),mt=n(579);const gt=(0,r.createContext)(),yt=()=>{const e=(0,r.useContext)(gt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};async function vt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=ft.auth.currentUser;if(!r)throw new Error("Not logged in");const i=await r.getIdToken(),s=await fetch(`https://us-central1-swapin-b4770.cloudfunctions.net/${e}`,{method:t,headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:"POST"===t?JSON.stringify(n):void 0});if(!s.ok)throw new Error(await s.text());return await s.json()}const bt=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=(0,pt.hg)(ft.auth,e=>{i(e),a(!1)});return e},[]);const o={user:n,signup:(e,t)=>(0,pt.eJ)(ft.auth,e,t),login:(e,t)=>(0,pt.x9)(ft.auth,e,t),logout:()=>(0,pt.CI)(ft.auth),googleLogin:async()=>{try{const t=new pt.HF,n=await(0,pt.df)(ft.auth,t);console.log("Google login successful:",n.user);try{await vt("createUserProfile","POST",{}),console.log("User profile created/updated successfully")}catch(e){console.error("Error creating user profile:",e)}return n}catch(e){throw console.error("Google login error:",e),e}},callBackendFunction:vt};return(0,mt.jsx)(gt.Provider,{value:o,children:!s&&t})},xt=(0,r.createContext)(),wt=()=>{const e=(0,r.useContext)(xt);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},St=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]),s=e=>{i(t=>t.filter(t=>t.id!==e))},a={toasts:n,showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=Date.now(),a={id:r,message:e,type:t,duration:n};i(e=>[...e,a]),setTimeout(()=>{s(r)},n)},removeToast:s};return(0,mt.jsxs)(xt.Provider,{value:a,children:[t,(0,mt.jsx)(kt,{})]})},kt=()=>{const{toasts:e,removeToast:t}=wt();return(0,mt.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>(0,mt.jsx)("div",{className:"px-4 py-3 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 "+("success"===e.type?"bg-green-500 text-white":"error"===e.type?"bg-red-500 text-white":"warning"===e.type?"bg-yellow-500 text-white":"bg-blue-500 text-white"),children:(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsx)("span",{className:"text-sm font-medium",children:e.message}),(0,mt.jsx)("button",{onClick:()=>t(e.id),className:"ml-4 text-white hover:text-gray-200",children:"\xd7"})]})},e.id))})},Et=(0,r.createContext)(),Ct=()=>{const e=(0,r.useContext)(Et);if(!e)throw new Error("useCart must be used within a CartProvider");return e};function _t(){return(0,mt.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:[(0,mt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 1s linear infinite"},children:[(0,mt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,mt.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),(0,mt.jsx)("style",{children:"@keyframes spin { 100% { transform: rotate(360deg); } }"})]})}const Nt=e=>{let{children:t}=e;const{user:n}=yt(),{showToast:i}=wt(),[s,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{l(!0),u(null);try{if(n){const e=await vt("getCart","GET");a(e)}else{const e=localStorage.getItem("swapin_cart");a(e?JSON.parse(e):[])}}catch(c){console.error("Error loading cart:",c),u("Failed to load cart data")}l(!1)})()},[n]),(0,r.useEffect)(()=>{if(!n)try{localStorage.setItem("swapin_cart",JSON.stringify(s))}catch(c){console.error("Error saving cart to localStorage:",c),u("Failed to save cart data")}},[s,n]);const d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l(!0),u(null);try{if(n){await vt("addToCart","POST",{itemId:e.id,quantity:t}),i("Added to cart!","success");const n=await vt("getCart","GET");a(n)}else a(n=>n.find(t=>t.id===e.id)?n.map(n=>n.id===e.id?{...n,quantity:n.quantity+t}:n):[...n,{...e,quantity:t}]),i("Added to cart!","success")}catch(c){console.error("Error adding item to cart:",c),u("Failed to add item to cart"),i("Failed to add to cart","error")}l(!1)},h=async e=>{l(!0),u(null);try{if(n){await vt("removeFromCart","POST",{itemId:e}),i("Removed from cart.","info");const t=await vt("getCart","GET");a(t)}else a(t=>t.filter(t=>t.id!==e)),i("Removed from cart.","info")}catch(c){console.error("Error removing item from cart:",c),u("Failed to remove item from cart"),i("Failed to remove from cart","error")}l(!1)},f=async(e,t)=>{l(!0),u(null);try{if(n){if(t<=0)return void await h(e);await vt("addToCart","POST",{itemId:e,quantity:t}),i("Cart updated!","success");const n=await vt("getCart","GET");a(n)}else{if(t<=0)return void h(e);a(n=>n.map(n=>n.id===e?{...n,quantity:t}:n)),i("Cart updated!","success")}}catch(c){console.error("Error updating item quantity:",c),u("Failed to update item quantity"),i("Failed to update cart","error")}l(!1)},p=async()=>{l(!0),u(null);try{if(n){const e=await vt("getCart","GET");for(const t of e)await vt("removeFromCart","POST",{itemId:t.itemId||t.id});a([]),i("Cart cleared.","info")}else a([]),i("Cart cleared.","info")}catch(c){console.error("Error clearing cart:",c),u("Failed to clear cart"),i("Failed to clear cart","error")}l(!1)},m=()=>s.reduce((e,t)=>e+t.quantity,0);return(0,mt.jsxs)(Et.Provider,{value:{cartItems:s,isLoading:o,error:c,addToCart:d,removeFromCart:h,updateQuantity:f,clearCart:p,getCartItemsCount:m},children:[o&&(0,mt.jsx)("div",{style:{position:"fixed",top:80,right:30,zIndex:9999},children:(0,mt.jsx)(_t,{})}),t]})};var Tt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jt=r.createContext&&r.createContext(Tt),It=["attr","size","title"];function At(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(this,arguments)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach(function(t){Dt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){return e&&e.map((e,t)=>r.createElement(e.tag,Ot({key:t},e.attr),Lt(e.child)))}function Bt(e){return t=>r.createElement(Mt,Pt({attr:Ot({},e.attr)},t),Lt(e.child))}function Mt(e){var t=t=>{var n,{attr:i,size:s,title:a}=e,o=At(e,It),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Pt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:n,style:Ot(Ot({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==jt?r.createElement(jt.Consumer,null,e=>t(e)):t(Tt)}function Ft(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function zt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Ut(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Vt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function $t(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Ht(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Wt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function qt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Kt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Gt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function Qt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Yt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function Jt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Xt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Zt(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function en(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function tn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function nn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function rn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function sn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function an(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function on(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ln(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function cn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function un(e){return Bt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function dn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function hn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function fn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function pn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function mn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function gn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function yn(e){return Bt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const vn=["Mobile Phones","Laptops","Tablets","Headphones","Speakers","Smart Watches","Televisions","Refrigerators","Washing Machines","Microwave Ovens","Air Conditioners","Fans","Heaters","Water Purifiers","Vacuum Cleaners","Mixers & Grinders","Juicers","Toasters","Coffee Makers","Induction Cooktops","Gas Stoves","Chairs","Sofas","Beds","Mattresses","Dining Tables","Study Tables","Wardrobes","Bookshelves","Shoe Racks","TV Units","Paint","Suitcase","Carpet","Curtains","Blankets","Pillows","Bedsheets","Towels","Clocks","Mirrors","Wall Art","Decor Items","Vases","Planters","Artificial Plants","Candles","Photo Frames","Storage Boxes","Laundry Baskets","Ironing Boards","Bicycles","Scooters","Motorcycles","Cars","Tyres","Car Accessories","Bike Accessories","Helmets","Sports Shoes","Casual Shoes","Sandals","Slippers","Formal Shoes","Boots","Sneakers","Backpacks","Handbags","Wallets","Belts","Caps","Hats","Sunglasses","Watches","Jewellery","Rings","Necklaces","Earrings","Bracelets","Bangles","Anklets","Makeup","Perfumes","Deodorants","Shampoos","Conditioners","Soaps","Body Wash","Face Wash","Moisturizers","Sunscreen","Toothpaste","Toothbrushes","Shaving Razors","Shaving Cream","Hair Dryers","Hair Straighteners","Combs","Brushes","Nail Clippers","Scissors","First Aid Kits","Thermometers","Blood Pressure Monitors","Glucometers","Wheelchairs","Crutches","Walkers","Stethoscopes","Books","Novels","Textbooks","Comics","Magazines","Notebooks","Pens","Pencils","Markers","Highlighters","Erasers","Sharpeners","Rulers","Calculators","School Bags","Lunch Boxes","Water Bottles","Tiffin Boxes","Stationery Sets","Art Supplies","Paint Brushes","Colors","Sketch Pens","Crayons","Drawing Books","Craft Paper","Glue","Scissors (Craft)","Stickers","Toys","Board Games","Puzzles","Action Figures","Dolls","Soft Toys","Remote Control Toys","Building Blocks","Educational Toys","Musical Toys","Baby Strollers","Baby Carriers","Baby Cots","Baby Chairs","Baby Bottles","Baby Clothes","Baby Shoes","Diapers","Wipes","Feeding Bottles","Sippers","Pacifiers","Baby Blankets","Baby Towels","Baby Bath Tubs","Baby Monitors","Baby Gates","Baby Safety Locks","Baby Swings","Baby Walkers","Baby Play Gyms","Baby Rattles","Baby Teethers","Baby Spoons","Baby Plates","Baby Bowls","Baby Food Makers","Baby Thermometers","Baby Nail Clippers","Baby Toothbrushes","Baby Shampoo","Baby Soap","Baby Lotion","Baby Oil","Baby Powder","Baby Cream","Baby Wipes","Baby Diaper Bags","Baby Changing Mats","Baby Potty Seats","Baby Step Stools","Baby Bath Seats","Baby Bath Toys","Baby Bath Thermometers","Baby Bath Sponges","Baby Bath Towels","Baby Bath Robes","Baby Bath Mats","Baby Bath Brushes","Baby Bath Washcloths","Baby Bath Mitts","Baby Bath Aprons","Baby Bath Caps","Baby Bath Shoes","Baby Bath Slippers","Baby Bath Sandals","Baby Bath Boots","Baby Bath Socks","Baby Bath Gloves","Baby Bath Hats","Baby Bath Scarves","Baby Bath Bibs","Baby Bath Blankets","Baby Bath Quilts","Baby Bath Comforters","Baby Bath Pillows","Baby Bath Cushions","Baby Bath Mattresses","Baby Bath Sheets","Baby Bath Covers","Baby Bath Bags","Baby Bath Pouches","Baby Bath Cases","Baby Bath Boxes","Baby Bath Baskets","Baby Bath Buckets","Baby Bath Basins","Baby Bath Bowls","Baby Bath Cups","Baby Bath Mugs","Baby Bath Jugs","Baby Bath Bottles","Baby Bath Flasks","Baby Bath Tumblers","Baby Bath Glasses","Baby Bath Plates","Baby Bath Spoons","Baby Bath Forks","Baby Bath Knives","Baby Bath Chopsticks","Baby Bath Straws","Baby Bath Brushes (Feeding)","Baby Bath Cleaners","Baby Bath Sterilizers","Baby Bath Warmers","Baby Bath Coolers","Baby Bath Heaters","Baby Bath Fans","Baby Bath Air Purifiers","Baby Bath Humidifiers","Baby Bath Dehumidifiers","Baby Bath Air Conditioners","Baby Bath Air Coolers","Baby Bath Air Heaters","Baby Bath Air Blowers","Baby Bath Air Circulators","Baby Bath Air Fresheners","Baby Bath Air Cleaners","Baby Bath Air Filters","Baby Bath Air Purifiers (Room)","Baby Bath Air Purifiers (Car)","Baby Bath Air Purifiers (Desk)","Baby Bath Air Purifiers (Portable)","Baby Bath Air Purifiers (Mini)","Baby Bath Air Purifiers (Large)","Baby Bath Air Purifiers (Small)","Baby Bath Air Purifiers (Medium)","Baby Bath Air Purifiers (Extra Large)","Other"],bn=e=>{let{searchValue:t,onSearchChange:n}=e;const{user:i,logout:s}=yt(),a=re(),[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),{getCartItemsCount:d}=Ct(),h=d(),[f,p]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e;const t=async()=>{if(i)try{const e=(await vt("getNotifications","GET")).filter(e=>!e.isRead).length;p(e)}catch(er){p(0)}else p(0)};return t(),e=setInterval(t,1e4),()=>clearInterval(e)},[i]);const[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)(-1),w=(0,r.useRef)(),[S,k]=(0,r.useState)([]);(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{if(!t)return g([]),v(!1),void x(-1);const e=[...vn.filter(e=>e.toLowerCase().includes(t.toLowerCase())),...S.filter(e=>e.toLowerCase().includes(t.toLowerCase()))].slice(0,10);g(e),v(e.length>0),x(-1)},[t,S]);const E=e=>{e.preventDefault(),t.trim()&&(a(`/browse?search=${encodeURIComponent(t)}`),u(!1),v(!1))},C=e=>{n(e),a(`/browse?search=${encodeURIComponent(e)}`),v(!1)},_=()=>{l(!o)},N=async()=>{try{await s(),a("/login"),l(!1)}catch(e){console.error("Logout error:",e)}};return(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)("header",{className:"hidden md:block bg-white shadow-lg border-b border-gray-200 sticky top-0 z-40",children:(0,mt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mt.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,mt.jsx)(at,{to:"/",className:"flex items-center",children:(0,mt.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:"SWAPIN"})}),(0,mt.jsxs)("div",{className:"flex-1 max-w-md mx-8 relative",children:[(0,mt.jsxs)("form",{onSubmit:E,className:"relative",children:[(0,mt.jsx)("input",{ref:w,type:"text",value:t,onChange:e=>n(e.target.value),onFocus:()=>v(m.length>0),onKeyDown:e=>{y&&("ArrowDown"===e.key?x(e=>Math.min(e+1,m.length-1)):"ArrowUp"===e.key?x(e=>Math.max(e-1,0)):"Enter"===e.key?b>=0&&b<m.length&&(C(m[b]),e.preventDefault()):"Escape"===e.key&&v(!1))},placeholder:"Search by keyword or category...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoComplete:"off","aria-autocomplete":"list","aria-controls":"search-suggestions","aria-activedescendant":b>=0?`suggestion-${b}`:void 0}),(0,mt.jsx)(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),y&&(0,mt.jsx)("ul",{className:"absolute z-50 left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-60 overflow-auto",id:"search-suggestions",role:"listbox",children:m.map((e,t)=>(0,mt.jsx)("li",{id:`suggestion-${t}`,className:"px-4 py-2 cursor-pointer "+(b===t?"bg-primary-100":""),onMouseDown:()=>C(e),role:"option","aria-selected":b===t,children:(0,mt.jsx)("span",{className:"suggestion-label",children:e})},e))})]}),(0,mt.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,mt.jsx)(at,{to:"/browse",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Browse"}),(0,mt.jsx)(at,{to:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"About"}),(0,mt.jsx)(at,{to:"/list",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Sell"}),(0,mt.jsxs)(at,{to:"/cart",className:"relative text-gray-700 hover:text-primary-600 transition-colors",children:[(0,mt.jsx)(un,{size:20}),h>0&&(0,mt.jsx)("span",{className:"absolute -top-2 -right-2 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h})]}),i?(0,mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mt.jsx)(at,{to:"/wishlist",className:"relative text-gray-700 hover:text-primary-600 transition-colors",children:(0,mt.jsx)(Jt,{size:20})}),(0,mt.jsxs)(at,{to:"/notifications",className:"relative text-gray-700 hover:text-primary-600 transition-colors",children:[(0,mt.jsx)(Ut,{size:20}),f>0&&(0,mt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f})]}),(0,mt.jsxs)("div",{className:"relative group",children:[(0,mt.jsxs)("button",{className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[(0,mt.jsx)("img",{src:i.photoURL||`https://ui-avatars.com/api/?name=${i.email}&background=random`,alt:"Profile",className:"w-8 h-8 rounded-full"}),(0,mt.jsx)("span",{className:"text-sm font-medium",children:i.displayName||"Profile"})]}),(0,mt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,mt.jsxs)("div",{className:"py-2",children:[(0,mt.jsxs)(at,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,mt.jsx)(gn,{className:"mr-3"}),"My Profile"]}),(0,mt.jsxs)(at,{to:"/my-listings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,mt.jsx)(en,{className:"mr-3"}),"My Listings"]}),(0,mt.jsxs)(at,{to:"/wishlist",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,mt.jsx)(Jt,{className:"mr-3"}),"Wishlist"]}),(0,mt.jsxs)(at,{to:"/notifications",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,mt.jsx)(Ut,{className:"mr-3"}),"Notifications"]}),(0,mt.jsxs)(at,{to:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,mt.jsx)(Wt,{className:"mr-3"}),"Settings"]}),(0,mt.jsx)("hr",{className:"my-2"}),(0,mt.jsx)("button",{onClick:N,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Logout"})]})})]})]}):(0,mt.jsx)(at,{to:"/login",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Sign In"})]})]})})}),(0,mt.jsxs)("header",{className:"md:hidden bg-white shadow-lg border-b border-gray-200 sticky top-0 z-40",children:[(0,mt.jsxs)("div",{className:"px-4 py-3",children:[(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsx)(at,{to:"/",className:"text-xl font-bold text-primary-600",children:"SWAPIN"}),(0,mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mt.jsx)("button",{onClick:()=>u(!c),className:"text-gray-700 hover:text-primary-600",children:(0,mt.jsx)(on,{size:20})}),(0,mt.jsxs)(at,{to:"/cart",className:"relative text-gray-700 hover:text-primary-600",children:[(0,mt.jsx)(un,{size:20}),h>0&&(0,mt.jsx)("span",{className:"absolute -top-2 -right-2 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h})]}),(0,mt.jsx)("button",{onClick:_,className:"text-gray-700 hover:text-primary-600",children:(0,mt.jsx)(zt,{size:20})})]})]}),c&&(0,mt.jsx)("div",{className:"mt-3",children:(0,mt.jsxs)("form",{onSubmit:E,className:"relative",children:[(0,mt.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"Search items...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,mt.jsx)(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),o&&(0,mt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,mt.jsx)("div",{className:"fixed right-0 top-0 h-full w-64 bg-white shadow-lg",children:(0,mt.jsxs)("div",{className:"p-4",children:[(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mt.jsx)("span",{className:"text-lg font-semibold",children:"Menu"}),(0,mt.jsx)("button",{onClick:_,className:"text-gray-500 hover:text-gray-700",children:(0,mt.jsx)(fn,{size:20})})]}),i?(0,mt.jsxs)("div",{className:"space-y-4",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,mt.jsx)("img",{src:i.photoURL||`https://ui-avatars.com/api/?name=${i.email}&background=random`,alt:"Profile",className:"w-10 h-10 rounded-full"}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("p",{className:"font-medium text-gray-900",children:i.displayName||"User"}),(0,mt.jsx)("p",{className:"text-sm text-gray-500",children:i.email})]})]}),(0,mt.jsxs)("nav",{className:"space-y-2",children:[(0,mt.jsxs)(at,{to:"/browse",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(hn,{className:"mr-3"}),"Browse"]}),(0,mt.jsxs)(at,{to:"/about",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(Zt,{className:"mr-3"}),"About"]}),(0,mt.jsxs)(at,{to:"/list",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(hn,{className:"mr-3"}),"Sell Item"]}),(0,mt.jsxs)(at,{to:"/profile",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(gn,{className:"mr-3"}),"My Profile"]}),(0,mt.jsxs)(at,{to:"/my-listings",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(en,{className:"mr-3"}),"My Listings"]}),(0,mt.jsxs)(at,{to:"/wishlist",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(Jt,{className:"mr-3"}),"Wishlist"]}),(0,mt.jsxs)(at,{to:"/notifications",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(Ut,{className:"mr-3"}),"Notifications",f>0&&(0,mt.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:f})]}),(0,mt.jsxs)(at,{to:"/settings",onClick:_,className:"flex items-center px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:[(0,mt.jsx)(Wt,{className:"mr-3"}),"Settings"]}),(0,mt.jsx)("hr",{className:"my-4"}),(0,mt.jsx)("button",{onClick:N,className:"flex items-center w-full px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:"Logout"})]})]}):(0,mt.jsxs)("div",{className:"space-y-4",children:[(0,mt.jsx)(at,{to:"/login",onClick:_,className:"block w-full bg-primary-600 text-white text-center py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Sign In"}),(0,mt.jsx)(at,{to:"/signup",onClick:_,className:"block w-full border border-primary-600 text-primary-600 text-center py-2 rounded-lg hover:bg-primary-50 transition-colors",children:"Sign Up"})]})]})})})]})]})};function xn(e){let{children:t,onClick:n,variant:r="primary",fullWidth:i=!1,disabled:s=!1,loading:a=!1,size:o="medium",type:l="button",className:c="",...u}=e;return(0,mt.jsx)("button",{className:(()=>{let e="button";return"premium"===r?e+=" premium":"secondary"===r?e+=" secondary":"danger"===r?e+=" danger":"success"===r?e+=" success":"primary"===r&&(e+=" primary"),i&&(e+=" full-width"),(s||a)&&(e+=" disabled"),"small"===o?e+=" small":"large"===o&&(e+=" large"),`${e} ${c}`.trim()})(),onClick:e=>{if(s||a)e.preventDefault();else if(n)try{n(e)}catch(t){console.error("Button onClick error:",t)}},disabled:s||a,type:l,"aria-disabled":s||a,...u,children:a?(0,mt.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,mt.jsx)("span",{className:"loading-spinner-small"}),"Loading..."]}):t})}function wn(){return(0,mt.jsx)("span",{className:"swap-symbol",title:"Swap Offer",style:{marginRight:8,verticalAlign:"middle"},children:(0,mt.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mt.jsx)("path",{d:"M7 18l-3 3 3 3",stroke:"#a259f7",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,mt.jsx)("path",{d:"M4 21h13a5 5 0 0 0 5-5V4",stroke:"#a259f7",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,mt.jsx)("path",{d:"M21 10l3-3-3-3",stroke:"#ff914d",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,mt.jsx)("path",{d:"M24 7H11a5 5 0 0 0-5 5v12",stroke:"#ff914d",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}function Sn(e){var t;let{item:n,isOwn:i,onAddToCart:s,onOfferExchange:a,onOfferFullPrice:o}=e;const l=re(),{addToCart:c,cartItems:u}=Ct(),{user:d}=yt(),{showToast:h}=wt(),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),b=n.badges||[],[x,w]=(0,r.useState)(n.reviews||[]),[S,k]=(0,r.useState)(!1),[E,C]=(0,r.useState)(""),[_,N]=(0,r.useState)(5),[T,j]=(0,r.useState)(!1),[I,A]=(0,r.useState)(!1),[P,R]=(0,r.useState)(!1),[O,D]=(0,r.useState)(null),L=u.some(e=>e.id===n.id),B=u.find(e=>e.id===n.id);(0,r.useEffect)(()=>{(async()=>{if(d&&n&&n.id){try{j(!0),D(null);const e=await vt("getWishlist","GET");R(e.some(e=>e.itemId===n.id))}catch(er){D("Failed to check wishlist")}j(!1)}})()},[d,n&&n.id]);return(0,mt.jsxs)("div",{className:"card item-card",style:{cursor:"pointer"},onClick:()=>l(`/product/${n.id}`),children:[(0,mt.jsx)("div",{className:"item-badges",children:b.map(e=>(0,mt.jsx)("span",{className:`item-badge ${e}`,children:e},e))}),(0,mt.jsx)("button",{className:"heart-btn"+(P?" liked":""),onClick:P?async e=>{if(e.stopPropagation(),d){j(!0),D(null);try{await vt("removeFromWishlist","POST",{itemId:n.id}),R(!1),A(!0),setTimeout(()=>A(!1),1500),h("Removed from wishlist.","info")}catch(e){D("Failed to remove from wishlist"),h("Failed to remove from wishlist","error")}j(!1)}else h("Please log in to use wishlist.","error")}:async e=>{if(e.stopPropagation(),d){j(!0),D(null);try{await vt("addToWishlist","POST",{itemId:n.id}),R(!0),A(!0),setTimeout(()=>A(!1),1500),h("Added to wishlist!","success")}catch(e){D("Failed to add to wishlist"),h("Failed to add to wishlist","error")}j(!1)}else h("Please log in to use wishlist.","error")},"aria-label":P?"Remove from wishlist":"Add to wishlist",style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"50%",width:"36px",height:"36px",cursor:T?"wait":"pointer",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s"},disabled:T,children:P?"\u2764\ufe0f":"\ud83e\udd0d"}),I&&(0,mt.jsx)("div",{style:{position:"absolute",top:"10%",right:"10%",background:"#22a06b",color:"#fff",padding:"4px 10px",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600",zIndex:10,animation:"fadeInUp 0.3s ease"},children:P?"Added to wishlist!":"Removed from wishlist!"}),O&&(0,mt.jsx)("div",{style:{position:"absolute",top:"10%",right:"10%",background:"#c00",color:"#fff",padding:"4px 10px",borderRadius:"8px",fontSize:"0.8rem",fontWeight:"600",zIndex:10},children:O}),y&&(0,mt.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#22a06b",color:"#fff",padding:"8px 16px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",zIndex:10,animation:"fadeInUp 0.3s ease"},children:"Added to cart!"}),(0,mt.jsx)("img",{src:n.image||"https://via.placeholder.com/80x80?text=No+Image",alt:n.name,className:"item-image",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/80x80?text=No+Image"}}),(0,mt.jsxs)("div",{className:"item-details",children:[(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,mt.jsx)("div",{className:"item-title",children:n.name}),a&&(0,mt.jsx)(wn,{})]}),n.category&&(0,mt.jsxs)("div",{style:{fontSize:"0.95em",color:"#a259f7",fontWeight:600,marginBottom:2},children:["Category: ",n.category.charAt(0).toUpperCase()+n.category.slice(1)]}),(0,mt.jsx)("div",{className:"item-description",children:n.description&&n.description.length>100?`${n.description.substring(0,100)}...`:n.description}),(0,mt.jsxs)("div",{className:"item-price",children:["\u20b9",null===(t=n.price)||void 0===t?void 0:t.toLocaleString()]}),(0,mt.jsxs)("div",{className:"actions",style:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"12px"},children:[!i&&(0,mt.jsxs)(mt.Fragment,{children:[L?(0,mt.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:(0,mt.jsxs)(xn,{variant:"success",onClick:()=>{l("/cart")},style:{flex:1},children:["In Cart (",null===B||void 0===B?void 0:B.quantity,") - View Cart"]})}):(0,mt.jsx)(xn,{onClick:async()=>{try{g(!0),await c(n,1),v(!0),setTimeout(()=>v(!1),2e3),s&&s(n),h("Added to cart!","success")}catch(e){console.error("Error adding to cart:",e),alert("Failed to add item to cart. Please try again."),h("Failed to add item to cart","error")}finally{g(!1)}},loading:m,disabled:m,style:{flex:1},children:"Add to Cart"}),(0,mt.jsx)(xn,{variant:"premium",onClick:()=>{o&&(o(n),l("/delivery"))},style:{flex:1},children:"Buy Now"}),a&&(0,mt.jsxs)(xn,{variant:"secondary",onClick:()=>{a&&(a(n),l("/exchange"))},style:{flex:1},children:[(0,mt.jsx)(wn,{}),"Exchange"]})]}),i&&(0,mt.jsx)("span",{className:"item-own",style:{color:"#22a06b",fontWeight:600,fontSize:"0.9rem",padding:"8px 12px",background:"#f0f9f4",borderRadius:"8px",border:"1px solid #22a06b"},children:"Your item"})]})]}),x.length>0&&(0,mt.jsxs)("div",{className:"reviews-section",children:[(0,mt.jsxs)("div",{className:"reviews-header",children:[(0,mt.jsxs)("span",{children:["Reviews (",x.length,")"]}),(0,mt.jsx)("button",{onClick:()=>k(!S),style:{background:"none",border:"none",color:"#a259f7",cursor:"pointer",fontSize:"0.9rem",fontWeight:600},children:S?"Cancel":"Add Review"})]}),S&&(0,mt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E.trim()&&(w([...x,{user:"You",rating:_,comment:E,date:(new Date).toLocaleDateString()}]),C(""),N(5),k(!1))},className:"review-form",children:[(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,mt.jsx)("label",{children:"Rating:"}),(0,mt.jsx)("select",{value:_,onChange:e=>N(Number(e.target.value)),children:[5,4,3,2,1].map(e=>(0,mt.jsxs)("option",{value:e,children:["\u2605".repeat(e)," (",e,")"]},e))})]}),(0,mt.jsx)("textarea",{value:E,onChange:e=>C(e.target.value),placeholder:"Write your review...",rows:"3",required:!0}),(0,mt.jsx)(xn,{type:"submit",size:"small",children:"Submit Review"})]}),(0,mt.jsxs)("div",{className:"reviews-list",children:[x.slice(0,3).map((e,t)=>(0,mt.jsxs)("div",{className:"review-item",children:[(0,mt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,mt.jsx)("span",{className:"review-user",children:e.user}),(0,mt.jsx)("span",{className:"review-date",children:e.date})]}),(0,mt.jsx)("div",{className:"review-rating",children:"\u2605".repeat(e.rating)}),(0,mt.jsx)("div",{className:"review-comment",children:e.comment})]},t)),0===x.length&&(0,mt.jsx)("div",{className:"no-reviews",children:"No reviews yet. Be the first to review!"})]})]})]})}function kn(e){let{userItems:t,onAddToCart:n,onOfferExchange:i,onOfferFullPrice:s,search:a,searchCategory:o}=e;const[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null),p=t&&t.length>0;(0,r.useEffect)(()=>{!async function(){d(!0),f(null);try{const e={};a&&(e.q=a),o&&(e.category=o);const t=await vt("searchItems","GET",e);c(t)}catch(er){f("Failed to load items")}d(!1)}()},[a,o]);const m=l.filter(e=>e.featured),g=l.filter(e=>!e.featured);return(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)("section",{className:"welcome-section",children:(0,mt.jsxs)("div",{className:"welcome-content",children:[(0,mt.jsx)("h1",{className:"welcome-title",children:"Welcome to SWAPIN"}),(0,mt.jsx)("p",{className:"welcome-desc",children:"Barter, swap, or sell your items with trust. Enjoy modern, secure, and smart product matching with delivery tracking."})]})}),(0,mt.jsx)("div",{className:"browse-container",children:u?(0,mt.jsxs)("div",{className:"loading-container",children:[(0,mt.jsx)("div",{className:"loading-spinner"}),(0,mt.jsx)("p",{children:"Loading items..."})]}):h?(0,mt.jsx)("div",{className:"loading-container",style:{color:"#c00"},children:h}):(0,mt.jsxs)(mt.Fragment,{children:[m.length>0&&(0,mt.jsxs)("section",{className:"featured-section",children:[(0,mt.jsx)("div",{className:"featured-title",children:"\ud83d\udd25 Featured Items"}),(0,mt.jsx)("div",{className:"featured-items",children:m.map(e=>(0,mt.jsx)(Sn,{item:e,isOwn:"me"===e.owner,onAddToCart:p||"me"===e.owner?void 0:n,onOfferExchange:p&&"me"!==e.owner?i:void 0,onOfferFullPrice:p&&"me"!==e.owner?s:void 0},e.id))})]}),(0,mt.jsxs)("section",{className:"all-items-section",children:[(0,mt.jsxs)("div",{className:"section-header",children:[(0,mt.jsx)("h2",{children:"Browse All Items"}),(0,mt.jsx)("p",{children:"Find something you want? Buy or swap instantly."})]}),0===g.length?(0,mt.jsxs)("div",{className:"empty-state",children:[(0,mt.jsx)("div",{className:"empty-icon",children:"\ud83d\udce6"}),(0,mt.jsx)("h3",{children:"No items found"}),(0,mt.jsx)("p",{children:"Try adjusting your search or check back later for new items."})]}):(0,mt.jsx)("div",{className:"items-grid",children:g.map(e=>(0,mt.jsx)(Sn,{item:e,isOwn:"me"===e.owner,onAddToCart:p||"me"===e.owner?void 0:n,onOfferExchange:p&&"me"!==e.owner?i:void 0,onOfferFullPrice:p&&"me"!==e.owner?s:void 0},e.id))})]})]})})]})}function En(){const e=re(),{cartItems:t,updateQuantity:n,removeFromCart:i,getCartTotal:s,clearCart:a,isLoading:o,error:l}=Ct(),[c,u]=(0,r.useState)(!1),d=async(e,t)=>{try{t<1?await i(e):await n(e,t)}catch(l){console.error("Error updating quantity:",l)}},h=()=>{e("/browse")},f=s(),p=t.reduce((e,t)=>e+t.quantity,0);return l?(0,mt.jsx)("div",{style:{maxWidth:800,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:32,textAlign:"center"},children:[(0,mt.jsx)("div",{style:{fontSize:"2rem",marginBottom:16,color:"#ff4d6d"},children:"\u26a0\ufe0f"}),(0,mt.jsx)("h2",{style:{color:"#ff4d6d",marginBottom:16},children:"Error Loading Cart"}),(0,mt.jsx)("p",{style:{color:"#666",marginBottom:24},children:l}),(0,mt.jsx)(xn,{onClick:()=>window.location.reload(),children:"Retry"})]})}):(0,mt.jsx)("div",{style:{maxWidth:800,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:32},children:[(0,mt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[(0,mt.jsxs)("h2",{style:{fontWeight:800,fontSize:28,color:"#232F3E",margin:0},children:["Your Cart (",p," ",1===p?"item":"items",")"]}),t.length>0&&(0,mt.jsx)(xn,{variant:"danger",size:"small",onClick:async()=>{if(window.confirm("Are you sure you want to clear your cart?"))try{await a()}catch(l){console.error("Error clearing cart:",l)}},disabled:o,children:"Clear Cart"})]}),0===t.length?(0,mt.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px"},children:[(0,mt.jsx)("div",{style:{fontSize:"4rem",marginBottom:16},children:"\ud83d\uded2"}),(0,mt.jsx)("h3",{style:{color:"#232F3E",marginBottom:8,fontSize:"1.5rem"},children:"Your cart is empty"}),(0,mt.jsx)("p",{style:{color:"#666",marginBottom:32,fontSize:"1.1rem"},children:"Add some amazing items to get started!"}),(0,mt.jsx)(xn,{variant:"premium",size:"large",onClick:h,children:"Browse Items"})]}):(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)("div",{style:{marginBottom:32},children:t.map(e=>(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"20px 0",borderBottom:"1px solid #eee",gap:20},children:[(0,mt.jsx)("img",{src:e.image||"https://via.placeholder.com/100x100?text=No+Image",alt:e.name,style:{width:100,height:100,borderRadius:12,objectFit:"cover",border:"2px solid #e0e7ff"},onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/100x100?text=No+Image"}}),(0,mt.jsxs)("div",{style:{flex:1},children:[(0,mt.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#232F3E",fontSize:"1.2rem",fontWeight:700},children:e.name}),e.category&&(0,mt.jsx)("p",{style:{margin:"0 0 8px 0",color:"#a259f7",fontSize:"0.9rem",fontWeight:600},children:e.category}),e.description&&(0,mt.jsx)("p",{style:{margin:"0 0 8px 0",color:"#666",fontSize:"0.95rem"},children:e.description.length>100?`${e.description.substring(0,100)}...`:e.description}),(0,mt.jsxs)("p",{style:{margin:0,color:"#FFD814",fontWeight:700,fontSize:"1.1rem"},children:["\u20b9",e.price," each"]})]}),(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,mt.jsx)("button",{onClick:()=>d(e.id,e.quantity-1),disabled:o||e.quantity<=1,style:{width:36,height:36,borderRadius:"50%",border:"2px solid #ddd",background:e.quantity<=1?"#f5f5f5":"#fff",cursor:e.quantity<=1?"not-allowed":"pointer",fontSize:"18px",fontWeight:"bold",color:e.quantity<=1?"#ccc":"#232F3E",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:"\u2212"}),(0,mt.jsx)("span",{style:{minWidth:40,textAlign:"center",fontWeight:700,fontSize:"1.1rem",color:"#232F3E"},children:e.quantity}),(0,mt.jsx)("button",{onClick:()=>d(e.id,e.quantity+1),disabled:o,style:{width:36,height:36,borderRadius:"50%",border:"2px solid #ddd",background:"#fff",cursor:"pointer",fontSize:"18px",fontWeight:"bold",color:"#232F3E",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:"+"})]}),(0,mt.jsxs)("div",{style:{textAlign:"right",minWidth:100},children:[(0,mt.jsxs)("p",{style:{margin:"0 0 8px 0",fontWeight:700,color:"#232F3E",fontSize:"1.2rem"},children:["\u20b9",e.price*e.quantity]}),(0,mt.jsx)(xn,{variant:"danger",size:"small",onClick:()=>(async e=>{try{await i(e)}catch(l){console.error("Error removing item:",l)}})(e.id),disabled:o,children:"Remove"})]})]},e.id))}),(0,mt.jsxs)("div",{style:{borderTop:"2px solid #eee",paddingTop:24,marginTop:24},children:[(0,mt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:32},children:[(0,mt.jsxs)("div",{children:[(0,mt.jsxs)("h3",{style:{margin:"0 0 4px 0",color:"#232F3E",fontSize:"1.3rem"},children:["Subtotal (",p," ",1===p?"item":"items","):"]}),(0,mt.jsx)("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:"Shipping and taxes calculated at checkout"})]}),(0,mt.jsxs)("h3",{style:{margin:0,color:"#FFD814",fontWeight:900,fontSize:"1.8rem"},children:["\u20b9",f.toLocaleString()]})]}),(0,mt.jsxs)("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[(0,mt.jsx)(xn,{variant:"secondary",style:{flex:1,minWidth:"200px"},onClick:h,disabled:o,children:"Continue Shopping"}),(0,mt.jsx)(xn,{variant:"premium",style:{flex:1,minWidth:"200px"},onClick:async()=>{try{u(!0),await new Promise(e=>setTimeout(e,1e3)),e("/delivery")}catch(l){console.error("Error proceeding to checkout:",l)}finally{u(!1)}},loading:c,disabled:o,children:"Proceed to Checkout"})]})]})]})]})})}function Cn(e){let{onSubmit:t,onBack:n,initialData:i={}}=e;const[s,a]=(0,r.useState)({fullName:i.fullName||"",email:i.email||"",phone:i.phone||"",streetAddress:i.streetAddress||"",apartment:i.apartment||"",city:i.city||"",state:i.state||"",zipCode:i.zipCode||"",country:i.country||"India",deliveryInstructions:i.deliveryInstructions||""}),[o,l]=(0,r.useState)({}),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f=e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n})),o[t]&&l(e=>({...e,[t]:""}))},p={width:"100%",padding:"12px 16px",border:"2px solid #e0e7ff",borderRadius:"12px",fontSize:"1rem",background:"#f7faff",marginBottom:"4px",transition:"border-color 0.2s, box-shadow 0.2s",boxSizing:"border-box"},m={...p,borderColor:"#ff4d6d",background:"#fff5f5"},g={color:"#ff4d6d",fontSize:"0.875rem",marginBottom:"12px",display:"block"};return(0,mt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(!1),(()=>{const e={};return s.fullName.trim()||(e.fullName="Full name is required"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(e.email="Please enter a valid email address"):e.email="Email is required",s.phone.trim()?/^\+?[\d\s-()]{10,}$/.test(s.phone)||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required",s.streetAddress.trim()||(e.streetAddress="Street address is required"),s.city.trim()||(e.city="City is required"),s.state.trim()||(e.state="State is required"),s.zipCode.trim()?/^\d{6}$/.test(s.zipCode.replace(/\s/g,""))||(e.zipCode="Please enter a valid 6-digit PIN code"):e.zipCode="ZIP/Postal code is required",l(e),0===Object.keys(e).length})()){u(!0),l({});try{const e=await vt("saveLocation","POST",{...s});h(!0),t&&t(e)}catch(n){l({submit:"Failed to submit delivery information. Please try again."})}finally{u(!1)}}},className:"delivery-form",style:{maxWidth:"600px",margin:"0 auto"},children:[(0,mt.jsxs)("div",{style:{marginBottom:"32px",textAlign:"center"},children:[(0,mt.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#232F3E",marginBottom:"8px"},children:"Delivery Information"}),(0,mt.jsx)("p",{style:{color:"#666",fontSize:"1rem"},children:"Please provide your delivery details for a smooth shipping experience"})]}),o.submit&&(0,mt.jsx)("div",{style:{background:"#fff5f5",border:"1px solid #ff4d6d",borderRadius:"8px",padding:"12px",marginBottom:"20px",color:"#ff4d6d",textAlign:"center"},children:o.submit}),(0,mt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Full Name *"}),(0,mt.jsx)("input",{type:"text",name:"fullName",placeholder:"Enter your full name",value:s.fullName,onChange:f,style:o.fullName?m:p,required:!0}),o.fullName&&(0,mt.jsx)("span",{style:g,children:o.fullName})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Email Address *"}),(0,mt.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",value:s.email,onChange:f,style:o.email?m:p,required:!0}),o.email&&(0,mt.jsx)("span",{style:g,children:o.email})]})]}),(0,mt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Phone Number *"}),(0,mt.jsx)("input",{type:"tel",name:"phone",placeholder:"Enter your phone number",value:s.phone,onChange:f,style:o.phone?m:p,required:!0}),o.phone&&(0,mt.jsx)("span",{style:g,children:o.phone})]}),(0,mt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Street Address *"}),(0,mt.jsx)("input",{type:"text",name:"streetAddress",placeholder:"House number, street name",value:s.streetAddress,onChange:f,style:o.streetAddress?m:p,required:!0}),o.streetAddress&&(0,mt.jsx)("span",{style:g,children:o.streetAddress})]}),(0,mt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Apartment, Suite, etc. (Optional)"}),(0,mt.jsx)("input",{type:"text",name:"apartment",placeholder:"Apartment, suite, unit, building, floor, etc.",value:s.apartment,onChange:f,style:p})]}),(0,mt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"City *"}),(0,mt.jsx)("input",{type:"text",name:"city",placeholder:"City",value:s.city,onChange:f,style:o.city?m:p,required:!0}),o.city&&(0,mt.jsx)("span",{style:g,children:o.city})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"State *"}),(0,mt.jsxs)("select",{name:"state",value:s.state,onChange:f,style:o.state?m:p,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select State"}),(0,mt.jsx)("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),(0,mt.jsx)("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),(0,mt.jsx)("option",{value:"Assam",children:"Assam"}),(0,mt.jsx)("option",{value:"Bihar",children:"Bihar"}),(0,mt.jsx)("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),(0,mt.jsx)("option",{value:"Goa",children:"Goa"}),(0,mt.jsx)("option",{value:"Gujarat",children:"Gujarat"}),(0,mt.jsx)("option",{value:"Haryana",children:"Haryana"}),(0,mt.jsx)("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),(0,mt.jsx)("option",{value:"Jharkhand",children:"Jharkhand"}),(0,mt.jsx)("option",{value:"Karnataka",children:"Karnataka"}),(0,mt.jsx)("option",{value:"Kerala",children:"Kerala"}),(0,mt.jsx)("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),(0,mt.jsx)("option",{value:"Maharashtra",children:"Maharashtra"}),(0,mt.jsx)("option",{value:"Manipur",children:"Manipur"}),(0,mt.jsx)("option",{value:"Meghalaya",children:"Meghalaya"}),(0,mt.jsx)("option",{value:"Mizoram",children:"Mizoram"}),(0,mt.jsx)("option",{value:"Nagaland",children:"Nagaland"}),(0,mt.jsx)("option",{value:"Odisha",children:"Odisha"}),(0,mt.jsx)("option",{value:"Punjab",children:"Punjab"}),(0,mt.jsx)("option",{value:"Rajasthan",children:"Rajasthan"}),(0,mt.jsx)("option",{value:"Sikkim",children:"Sikkim"}),(0,mt.jsx)("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),(0,mt.jsx)("option",{value:"Telangana",children:"Telangana"}),(0,mt.jsx)("option",{value:"Tripura",children:"Tripura"}),(0,mt.jsx)("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),(0,mt.jsx)("option",{value:"Uttarakhand",children:"Uttarakhand"}),(0,mt.jsx)("option",{value:"West Bengal",children:"West Bengal"}),(0,mt.jsx)("option",{value:"Delhi",children:"Delhi"})]}),o.state&&(0,mt.jsx)("span",{style:g,children:o.state})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"PIN Code *"}),(0,mt.jsx)("input",{type:"text",name:"zipCode",placeholder:"PIN Code",value:s.zipCode,onChange:f,style:o.zipCode?m:p,maxLength:"6",required:!0}),o.zipCode&&(0,mt.jsx)("span",{style:g,children:o.zipCode})]})]}),(0,mt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Delivery Instructions (Optional)"}),(0,mt.jsx)("textarea",{name:"deliveryInstructions",placeholder:"Any special delivery instructions...",value:s.deliveryInstructions,onChange:f,rows:"3",style:{...p,resize:"vertical",minHeight:"80px"}})]}),(0,mt.jsxs)("div",{className:"form-actions",style:{display:"flex",gap:"16px",justifyContent:"center"},children:[n&&(0,mt.jsx)(xn,{type:"button",variant:"secondary",onClick:n,disabled:c,style:{minWidth:"120px"},children:"Back to Cart"}),(0,mt.jsx)(xn,{type:"submit",variant:"premium",loading:c,style:{minWidth:"160px"},children:"Confirm Delivery"})]})]})}function _n(e){let{item:t,onBack:n,onConfirm:i}=e;const s=re(),{cartItems:a,getCartTotal:o,clearCart:l}=Ct(),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f=a.length>0?a:t?[{...t,quantity:1}]:[],p=a.length>0?o():t?t.price:0,m=()=>{s("/browse")};return d?(0,mt.jsx)("div",{style:{maxWidth:600,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:40,textAlign:"center"},children:[(0,mt.jsx)("div",{style:{fontSize:"4rem",marginBottom:20},children:"\u2705"}),(0,mt.jsx)("h2",{style:{color:"#22a06b",marginBottom:16,fontSize:"1.8rem"},children:"Order Confirmed!"}),(0,mt.jsx)("p",{style:{color:"#666",marginBottom:24,fontSize:"1.1rem"},children:"Thank you for your order. You will receive a confirmation email shortly with tracking details."}),(0,mt.jsx)("div",{style:{background:"#f0f9f4",border:"1px solid #22a06b",borderRadius:12,padding:16,marginBottom:24},children:(0,mt.jsxs)("p",{style:{margin:0,color:"#22a06b",fontWeight:600},children:["Order Total: \u20b9",p.toLocaleString()]})}),(0,mt.jsx)(xn,{variant:"premium",onClick:m,size:"large",children:"Continue Shopping"})]})}):0===f.length?(0,mt.jsx)("div",{style:{maxWidth:600,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:40,textAlign:"center"},children:[(0,mt.jsx)("div",{style:{fontSize:"3rem",marginBottom:16},children:"\ud83d\udce6"}),(0,mt.jsx)("h2",{style:{color:"#232F3E",marginBottom:16},children:"No Items to Deliver"}),(0,mt.jsx)("p",{style:{color:"#666",marginBottom:24},children:"Your cart is empty. Add some items to proceed with delivery."}),(0,mt.jsx)(xn,{variant:"premium",onClick:()=>s("/browse"),children:"Browse Items"})]})}):(0,mt.jsx)("div",{style:{maxWidth:800,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:32},children:[(0,mt.jsxs)("div",{style:{textAlign:"center",marginBottom:32},children:[(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,marginBottom:8,color:"#232F3E"},children:"Delivery Details"}),(0,mt.jsx)("p",{style:{color:"#666",fontSize:"1rem"},children:"Review your order and provide delivery information"})]}),(0,mt.jsxs)("div",{style:{marginBottom:32,padding:24,background:"#f7faff",borderRadius:16,border:"1px solid #e0e7ff"},children:[(0,mt.jsxs)("h4",{style:{margin:"0 0 16px 0",color:"#232F3E",fontSize:"1.2rem",fontWeight:700},children:["Order Summary (",f.reduce((e,t)=>e+t.quantity,0)," items)"]}),(0,mt.jsx)("div",{style:{marginBottom:16},children:f.map((e,t)=>(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:12,paddingBottom:12,borderBottom:t<f.length-1?"1px solid #e0e7ff":"none"},children:[(0,mt.jsx)("img",{src:e.image||"https://via.placeholder.com/60x60?text=Item",alt:e.name,style:{width:60,height:60,borderRadius:8,objectFit:"cover",border:"1px solid #e0e7ff"},onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/60x60?text=Item"}}),(0,mt.jsxs)("div",{style:{flex:1},children:[(0,mt.jsx)("div",{style:{fontWeight:600,color:"#232F3E",marginBottom:4},children:e.name}),e.category&&(0,mt.jsx)("div",{style:{color:"#a259f7",fontSize:"0.9rem",marginBottom:4},children:e.category}),(0,mt.jsxs)("div",{style:{color:"#666",fontSize:"0.9rem"},children:["Quantity: ",e.quantity]})]}),(0,mt.jsx)("div",{style:{textAlign:"right"},children:(0,mt.jsxs)("div",{style:{color:"#FFD814",fontWeight:700,fontSize:"1.1rem"},children:["\u20b9",(e.price*e.quantity).toLocaleString()]})})]},e.id||t))}),(0,mt.jsxs)("div",{style:{borderTop:"2px solid #e0e7ff",paddingTop:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,mt.jsx)("span",{style:{fontSize:"1.2rem",fontWeight:700,color:"#232F3E"},children:"Total:"}),(0,mt.jsxs)("span",{style:{fontSize:"1.4rem",fontWeight:800,color:"#FFD814"},children:["\u20b9",p.toLocaleString()]})]})]}),c?(0,mt.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px"},children:[(0,mt.jsx)("div",{className:"loading-spinner",style:{margin:"0 auto 16px"}}),(0,mt.jsx)("h3",{style:{color:"#232F3E",marginBottom:8},children:"Processing Your Order..."}),(0,mt.jsx)("p",{style:{color:"#666"},children:"Please wait while we confirm your order details."})]}):(0,mt.jsx)(Cn,{onSubmit:async e=>{try{u(!0),await new Promise(e=>setTimeout(e,2e3));const t={items:f,deliveryInfo:e,total:p,orderDate:(new Date).toISOString(),orderId:`ORD-${Date.now()}`,status:"confirmed"};console.log("Order data:",t),i&&i(t),a.length>0&&await l(),h(!0)}catch(t){console.error("Error processing order:",t),alert("Failed to process order. Please try again.")}finally{u(!1)}},onBack:()=>{n?n():s("/cart")}})]})})}function Nn(){return(0,mt.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:[(0,mt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 1s linear infinite"},children:[(0,mt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,mt.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),(0,mt.jsx)("style",{children:"@keyframes spin { 100% { transform: rotate(360deg); } }"})]})}function Tn(e){let{onSubmit:t,onBack:n,selectedItem:i,userItems:s=[]}=e;const{showToast:a}=wt(),[o,l]=(0,r.useState)({selectedUserItem:"",additionalCash:0,message:"",exchangeType:"item-only"}),[c,u]=(0,r.useState)({}),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),y=e=>{const{name:t,value:n,type:r}=e.target,i="number"===r?parseFloat(n)||0:n;l(e=>({...e,[t]:i})),c[t]&&u(e=>({...e,[t]:""}))},v={width:"100%",padding:"12px 16px",border:"2px solid #e0e7ff",borderRadius:"12px",fontSize:"1rem",background:"#f7faff",marginBottom:"4px",transition:"border-color 0.2s, box-shadow 0.2s",boxSizing:"border-box"},b={...v,borderColor:"#ff4d6d",background:"#fff5f5"},x={color:"#ff4d6d",fontSize:"0.875rem",marginBottom:"12px",display:"block"},w=(()=>{if(null!==m)return m;const e=s.find(e=>e.id===o.selectedUserItem),t=e?e.price:0,n=i?i.price:0;switch(o.exchangeType){case"item-only":return n-t;case"item-plus-cash":return n-t-o.additionalCash;case"cash-only":return n-o.additionalCash;default:return 0}})();return(0,mt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p(!1),(()=>{const e={};return"item-only"!==o.exchangeType&&"item-plus-cash"!==o.exchangeType||o.selectedUserItem||(e.selectedUserItem="Please select an item to exchange"),"item-plus-cash"!==o.exchangeType&&"cash-only"!==o.exchangeType||(!o.additionalCash||o.additionalCash<=0)&&(e.additionalCash="Please enter a valid cash amount"),o.message.length>500&&(e.message="Message must be less than 500 characters"),u(e),0===Object.keys(e).length})()){h(!0),u({});try{const e=o.selectedUserItem,n=null===i||void 0===i?void 0:i.id;if(!e||!n)return u({submit:"Missing item information."}),void h(!1);const r=await vt("proposeSwap","POST",{itemOfferedId:e,itemRequestedId:n});g(r.netAmount),p(!0),a("Exchange offer sent!","success"),t&&t(r)}catch(n){u({submit:"Failed to submit exchange offer. Please try again."}),a("Failed to send exchange offer","error")}finally{h(!1)}}},className:"exchange-form",style:{maxWidth:"600px",margin:"0 auto"},children:[(0,mt.jsxs)("div",{style:{marginBottom:"32px",textAlign:"center"},children:[(0,mt.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#232F3E",marginBottom:"8px"},children:"Make an Exchange Offer"}),(0,mt.jsx)("p",{style:{color:"#666",fontSize:"1rem"},children:"Propose an exchange for this item with your own items or cash"})]}),c.submit&&(0,mt.jsx)("div",{style:{background:"#fff5f5",border:"1px solid #ff4d6d",borderRadius:"8px",padding:"12px",marginBottom:"20px",color:"#ff4d6d",textAlign:"center"},children:c.submit}),f&&(0,mt.jsx)("div",{style:{background:"#f0f9f4",border:"1px solid #22a06b",borderRadius:"8px",padding:"12px",marginBottom:"20px",color:"#22a06b",textAlign:"center"},children:"Exchange offer sent successfully!"}),i&&(0,mt.jsxs)("div",{style:{marginBottom:"24px",padding:"20px",background:"#f7faff",borderRadius:"16px",border:"1px solid #e0e7ff"},children:[(0,mt.jsx)("h4",{style:{margin:"0 0 12px 0",color:"#232F3E",fontSize:"1.1rem",fontWeight:700},children:"Item You Want:"}),(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,mt.jsx)("img",{src:i.image||"https://via.placeholder.com/80x80?text=Item",alt:i.name,style:{width:80,height:80,borderRadius:12,objectFit:"cover",border:"2px solid #a259f7"},onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/80x80?text=Item"}}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("div",{style:{fontWeight:700,color:"#232F3E",fontSize:"1.1rem",marginBottom:4},children:i.name}),i.category&&(0,mt.jsx)("div",{style:{color:"#a259f7",fontSize:"0.9rem",marginBottom:4},children:i.category}),(0,mt.jsxs)("div",{style:{color:"#FFD814",fontWeight:700,fontSize:"1.1rem"},children:["\u20b9",i.price]})]})]})]}),(0,mt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"8px"},children:"Exchange Type *"}),(0,mt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,mt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,mt.jsx)("input",{type:"radio",name:"exchangeType",value:"item-only",checked:"item-only"===o.exchangeType,onChange:y,style:{marginRight:"8px"}}),(0,mt.jsx)("span",{children:"Item for Item Exchange"})]}),(0,mt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,mt.jsx)("input",{type:"radio",name:"exchangeType",value:"item-plus-cash",checked:"item-plus-cash"===o.exchangeType,onChange:y,style:{marginRight:"8px"}}),(0,mt.jsx)("span",{children:"Item + Cash"})]}),(0,mt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,mt.jsx)("input",{type:"radio",name:"exchangeType",value:"cash-only",checked:"cash-only"===o.exchangeType,onChange:y,style:{marginRight:"8px"}}),(0,mt.jsx)("span",{children:"Cash Only"})]})]})]}),("item-only"===o.exchangeType||"item-plus-cash"===o.exchangeType)&&(0,mt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Select Your Item to Exchange *"}),(0,mt.jsxs)("select",{name:"selectedUserItem",value:o.selectedUserItem,onChange:y,style:c.selectedUserItem?b:v,required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Choose an item from your collection"}),s.map(e=>(0,mt.jsxs)("option",{value:e.id,children:[e.name," - \u20b9",e.price]},e.id))]}),c.selectedUserItem&&(0,mt.jsx)("span",{style:x,children:c.selectedUserItem}),0===s.length&&(0,mt.jsx)("p",{style:{color:"#ff4d6d",fontSize:"0.9rem",marginTop:"8px"},children:"You don't have any items to exchange. Please list some items first."})]}),("item-plus-cash"===o.exchangeType||"cash-only"===o.exchangeType)&&(0,mt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Additional Cash Amount (\u20b9) *"}),(0,mt.jsx)("input",{type:"number",name:"additionalCash",placeholder:"Enter cash amount",value:o.additionalCash||"",onChange:y,style:c.additionalCash?b:v,min:"1",required:!0}),c.additionalCash&&(0,mt.jsx)("span",{style:x,children:c.additionalCash})]}),(0,mt.jsxs)("div",{style:{marginBottom:"20px",padding:"16px",background:w>0?"#fff5f5":w<0?"#f0f9f4":"#f7faff",borderRadius:"12px",border:"1px solid "+(w>0?"#ff4d6d":w<0?"#22a06b":"#e0e7ff")},children:[(0,mt.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#232F3E",fontSize:"1rem",fontWeight:700},children:"Exchange Summary:"}),(0,mt.jsx)("p",{style:{margin:0,fontWeight:700,fontSize:"1.1rem",color:0===w?"#232F3E":w>0?"#ff4d6d":"#22a06b"},children:0===w?"Even Exchange":w>0?`You need to pay \u20b9${w}`:`You will receive \u20b9${Math.abs(w)}`})]}),(0,mt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,mt.jsx)("label",{style:{display:"block",fontWeight:"600",color:"#232F3E",marginBottom:"6px"},children:"Message to Seller (Optional)"}),(0,mt.jsx)("textarea",{name:"message",placeholder:"Add a personal message to your exchange offer...",value:o.message,onChange:y,rows:"4",maxLength:"500",style:{...v,resize:"vertical",minHeight:"100px"}}),(0,mt.jsxs)("div",{style:{textAlign:"right",fontSize:"0.8rem",color:"#666",marginTop:"4px"},children:[o.message.length,"/500 characters"]}),c.message&&(0,mt.jsx)("span",{style:x,children:c.message})]}),(0,mt.jsxs)("div",{className:"form-actions",style:{display:"flex",gap:"16px",justifyContent:"center"},children:[n&&(0,mt.jsx)(xn,{type:"button",variant:"secondary",onClick:n,disabled:d,style:{minWidth:"120px"},children:"Cancel"}),(0,mt.jsx)(xn,{type:"submit",variant:"premium",loading:d,disabled:0===s.length&&("item-only"===o.exchangeType||"item-plus-cash"===o.exchangeType),style:{minWidth:"160px"},children:d?(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(Nn,{})," Submitting..."]}):"Send Exchange Offer"})]})]})}function jn(){var e;const t=re(),{user:n}=yt(),i=ee(),{id:s}=ie(),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{d(!0),f(null);try{var e;let t=null===(e=i.state)||void 0===e?void 0:e.item;if(!t&&s){t=(await vt("getItems","GET")).find(e=>e.id===s)}if(o(t),n){const e=await vt("getItems","GET",{ownerId:n.uid});c(e)}else c([])}catch(er){f("Failed to load exchange data")}d(!1)})()},[n,s,i.state]);const p=()=>{t("/browse")};return u?(0,mt.jsx)("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}):h?(0,mt.jsx)("div",{style:{padding:40,textAlign:"center",color:"#c00"},children:h}):n?a?l&&0!==l.length?(0,mt.jsxs)("div",{style:{maxWidth:600,margin:"40px auto 0 auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:32},children:[(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,marginBottom:16},children:"Propose Exchange"}),(0,mt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:24,marginBottom:24},children:[(0,mt.jsx)("img",{src:a.image||"https://via.placeholder.com/100x100?text=Item",alt:a.title||a.name,style:{width:100,height:100,borderRadius:12,objectFit:"cover",border:"2px solid #a259f7"}}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("div",{style:{fontWeight:700,fontSize:20},children:a.title||a.name}),a.category&&(0,mt.jsxs)("div",{style:{color:"#a259f7",fontWeight:600,fontSize:16},children:["Category: ",a.category]}),(0,mt.jsxs)("div",{style:{color:"#FFD814",fontWeight:700,fontSize:18},children:["\u20b9",null===(e=a.price)||void 0===e?void 0:e.toLocaleString()]}),a.description&&(0,mt.jsx)("div",{style:{color:"#555",marginTop:8},children:a.description})]})]}),(0,mt.jsx)(Tn,{userItems:l,selectedItem:a,onBack:p,onSubmit:e=>{t("/exchange-offers",{state:{offer:e}})}})]}):(0,mt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,mt.jsx)("h2",{children:"No Items to Offer"}),(0,mt.jsx)("p",{children:"You need to list at least one item before you can propose an exchange."}),(0,mt.jsx)(xn,{onClick:()=>t("/list"),children:"List an Item"}),(0,mt.jsx)(xn,{variant:"secondary",onClick:p,style:{marginLeft:12},children:"Back"})]}):(0,mt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,mt.jsx)("h2",{children:"Item Not Found"}),(0,mt.jsx)("p",{children:"The item you want to exchange for could not be found."}),(0,mt.jsx)(xn,{onClick:p,children:"Back"})]}):(0,mt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,mt.jsx)("h2",{children:"Sign In Required"}),(0,mt.jsx)("p",{children:"You must be logged in to propose an exchange."}),(0,mt.jsx)(xn,{onClick:()=>t("/login"),children:"Sign In"})]})}function In(){return(0,mt.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:[(0,mt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 1s linear infinite"},children:[(0,mt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,mt.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),(0,mt.jsx)("style",{children:"@keyframes spin { 100% { transform: rotate(360deg); } }"})]})}function An(){const e=re(),{user:t}=yt(),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),{showToast:m}=wt();(0,r.useEffect)(()=>{(async()=>{a(!0),l(null);try{const e=await vt("getUserSwaps","GET");i(e)}catch(er){l("Failed to load swap offers")}a(!1)})()},[t]);return s?(0,mt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,mt.jsx)(In,{})," Loading..."]}):o?(0,mt.jsx)("div",{style:{padding:40,textAlign:"center",color:"#c00"},children:o}):t?n&&0!==n.length?(0,mt.jsx)("div",{style:{maxWidth:900,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:32},children:[(0,mt.jsxs)("div",{style:{textAlign:"center",marginBottom:32},children:[(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,marginBottom:8,color:"#232F3E"},children:"My Swap Offers"}),(0,mt.jsx)("p",{style:{color:"#666",fontSize:"1rem"},children:"View and manage all your swap offers"}),f&&(0,mt.jsx)("div",{style:{color:"#22a06b",fontWeight:600,marginTop:8},children:f}),d&&(0,mt.jsx)("div",{style:{color:"#c00",fontWeight:600,marginTop:8},children:d})]}),(0,mt.jsx)("div",{style:{overflowX:"auto"},children:(0,mt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:24},children:[(0,mt.jsx)("thead",{children:(0,mt.jsxs)("tr",{style:{background:"#f7faff"},children:[(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Offer ID"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Your Item"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Requested Item"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Net Amount"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Status"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Actions"})]})}),(0,mt.jsx)("tbody",{children:n.map(e=>(0,mt.jsxs)("tr",{style:{borderBottom:"1px solid #e0e7ff"},children:[(0,mt.jsx)("td",{style:{padding:10},children:e.id}),(0,mt.jsx)("td",{style:{padding:10},children:e.itemOfferedId||"-"}),(0,mt.jsx)("td",{style:{padding:10},children:e.itemRequestedId||"-"}),(0,mt.jsx)("td",{style:{padding:10,fontWeight:600,color:e.netAmount>0?"#ff4d6d":e.netAmount<0?"#22a06b":"#232F3E"},children:0===e.netAmount?"Even":e.netAmount>0?`Pay \u20b9${e.netAmount}`:`Receive \u20b9${Math.abs(e.netAmount)}`}),(0,mt.jsx)("td",{style:{padding:10,fontWeight:600,color:"accepted"===e.status?"#22a06b":"declined"===e.status?"#c00":"#a259f7"},children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,mt.jsxs)("td",{style:{padding:10},children:["pending"===e.status&&(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(xn,{variant:"premium",onClick:()=>(async e=>{u(!0),h(null),p("");try{await vt("acceptSwap","POST",{swapId:e}),p("Offer accepted!"),i(t=>t.map(t=>t.id===e?{...t,status:"accepted"}:t)),m("Offer accepted!","success")}catch(er){h("Failed to accept offer"),m("Failed to accept offer","error")}u(!1)})(e.id),loading:c,style:{marginRight:8},children:"Accept"}),(0,mt.jsx)(xn,{variant:"danger",onClick:()=>(async e=>{u(!0),h(null),p("");try{await vt("declineSwap","POST",{swapId:e}),p("Offer declined."),i(t=>t.map(t=>t.id===e?{...t,status:"declined"}:t)),m("Offer declined.","info")}catch(er){h("Failed to decline offer"),m("Failed to decline offer","error")}u(!1)})(e.id),loading:c,children:"Decline"})]}),"pending"!==e.status&&(0,mt.jsx)("span",{style:{color:"#888"},children:"No actions"})]})]},e.id))})]})}),(0,mt.jsx)("div",{style:{textAlign:"center"},children:(0,mt.jsx)(xn,{variant:"secondary",onClick:()=>e("/browse"),disabled:c,children:"Back to Browse"})})]})}):(0,mt.jsx)("div",{style:{maxWidth:600,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:40,textAlign:"center"},children:[(0,mt.jsx)("div",{style:{fontSize:"3rem",marginBottom:16},children:"\ud83d\udced"}),(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,color:"#232F3E",marginBottom:16},children:"No Exchange Offers"}),(0,mt.jsx)("p",{style:{color:"#666",marginBottom:24,fontSize:"1.1rem"},children:"You have no exchange offers at this time. Check back later or propose a swap!"}),(0,mt.jsx)(xn,{variant:"premium",onClick:()=>e("/browse"),children:"Browse Items"})]})}):(0,mt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,mt.jsx)("h2",{children:"Sign In Required"}),(0,mt.jsx)("p",{children:"You must be logged in to view your swap offers."}),(0,mt.jsx)(xn,{onClick:()=>e("/login"),children:"Sign In"})]})}var Pn=n(147);const Rn=["Mobile Phones","Laptops","Tablets","Headphones","Speakers","Smart Watches","Televisions","Refrigerators","Washing Machines","Microwave Ovens","Air Conditioners","Fans","Heaters","Water Purifiers","Vacuum Cleaners","Mixers & Grinders","Juicers","Toasters","Coffee Makers","Induction Cooktops","Gas Stoves","Chairs","Sofas","Beds","Mattresses","Dining Tables","Study Tables","Wardrobes","Bookshelves","Shoe Racks","TV Units","Paint","Suitcase","Carpet","Curtains","Blankets","Pillows","Bedsheets","Towels","Clocks","Mirrors","Wall Art","Decor Items","Vases","Planters","Artificial Plants","Candles","Photo Frames","Storage Boxes","Laundry Baskets","Ironing Boards","Bicycles","Scooters","Motorcycles","Cars","Tyres","Car Accessories","Bike Accessories","Helmets","Sports Shoes","Casual Shoes","Sandals","Slippers","Formal Shoes","Boots","Sneakers","Backpacks","Handbags","Wallets","Belts","Caps","Hats","Sunglasses","Watches","Jewellery","Rings","Necklaces","Earrings","Bracelets","Bangles","Anklets","Makeup","Perfumes","Deodorants","Shampoos","Conditioners","Soaps","Body Wash","Face Wash","Moisturizers","Sunscreen","Toothpaste","Toothbrushes","Shaving Razors","Shaving Cream","Hair Dryers","Hair Straighteners","Combs","Brushes","Nail Clippers","Scissors","First Aid Kits","Thermometers","Blood Pressure Monitors","Glucometers","Wheelchairs","Crutches","Walkers","Stethoscopes","Books","Novels","Textbooks","Comics","Magazines","Notebooks","Pens","Pencils","Markers","Highlighters","Erasers","Sharpeners","Rulers","Calculators","School Bags","Lunch Boxes","Water Bottles","Tiffin Boxes","Stationery Sets","Art Supplies","Paint Brushes","Colors","Sketch Pens","Crayons","Drawing Books","Craft Paper","Glue","Scissors (Craft)","Stickers","Toys","Board Games","Puzzles","Action Figures","Dolls","Soft Toys","Remote Control Toys","Building Blocks","Educational Toys","Musical Toys","Baby Strollers","Baby Carriers","Baby Cots","Baby Chairs","Baby Bottles","Baby Clothes","Baby Shoes","Diapers","Wipes","Feeding Bottles","Sippers","Pacifiers","Baby Blankets","Baby Towels","Baby Bath Tubs","Baby Monitors","Baby Gates","Baby Safety Locks","Baby Swings","Baby Walkers","Baby Play Gyms","Baby Rattles","Baby Teethers","Baby Spoons","Baby Plates","Baby Bowls","Baby Food Makers","Baby Thermometers","Baby Nail Clippers","Baby Toothbrushes","Baby Shampoo","Baby Soap","Baby Lotion","Baby Oil","Baby Powder","Baby Cream","Baby Wipes","Baby Diaper Bags","Baby Changing Mats","Baby Potty Seats","Baby Step Stools","Baby Bath Seats","Baby Bath Toys","Baby Bath Thermometers","Baby Bath Sponges","Baby Bath Towels","Baby Bath Robes","Baby Bath Mats","Baby Bath Brushes","Baby Bath Washcloths","Baby Bath Mitts","Baby Bath Aprons","Baby Bath Caps","Baby Bath Shoes","Baby Bath Slippers","Baby Bath Sandals","Baby Bath Boots","Baby Bath Socks","Baby Bath Gloves","Baby Bath Hats","Baby Bath Scarves","Baby Bath Bibs","Baby Bath Blankets","Baby Bath Quilts","Baby Bath Comforters","Baby Bath Pillows","Baby Bath Cushions","Baby Bath Mattresses","Baby Bath Sheets","Baby Bath Covers","Baby Bath Bags","Baby Bath Pouches","Baby Bath Cases","Baby Bath Boxes","Baby Bath Baskets","Baby Bath Buckets","Baby Bath Basins","Baby Bath Bowls","Baby Bath Cups","Baby Bath Mugs","Baby Bath Jugs","Baby Bath Bottles","Baby Bath Flasks","Baby Bath Tumblers","Baby Bath Glasses","Baby Bath Plates","Baby Bath Spoons","Baby Bath Forks","Baby Bath Knives","Baby Bath Chopsticks","Baby Bath Straws","Baby Bath Brushes (Feeding)","Baby Bath Cleaners","Baby Bath Sterilizers","Baby Bath Warmers","Baby Bath Coolers","Baby Bath Heaters","Baby Bath Fans","Baby Bath Air Purifiers","Baby Bath Humidifiers","Baby Bath Dehumidifiers","Baby Bath Air Conditioners","Baby Bath Air Coolers","Baby Bath Air Heaters","Baby Bath Air Blowers","Baby Bath Air Circulators","Baby Bath Air Fresheners","Baby Bath Air Cleaners","Baby Bath Air Filters","Baby Bath Air Purifiers (Room)","Baby Bath Air Purifiers (Car)","Baby Bath Air Purifiers (Desk)","Baby Bath Air Purifiers (Portable)","Baby Bath Air Purifiers (Mini)","Baby Bath Air Purifiers (Large)","Baby Bath Air Purifiers (Small)","Baby Bath Air Purifiers (Medium)","Baby Bath Air Purifiers (Extra Large)","Other"];const On=function(e){let{onSubmit:t}=e;const[n,i]=(0,r.useState)(""),[s,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),b=(0,r.useRef)();return(0,mt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g(""),v(!1),n&&o)if(c)if(b.current.files[0]){p(!0);try{const e=b.current.files[0],r=(0,Pn.KR)(ft.I,`items/${Date.now()}-${e.name}`);await(0,Pn.D)(r,e);const d=await(0,Pn.qk)(r),f={title:n,description:s,price:parseFloat(o),images:[d],category:c,condition:"Good"},p=await vt("listItem","POST",f);v(!0),t&&t(p),i(""),a(""),l(""),u(""),h(null),b.current.value=""}catch(r){g("Failed to list item. "+(r.message||r))}p(!1)}else g("Product photo is required.");else g("Category is required.");else g("Name and price are required.")},style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 12px #232F3E11",padding:24,marginBottom:24},children:[(0,mt.jsx)("label",{children:"Item Name *"}),(0,mt.jsx)("input",{value:n,onChange:e=>i(e.target.value),placeholder:"e.g. Used Laptop",required:!0}),(0,mt.jsx)("label",{children:"Description"}),(0,mt.jsx)("textarea",{value:s,onChange:e=>a(e.target.value),placeholder:"Describe your item (optional)",rows:3}),(0,mt.jsx)("label",{children:"Price (\u20b9) *"}),(0,mt.jsx)("input",{type:"number",value:o,onChange:e=>l(e.target.value),placeholder:"e.g. 5000",required:!0,min:1}),(0,mt.jsx)("label",{children:"Category *"}),(0,mt.jsxs)("select",{value:c,onChange:e=>u(e.target.value),required:!0,children:[(0,mt.jsx)("option",{value:"",children:"Select a category"}),Rn.map(e=>(0,mt.jsx)("option",{value:e,children:e},e))]}),(0,mt.jsx)("label",{children:"Product Photo *"}),(0,mt.jsx)("input",{type:"file",ref:b,accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(t)}},required:!0}),d&&(0,mt.jsx)("div",{style:{margin:"12px 0"},children:(0,mt.jsx)("img",{src:d,alt:"Preview",style:{width:100,height:100,objectFit:"cover",borderRadius:8,border:"1px solid #eee"}})}),m&&(0,mt.jsx)("div",{style:{color:"#c00",marginBottom:8},children:m}),y&&(0,mt.jsx)("div",{style:{color:"#090",marginBottom:8},children:"Item listed successfully!"}),(0,mt.jsx)(xn,{type:"submit",fullWidth:!0,disabled:f,children:f?"Listing...":"List Item"})]})};function Dn(e){const t=re(),n=()=>{t("/browse")};return(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsxs)("section",{className:"home-hero",children:[(0,mt.jsx)("div",{className:"abstract-bg",children:(0,mt.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 600 300",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,mt.jsx)("circle",{cx:"520",cy:"60",r:"60",fill:"#ffb347",fillOpacity:"0.7"}),(0,mt.jsx)("circle",{cx:"80",cy:"220",r:"40",fill:"#232f3e",fillOpacity:"0.15"}),(0,mt.jsx)("ellipse",{cx:"180",cy:"60",rx:"60",ry:"30",fill:"#232f3e",fillOpacity:"0.12"}),(0,mt.jsx)("ellipse",{cx:"500",cy:"220",rx:"50",ry:"20",fill:"#ffb347",fillOpacity:"0.18"})]})}),(0,mt.jsxs)("div",{className:"home-hero-content",children:[(0,mt.jsx)("h1",{className:"home-hero-title",children:"Welcome to SWAPIN"}),(0,mt.jsx)("p",{className:"home-hero-desc",children:"Barter, swap, or sell your items with trust. Enjoy modern, secure, and smart product matching with delivery tracking."}),(0,mt.jsxs)("div",{className:"home-hero-actions",children:[(0,mt.jsx)("button",{className:"button premium",onClick:n,children:"Browse Items"}),(0,mt.jsx)("button",{className:"button",onClick:()=>window.scrollTo({top:600,behavior:"smooth"}),children:"List Your Item"})]})]})]}),(0,mt.jsxs)("div",{style:{maxWidth:500,margin:"40px auto 0 auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 24px #232F3E11",padding:32},children:[(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,marginBottom:8,color:"#232F3E"},children:"List Your Item to Sell or Swap"}),(0,mt.jsx)("p",{style:{color:"#555",marginBottom:24},children:"Enter details of your item. You can skip and browse items if you want."}),(0,mt.jsx)(On,{onSubmit:n=>{e.onSubmit&&e.onSubmit(n),t("/browse")}}),(0,mt.jsx)(xn,{variant:"secondary",fullWidth:!0,onClick:n,style:{marginTop:8},children:"Skip for now"})]})]})}function Ln(){const{login:e,googleLogin:t}=yt(),i=re(),{showToast:s}=wt(),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1);return(0,mt.jsxs)("div",{className:"login-container",children:[(0,mt.jsxs)("form",{className:"login-form",onSubmit:async t=>{if(t.preventDefault(),a&&l)try{await e(a,l),i("/browse")}catch(n){d("Invalid credentials.")}else d("Please enter email and password.")},children:[(0,mt.jsx)("h2",{className:"login-title",children:"Sign In"}),(0,mt.jsx)("button",{type:"button",onClick:async()=>{try{await t(),i("/browse")}catch(e){d("Google login failed. Please try again.")}},className:"button google-button full-width",style:{backgroundColor:"#4285f4",color:"white",border:"none",marginBottom:"16px"},children:"Continue with Google"}),(0,mt.jsx)("div",{style:{textAlign:"center",margin:"16px 0",color:"#aaa"},children:"or"}),u&&(0,mt.jsx)("div",{className:"login-error",children:u}),(0,mt.jsx)("input",{type:"email",placeholder:"Email",value:a,onChange:e=>o(e.target.value),className:"login-input"}),(0,mt.jsx)("input",{type:"password",placeholder:"Password",value:l,onChange:e=>c(e.target.value),className:"login-input"}),(0,mt.jsx)("div",{style:{textAlign:"right",marginBottom:8},children:(0,mt.jsx)("button",{type:"button",className:"link-button",style:{color:"#3b82f6",background:"none",border:"none",cursor:"pointer",padding:0,fontSize:14},onClick:()=>f(e=>!e),children:"Forgot Password?"})}),h&&(0,mt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{if(!p)return s("Please enter your email.","error"),void y(!1);const{sendPasswordResetEmail:e}=await Promise.resolve().then(n.bind(n,898)),{auth:t}=await Promise.resolve().then(n.bind(n,791));await e(t,p),s("Password reset email sent!","success"),f(!1),m("")}catch(t){s("Failed to send reset email. "+(t.message||""),"error")}y(!1)},style:{marginBottom:12},children:[(0,mt.jsx)("input",{type:"email",placeholder:"Enter your email",value:p,onChange:e=>m(e.target.value),className:"login-input",style:{marginBottom:8}}),(0,mt.jsx)("button",{type:"submit",className:"button full-width",disabled:g,children:g?"Sending...":"Send Reset Email"})]}),(0,mt.jsx)("button",{type:"submit",className:"button full-width",children:"Login"}),(0,mt.jsxs)("div",{style:{textAlign:"center",marginTop:8},children:["Don't have an account? ",(0,mt.jsx)(at,{to:"/signup",children:"Sign up"})]})]}),(0,mt.jsx)("button",{type:"button",className:"button full-width",style:{marginTop:12,background:"#aaa",color:"white"},onClick:()=>i("/browse"),children:"Skip for now"})]})}function Bn(){const{signup:e,googleLogin:t}=yt(),n=re(),[i,s]=(0,r.useState)(""),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("");return(0,mt.jsxs)("div",{className:"login-container",children:[(0,mt.jsxs)("form",{className:"login-form",onSubmit:t=>{t.preventDefault(),i&&a&&l?(e(a,l,i),n("/browse")):d("Please fill all fields.")},children:[(0,mt.jsx)("h2",{className:"login-title",children:"Sign Up"}),(0,mt.jsx)("button",{type:"button",onClick:async()=>{try{await t(),n("/browse")}catch(e){d("Google signup failed. Please try again.")}},className:"button google-button full-width",style:{backgroundColor:"#4285f4",color:"white",border:"none",marginBottom:"16px"},children:"Continue with Google"}),(0,mt.jsx)("div",{style:{textAlign:"center",margin:"16px 0",color:"#aaa"},children:"or"}),u&&(0,mt.jsx)("div",{className:"login-error",children:u}),(0,mt.jsx)("input",{type:"text",placeholder:"Name",value:i,onChange:e=>s(e.target.value),className:"login-input"}),(0,mt.jsx)("input",{type:"email",placeholder:"Email",value:a,onChange:e=>o(e.target.value),className:"login-input"}),(0,mt.jsx)("input",{type:"password",placeholder:"Password",value:l,onChange:e=>c(e.target.value),className:"login-input"}),(0,mt.jsx)("button",{type:"submit",className:"button full-width",children:"Create Account"}),(0,mt.jsxs)("div",{style:{textAlign:"center",marginTop:8},children:["Already have an account? ",(0,mt.jsx)(at,{to:"/login",children:"Login"})]})]}),(0,mt.jsx)("button",{type:"button",className:"button full-width",style:{marginTop:12,background:"#aaa",color:"white"},onClick:()=>n("/browse"),children:"Skip for now"})]})}var Mn=n(472);const Fn=function(){var e,t,n,i;const{id:s}=ie(),a=re(),{addToCart:o}=Ct(),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(1),[p,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{try{const e=await(0,Mn.x7)((0,Mn.H9)(ft.db,"products",s));if(e.exists()){const t=e.data();c({id:e.id,...t,category:t.category||"Uncategorized",condition:t.condition||"Not specified",price:t.price||0,images:t.images||[t.image||"https://via.placeholder.com/500x500?text=No+Image"],seller:t.seller||{name:"Unknown",rating:0,reviews:0},specifications:t.specifications||{},reviews:t.reviews||[]})}else c(null);d(!1)}catch(e){console.error("Error fetching product:",e),d(!1)}})()},[s]),u?(0,mt.jsxs)("div",{className:"loading-container",children:[(0,mt.jsx)("div",{className:"spinner"}),(0,mt.jsx)("p",{children:"Loading product details..."})]}):l?(0,mt.jsx)("div",{className:"product-detail-page",children:(0,mt.jsxs)("div",{className:"container",children:[(0,mt.jsxs)("button",{className:"back-button",onClick:()=>a(-1),children:[(0,mt.jsx)(Ft,{})," Back"]}),(0,mt.jsxs)("div",{className:"product-detail-grid",children:[(0,mt.jsxs)("div",{className:"product-images",children:[(0,mt.jsx)("img",{src:l.image,alt:l.name,className:"main-image"}),(0,mt.jsx)("div",{className:"image-gallery",children:null===(e=l.images)||void 0===e?void 0:e.map((e,t)=>(0,mt.jsx)("img",{src:e,alt:`${l.name} ${t+1}`,className:"thumbnail"},t))})]}),(0,mt.jsxs)("div",{className:"product-info",children:[(0,mt.jsx)("h1",{children:l.name}),(0,mt.jsxs)("div",{className:"product-meta",children:[(0,mt.jsx)("span",{className:"category-badge",children:l.category}),(0,mt.jsx)("span",{className:`condition-badge condition-${null===(t=l.condition)||void 0===t?void 0:t.toLowerCase().replace(" ","-")}`,children:l.condition})]}),(0,mt.jsxs)("div",{className:"price-section",children:[(0,mt.jsxs)("span",{className:"current-price",children:["\u20b9",null===(n=l.price)||void 0===n?void 0:n.toLocaleString()]}),l.originalPrice&&l.originalPrice>l.price&&(0,mt.jsxs)("span",{className:"original-price",children:["\u20b9",null===(i=l.originalPrice)||void 0===i?void 0:i.toLocaleString()]}),l.originalPrice&&l.originalPrice>l.price&&(0,mt.jsxs)("span",{className:"discount-badge",children:[Math.round((l.originalPrice-l.price)/l.originalPrice*100),"% OFF"]})]}),(0,mt.jsxs)("div",{className:"seller-info",children:[(0,mt.jsxs)("p",{children:["Sold by: ",l.seller.name]}),(0,mt.jsxs)("div",{className:"seller-rating",children:[(0,mt.jsx)(dn,{})," ",l.seller.rating," (",l.seller.reviews," reviews)"]})]}),(0,mt.jsxs)("div",{className:"product-description",children:[(0,mt.jsx)("h3",{children:"Description"}),(0,mt.jsx)("p",{children:l.description})]}),(0,mt.jsxs)("div",{className:"specifications",children:[(0,mt.jsx)("h3",{children:"Specifications"}),(0,mt.jsx)("ul",{children:Object.entries(l.specifications).map(e=>{let[t,n]=e;return(0,mt.jsxs)("li",{children:[(0,mt.jsxs)("strong",{children:[t,":"]})," ",n]},t)})})]}),(0,mt.jsxs)("div",{className:"quantity-selector",children:[(0,mt.jsx)("label",{children:"Quantity:"}),(0,mt.jsx)("input",{type:"number",min:"1",value:h,onChange:e=>f(parseInt(e.target.value))})]}),(0,mt.jsxs)("div",{className:"action-buttons",children:[(0,mt.jsxs)(xn,{onClick:()=>{l&&o(l,h)},variant:"secondary",children:[(0,mt.jsx)(un,{})," Add to Cart"]}),(0,mt.jsx)(xn,{onClick:()=>{l&&(o(l,h),a("/cart"))},variant:"primary",children:"Buy Now"}),(0,mt.jsx)("button",{className:"wishlist-btn",onClick:()=>m(!p),children:(0,mt.jsx)(Jt,{color:p?"red":"gray"})})]})]})]}),(0,mt.jsxs)("div",{className:"reviews-section",children:[(0,mt.jsx)("h3",{children:"Customer Reviews"}),l.reviews.map(e=>(0,mt.jsxs)("div",{className:"review",children:[(0,mt.jsxs)("div",{className:"review-header",children:[(0,mt.jsx)("strong",{children:e.user}),(0,mt.jsx)("div",{className:"stars",children:[...Array(5)].map((t,n)=>(0,mt.jsx)(dn,{color:n<e.rating?"gold":"gray"},n))})]}),(0,mt.jsx)("p",{children:e.comment}),(0,mt.jsx)("small",{children:e.date})]},e.id))]})]})}):(0,mt.jsxs)("div",{className:"error-container",children:[(0,mt.jsx)("h2",{children:"Product Not Found"}),(0,mt.jsx)("p",{children:"The product you're looking for doesn't exist."}),(0,mt.jsx)(xn,{onClick:()=>a("/browse"),children:"Back to Browse"})]})};function zn(){const{user:e}=yt(),[t,n]=(0,r.useState)(null),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{s(!0),o(null);try{if(e){const e=await vt("getUserProfile","GET");n(e)}}catch(er){o("Failed to load profile")}s(!1)})()},[e]),i?(0,mt.jsx)("div",{className:"profile-container",children:(0,mt.jsx)("div",{children:"Loading..."})}):a?(0,mt.jsx)("div",{className:"profile-container",children:(0,mt.jsx)("div",{style:{color:"#c00"},children:a})}):t?(0,mt.jsx)("div",{className:"profile-container",children:(0,mt.jsxs)("div",{className:"profile-header",children:[(0,mt.jsx)("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName||t.email}`,alt:"Avatar",className:"profile-avatar"}),(0,mt.jsxs)("div",{className:"profile-info",children:[(0,mt.jsx)("div",{className:"profile-name",children:t.displayName||t.name||"User"}),(0,mt.jsx)("div",{className:"profile-email",children:t.email})]})]})}):(0,mt.jsx)("div",{className:"profile-container",children:(0,mt.jsx)("div",{children:"No profile found."})})}function Un(){const{user:e}=yt(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{s(!0),o(null);try{const e=(await vt("getUserSwaps","GET")).filter(e=>"accepted"===e.status||"completed"===e.status);n(e)}catch(er){o("Failed to load order/swap history")}s(!1)})()},[e]),i?(0,mt.jsx)("div",{style:{padding:40,textAlign:"center"},children:"Loading..."}):a?(0,mt.jsx)("div",{style:{padding:40,textAlign:"center",color:"#c00"},children:a}):e?t&&0!==t.length?(0,mt.jsx)("div",{style:{maxWidth:900,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:32},children:[(0,mt.jsxs)("div",{style:{textAlign:"center",marginBottom:32},children:[(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,marginBottom:8,color:"#232F3E"},children:"Order / Swap History"}),(0,mt.jsx)("p",{style:{color:"#666",fontSize:"1rem"},children:"View all your completed swaps and orders"})]}),(0,mt.jsx)("div",{style:{overflowX:"auto"},children:(0,mt.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:24},children:[(0,mt.jsx)("thead",{children:(0,mt.jsxs)("tr",{style:{background:"#f7faff"},children:[(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Swap/Order ID"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Your Item"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Other Item"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Net Amount"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Status"}),(0,mt.jsx)("th",{style:{padding:12,borderBottom:"2px solid #e0e7ff"},children:"Date"})]})}),(0,mt.jsx)("tbody",{children:t.map(e=>(0,mt.jsxs)("tr",{style:{borderBottom:"1px solid #e0e7ff"},children:[(0,mt.jsx)("td",{style:{padding:10},children:e.id}),(0,mt.jsx)("td",{style:{padding:10},children:e.itemOfferedId||"-"}),(0,mt.jsx)("td",{style:{padding:10},children:e.itemRequestedId||"-"}),(0,mt.jsx)("td",{style:{padding:10,fontWeight:600,color:e.netAmount>0?"#ff4d6d":e.netAmount<0?"#22a06b":"#232F3E"},children:0===e.netAmount?"Even":e.netAmount>0?`Pay \u20b9${e.netAmount}`:`Receive \u20b9${Math.abs(e.netAmount)}`}),(0,mt.jsx)("td",{style:{padding:10,fontWeight:600,color:"accepted"===e.status?"#22a06b":"declined"===e.status?"#c00":"#a259f7"},children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,mt.jsx)("td",{style:{padding:10},children:e.createdAt?new Date(e.createdAt._seconds?1e3*e.createdAt._seconds:e.createdAt).toLocaleDateString():"-"})]},e.id))})]})}),(0,mt.jsx)("div",{style:{textAlign:"center"},children:(0,mt.jsx)(xn,{variant:"secondary",onClick:()=>window.location.href="/browse",children:"Back to Browse"})})]})}):(0,mt.jsx)("div",{style:{maxWidth:600,margin:"40px auto",padding:"0 20px"},children:(0,mt.jsxs)("div",{style:{background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.05)",padding:40,textAlign:"center"},children:[(0,mt.jsx)("div",{style:{fontSize:"3rem",marginBottom:16},children:"\ud83d\udce6"}),(0,mt.jsx)("h2",{style:{fontWeight:800,fontSize:28,color:"#232F3E",marginBottom:16},children:"No Completed Swaps/Orders"}),(0,mt.jsx)("p",{style:{color:"#666",marginBottom:24,fontSize:"1.1rem"},children:"You have no completed swaps or orders yet. Start swapping or buying!"}),(0,mt.jsx)(xn,{variant:"premium",onClick:()=>window.location.href="/browse",children:"Browse Items"})]})}):(0,mt.jsxs)("div",{style:{padding:40,textAlign:"center"},children:[(0,mt.jsx)("h2",{children:"Sign In Required"}),(0,mt.jsx)("p",{children:"You must be logged in to view your order/swap history."}),(0,mt.jsx)(xn,{onClick:()=>window.location.href="/login",children:"Sign In"})]})}const Vn=()=>(0,mt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50",children:[(0,mt.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 text-white py-20",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,mt.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["About ",(0,mt.jsx)("span",{className:"text-secondary-200",children:"Swapin"})]}),(0,mt.jsx)("p",{className:"text-xl md:text-2xl text-primary-100 max-w-3xl mx-auto",children:"India's Premier Consumer-to-Consumer Barter & Swap Platform"}),(0,mt.jsx)("p",{className:"text-lg text-primary-200 mt-4 max-w-2xl mx-auto",children:"Connecting people through sustainable exchanges, one item at a time"})]})}),(0,mt.jsx)("div",{className:"py-16 bg-white",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-16",children:[(0,mt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Mission"}),(0,mt.jsx)("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto",children:"To revolutionize the way people exchange goods by creating a secure, efficient, and sustainable platform that promotes circular economy while building meaningful connections between consumers."})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,mt.jsxs)("div",{className:"text-center p-6 rounded-lg bg-primary-50",children:[(0,mt.jsx)(Kt,{className:"text-4xl text-primary-600 mx-auto mb-4"}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Smart Exchanges"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Intelligent matching system that calculates fair value exchanges and handles price differences automatically."})]}),(0,mt.jsxs)("div",{className:"text-center p-6 rounded-lg bg-secondary-50",children:[(0,mt.jsx)(cn,{className:"text-4xl text-secondary-600 mx-auto mb-4"}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Secure Platform"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Built with enterprise-grade security, protecting your data and ensuring safe transactions every time."})]}),(0,mt.jsxs)("div",{className:"text-center p-6 rounded-lg bg-primary-50",children:[(0,mt.jsx)(mn,{className:"text-4xl text-primary-600 mx-auto mb-4"}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Seamless Delivery"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Professional third-party delivery service with item verification and secure handover processes."})]})]})]})}),(0,mt.jsx)("div",{className:"py-16 bg-gray-50",children:(0,mt.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mt.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),(0,mt.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Founded in Mumbai, India, Swapin was born from a simple observation: people have valuable items they no longer need, while others are looking for exactly those items."}),(0,mt.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"We realized that traditional buying and selling often leaves both parties dissatisfied. That's why we created a platform that focuses on fair exchanges, where everyone wins."}),(0,mt.jsx)("p",{className:"text-lg text-gray-600",children:"Today, Swapin is more than just a trading platform - it's a community of conscious consumers who believe in sustainable consumption and meaningful connections."})]}),(0,mt.jsxs)("div",{className:"bg-gradient-to-br from-primary-400 to-secondary-400 rounded-2xl p-8 text-white",children:[(0,mt.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Why Swapin?"}),(0,mt.jsxs)("ul",{className:"space-y-3",children:[(0,mt.jsxs)("li",{className:"flex items-center",children:[(0,mt.jsx)(dn,{className:"text-yellow-300 mr-3"}),(0,mt.jsx)("span",{children:"Items valued at \u20b91000+ only"})]}),(0,mt.jsxs)("li",{className:"flex items-center",children:[(0,mt.jsx)(dn,{className:"text-yellow-300 mr-3"}),(0,mt.jsx)("span",{children:"No personal contact sharing"})]}),(0,mt.jsxs)("li",{className:"flex items-center",children:[(0,mt.jsx)(dn,{className:"text-yellow-300 mr-3"}),(0,mt.jsx)("span",{children:"Professional delivery service"})]}),(0,mt.jsxs)("li",{className:"flex items-center",children:[(0,mt.jsx)(dn,{className:"text-yellow-300 mr-3"}),(0,mt.jsx)("span",{children:"Item quality verification"})]}),(0,mt.jsxs)("li",{className:"flex items-center",children:[(0,mt.jsx)(dn,{className:"text-yellow-300 mr-3"}),(0,mt.jsx)("span",{children:"Secure payment handling"})]})]})]})]})})}),(0,mt.jsx)("div",{className:"py-16 bg-white",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-12",children:[(0,mt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Swapin by the Numbers"}),(0,mt.jsx)("p",{className:"text-xl text-gray-600",children:"Growing community of conscious consumers"})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-4 gap-8",children:[(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"10K+"}),(0,mt.jsx)("div",{className:"text-gray-600",children:"Active Users"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-4xl font-bold text-secondary-600 mb-2",children:"5K+"}),(0,mt.jsx)("div",{className:"text-gray-600",children:"Successful Exchanges"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"\u20b950L+"}),(0,mt.jsx)("div",{className:"text-gray-600",children:"Total Value Exchanged"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-4xl font-bold text-secondary-600 mb-2",children:"4.8\u2605"}),(0,mt.jsx)("div",{className:"text-gray-600",children:"User Rating"})]})]})]})}),(0,mt.jsx)("div",{className:"py-16 bg-gray-50",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-12",children:[(0,mt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),(0,mt.jsx)("p",{className:"text-xl text-gray-600",children:"Passionate individuals dedicated to revolutionizing consumer exchanges"})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-primary-400 to-secondary-400 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,mt.jsx)(yn,{className:"text-4xl text-white"})}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Development Team"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Expert engineers building secure, scalable solutions"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-secondary-400 to-primary-400 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,mt.jsx)(Jt,{className:"text-4xl text-white"})}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Customer Success"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Dedicated support team ensuring your satisfaction"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-primary-400 to-secondary-400 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,mt.jsx)(cn,{className:"text-4xl text-white"})}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Security Team"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Protecting your data and transactions 24/7"})]})]})]})}),(0,mt.jsx)("div",{className:"py-16 bg-gradient-to-r from-primary-600 to-secondary-600",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,mt.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Start Swapping?"}),(0,mt.jsx)("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of users who are already enjoying the benefits of smart, secure exchanges on Swapin."}),(0,mt.jsxs)("div",{className:"space-x-4",children:[(0,mt.jsx)(at,{to:"/signup",className:"inline-block bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Get Started"}),(0,mt.jsx)(at,{to:"/browse",className:"inline-block border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-colors",children:"Browse Items"})]})]})})]}),$n=()=>{re();const{user:e}=yt(),[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)({name:"",type:"home",address:"",city:"",state:"",pincode:"",phone:"",instructions:"",preferredTime:"anytime"});(0,r.useEffect)(()=>{const e=[{id:1,name:"Home",type:"home",address:"123 Main Street, Apartment 4B",city:"Mumbai",state:"Maharashtra",pincode:"400001",phone:"+91 98765 43210",instructions:"Call before delivery",preferredTime:"evening"},{id:2,name:"Office",type:"office",address:"456 Business Park, Floor 3",city:"Mumbai",state:"Maharashtra",pincode:"400002",phone:"+91 98765 43211",instructions:"Reception desk",preferredTime:"afternoon"}];s(e),o(e[0])},[]);const h=e=>{const{name:t,value:n}=e.target;d(e=>({...e,[t]:n}))};return(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 py-8",children:(0,mt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-8",children:[(0,mt.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Delivery & Pickup Locations"}),(0,mt.jsx)("p",{className:"text-lg text-gray-600",children:"Manage your delivery addresses and pickup preferences"})]}),a&&(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mt.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,mt.jsx)(tn,{className:"text-primary-600 mr-2"}),"Default Location"]}),(0,mt.jsx)("span",{className:"bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm font-medium",children:"Active"})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("p",{className:"font-medium text-gray-900",children:a.name}),(0,mt.jsx)("p",{className:"text-gray-600",children:a.address}),(0,mt.jsxs)("p",{className:"text-gray-600",children:[a.city,", ",a.state," ",a.pincode]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsxs)("p",{className:"text-gray-600",children:["Phone: ",a.phone]}),(0,mt.jsxs)("p",{className:"text-gray-600",children:["Preferred Time: ",a.preferredTime]}),a.instructions&&(0,mt.jsxs)("p",{className:"text-gray-600",children:["Instructions: ",a.instructions]})]})]})]}),(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Saved Locations"}),(0,mt.jsxs)("button",{onClick:()=>c(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center",children:[(0,mt.jsx)(qt,{className:"mr-2"}),"Add New"]})]}),(0,mt.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,mt.jsx)("div",{className:"border rounded-lg p-4 "+((null===a||void 0===a?void 0:a.id)===e.id?"border-primary-500 bg-primary-50":"border-gray-200"),children:(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-3",children:["home"===e.type?(0,mt.jsx)(Xt,{className:"text-primary-600"}):(0,mt.jsx)(Vt,{className:"text-secondary-600"}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,mt.jsx)("p",{className:"text-sm text-gray-600",children:e.address}),(0,mt.jsxs)("p",{className:"text-sm text-gray-600",children:[e.city,", ",e.state]})]})]}),(0,mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===a||void 0===a?void 0:a.id)!==e.id&&(0,mt.jsx)("button",{onClick:()=>(e=>{o(e)})(e),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Set Default"}),(0,mt.jsx)("button",{onClick:()=>(e=>{d(e),c(!0)})(e),className:"text-gray-600 hover:text-gray-800",children:(0,mt.jsx)(qt,{})}),(0,mt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this location?")&&(s(e=>e.filter(e=>e.id!==t)),(null===a||void 0===a?void 0:a.id)===t&&o(i[0]||null)));var t},className:"text-red-600 hover:text-red-800",children:"\xd7"})]})]})},e.id))})]}),l&&(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:u.id?"Edit Location":"Add New Location"}),(0,mt.jsx)("button",{onClick:()=>{c(!1),d({name:"",type:"home",address:"",city:"",state:"",pincode:"",phone:"",instructions:"",preferredTime:"anytime"})},className:"text-gray-600 hover:text-gray-800",children:"\xd7"})]}),(0,mt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n(!0);try{const e={id:Date.now(),...u};s(t=>[...t,e]),d({name:"",type:"home",address:"",city:"",state:"",pincode:"",phone:"",instructions:"",preferredTime:"anytime"}),c(!1),alert("Location saved successfully!")}catch(t){console.error("Error saving location:",t),alert("Failed to save location. Please try again.")}finally{n(!1)}},className:"space-y-6",children:[(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name"}),(0,mt.jsx)("input",{type:"text",name:"name",value:u.name,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Home, Office",required:!0})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Type"}),(0,mt.jsxs)("select",{name:"type",value:u.type,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"home",children:"Home"}),(0,mt.jsx)("option",{value:"office",children:"Office"}),(0,mt.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,mt.jsx)("textarea",{name:"address",value:u.address,onChange:h,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Full address",required:!0})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,mt.jsx)("input",{type:"text",name:"city",value:u.city,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Mumbai",required:!0})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),(0,mt.jsx)("input",{type:"text",name:"state",value:u.state,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Maharashtra",required:!0})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),(0,mt.jsx)("input",{type:"text",name:"pincode",value:u.pincode,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"400001",required:!0})]})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,mt.jsx)("input",{type:"tel",name:"phone",value:u.phone,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"+91 98765 43210",required:!0})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Delivery Time"}),(0,mt.jsxs)("select",{name:"preferredTime",value:u.preferredTime,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"anytime",children:"Anytime"}),(0,mt.jsx)("option",{value:"morning",children:"Morning (9 AM - 12 PM)"}),(0,mt.jsx)("option",{value:"afternoon",children:"Afternoon (12 PM - 4 PM)"}),(0,mt.jsx)("option",{value:"evening",children:"Evening (4 PM - 8 PM)"})]})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions (Optional)"}),(0,mt.jsx)("textarea",{name:"instructions",value:u.instructions,onChange:h,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g., Call before delivery, Leave at reception"})]}),(0,mt.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,mt.jsx)("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,mt.jsx)("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center",children:t?"Saving...":(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(an,{className:"mr-2"}),"Save Location"]})})]})]})]}),(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,mt.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mt.jsx)(mn,{className:"text-primary-600 mr-2"}),"Delivery Information"]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Standard Delivery"}),(0,mt.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,mt.jsx)("li",{children:"\u2022 2-3 business days"}),(0,mt.jsx)("li",{children:"\u2022 Professional third-party delivery"}),(0,mt.jsx)("li",{children:"\u2022 Item verification at pickup and delivery"}),(0,mt.jsx)("li",{children:"\u2022 Contactless delivery available"})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Express Delivery"}),(0,mt.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,mt.jsx)("li",{children:"\u2022 Same day delivery (Mumbai)"}),(0,mt.jsx)("li",{children:"\u2022 Next day delivery (other cities)"}),(0,mt.jsx)("li",{children:"\u2022 Priority handling"}),(0,mt.jsx)("li",{children:"\u2022 Additional charges apply"})]})]})]})]})]})})},Hn=()=>{const{user:e}=yt(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)("all");(0,r.useEffect)(()=>{(async()=>{s(!0),o(null);try{if(e){const e=await vt("getWishlist","GET");n(e)}}catch(er){o("Failed to load wishlist")}s(!1)})()},[e]);const u=t.filter(e=>"available"===l?e.isAvailable:"unavailable"!==l||!e.isAvailable);return i?(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center",children:(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Loading your wishlist..."})]})}):(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 py-8",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-8",children:[(0,mt.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[(0,mt.jsx)(Jt,{className:"text-red-500 mr-3"}),"My Wishlist"]}),(0,mt.jsxs)("p",{className:"text-lg text-gray-600",children:[t.length," items saved for later"]})]}),(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:(0,mt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),(0,mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsxs)("option",{value:"all",children:["All Items (",t.length,")"]}),(0,mt.jsxs)("option",{value:"available",children:["Available (",t.filter(e=>e.isAvailable).length,")"]}),(0,mt.jsxs)("option",{value:"unavailable",children:["Unavailable (",t.filter(e=>!e.isAvailable).length,")"]})]})]}),(0,mt.jsxs)("div",{className:"text-sm text-gray-600",children:["Total Value: \u20b9",t.reduce((e,t)=>e+t.price,0).toLocaleString()]})]})}),0===u.length?(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,mt.jsx)(Jt,{className:"text-4xl text-gray-300 mx-auto mb-4"}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"all"===l?"Your wishlist is empty":"No items match your filter"}),(0,mt.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===l?"Start browsing and save items you love to your wishlist!":"Try adjusting your filter to see more items."}),"all"===l&&(0,mt.jsx)(at,{to:"/browse",className:"inline-block bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors",children:"Browse Items"})]}):(0,mt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>{const t=((e,t)=>{const n=t-e;return{difference:n,percentage:(n/t*100).toFixed(1)}})(e.price,e.originalPrice);return(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,mt.jsxs)("div",{className:"relative",children:[(0,mt.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),!e.isAvailable&&(0,mt.jsx)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-sm font-medium",children:"Unavailable"}),t.difference>0&&(0,mt.jsxs)("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-sm font-medium",children:["-",t.percentage,"%"]}),(0,mt.jsxs)("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:[(0,mt.jsx)("button",{onClick:()=>(e=>{const t=`${window.location.origin}/product/${e.itemId}`;navigator.share?navigator.share({title:e.title,text:`Check out this item on Swapin: ${e.title}`,url:t}):(navigator.clipboard.writeText(t),alert("Link copied to clipboard!"))})(e),className:"bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-all",title:"Share",children:(0,mt.jsx)(ln,{className:"text-gray-600"})}),(0,mt.jsx)("button",{onClick:()=>(async e=>{try{n(t=>t.filter(t=>t.id!==e)),alert("Item removed from wishlist")}catch(a){console.error("Error removing from wishlist:",a),alert("Failed to remove item from wishlist")}})(e.id),className:"bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-all",title:"Remove from wishlist",children:(0,mt.jsx)(pn,{className:"text-red-500"})})]})]}),(0,mt.jsxs)("div",{className:"p-4",children:[(0,mt.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,mt.jsx)("h3",{className:"font-semibold text-gray-900 text-lg line-clamp-2",children:e.title})}),(0,mt.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,mt.jsx)("span",{className:"text-yellow-400",children:"\u2605"}),(0,mt.jsx)("span",{className:"text-sm text-gray-600",children:e.rating}),(0,mt.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.reviewCount,")"]})]}),(0,mt.jsx)("span",{className:"text-sm text-gray-500",children:e.location})]}),(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["\u20b9",e.price]}),t.difference>0&&(0,mt.jsxs)("span",{className:"text-sm text-gray-500 line-through ml-2",children:["\u20b9",e.originalPrice]})]}),(0,mt.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.category})]}),(0,mt.jsxs)("div",{className:"text-xs text-gray-500 mb-4",children:["Added on ",new Date(e.addedAt).toLocaleDateString()]}),(0,mt.jsxs)("div",{className:"flex space-x-2",children:[(0,mt.jsxs)(at,{to:`/product/${e.itemId}`,className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center justify-center",children:[(0,mt.jsx)(Qt,{className:"mr-1"}),"View"]}),e.isAvailable?(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsxs)("button",{onClick:()=>(async e=>{try{n(t=>t.filter(t=>t.id!==e.id)),alert("Item moved to cart successfully!")}catch(a){console.error("Error moving to cart:",a),alert("Failed to move item to cart")}})(e),className:"flex-1 bg-primary-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors flex items-center justify-center",children:[(0,mt.jsx)(un,{className:"mr-1"}),"Add to Cart"]}),(0,mt.jsxs)(at,{to:`/exchange/${e.itemId}`,className:"flex-1 bg-secondary-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-secondary-700 transition-colors flex items-center justify-center",children:[(0,mt.jsx)(Kt,{className:"mr-1"}),"Exchange"]})]}):(0,mt.jsx)("button",{disabled:!0,className:"flex-1 bg-gray-300 text-gray-500 py-2 px-3 rounded-lg text-sm font-medium cursor-not-allowed",children:"Unavailable"})]})]})]},e.id)})}),u.length>0&&(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-8",children:[(0,mt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bulk Actions"}),(0,mt.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,mt.jsxs)("button",{onClick:()=>{const e=u.filter(e=>e.isAvailable);e.length>0?alert(`Added ${e.length} items to cart!`):alert("No available items to add to cart")},className:"bg-primary-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors flex items-center",children:[(0,mt.jsx)(un,{className:"mr-2"}),"Add All Available to Cart"]}),(0,mt.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to clear your wishlist?")&&n([])},className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center",children:[(0,mt.jsx)(pn,{className:"mr-2"}),"Clear Wishlist"]})]})]})]})})},Wn=()=>{const{user:e}=yt(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)("all"),[u,d]=(0,r.useState)({total:0,active:0,paused:0,sold:0,totalViews:0,totalLikes:0});(0,r.useEffect)(()=>{(async()=>{s(!0),o(null);try{if(e){const t=await vt("getItems","GET",{ownerId:e.uid});n(t);const r=t.length,i=t.filter(e=>"active"===e.status).length,s=t.filter(e=>"paused"===e.status).length,a=t.filter(e=>"sold"===e.status).length,o=t.reduce((e,t)=>e+(t.views||0),0),l=t.reduce((e,t)=>e+(t.likes||0),0);d({total:r,active:i,paused:s,sold:a,totalViews:o,totalLikes:l})}}catch(er){o("Failed to load listings")}s(!1)})()},[e]);const h=async(e,r)=>{try{n(t=>t.map(t=>t.id===e?{...t,status:r}:t));const i=t.map(t=>t.id===e?{...t,status:r}:t),s=i.filter(e=>"active"===e.status).length,a=i.filter(e=>"paused"===e.status).length,o=i.filter(e=>"sold"===e.status).length;d(e=>({...e,active:s,paused:a,sold:o})),alert(`Listing ${"active"===r?"activated":"paused"===r?"paused":"marked as sold"} successfully!`)}catch(a){console.error("Error updating listing status:",a),alert("Failed to update listing status")}},f=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=t.filter(e=>"all"===l||e.status===l);return i?(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center",children:(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Loading your listings..."})]})}):(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 py-8",children:(0,mt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-8",children:[(0,mt.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[(0,mt.jsx)(en,{className:"text-primary-600 mr-3"}),"My Listings"]}),(0,mt.jsx)("p",{className:"text-lg text-gray-600",children:"Manage your posted items and track their performance"})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Listings"}),(0,mt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:u.total})]}),(0,mt.jsx)(en,{className:"text-3xl text-primary-600"})]})}),(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,mt.jsx)("p",{className:"text-2xl font-bold text-green-600",children:u.active})]}),(0,mt.jsx)(sn,{className:"text-3xl text-green-600"})]})}),(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),(0,mt.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:u.totalViews})]}),(0,mt.jsx)(Qt,{className:"text-3xl text-blue-600"})]})}),(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:(0,mt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Likes"}),(0,mt.jsx)("p",{className:"text-2xl font-bold text-red-600",children:u.totalLikes})]}),(0,mt.jsx)(Jt,{className:"text-3xl text-red-600"})]})})]}),(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:(0,mt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),(0,mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsxs)("option",{value:"all",children:["All Listings (",u.total,")"]}),(0,mt.jsxs)("option",{value:"active",children:["Active (",u.active,")"]}),(0,mt.jsxs)("option",{value:"paused",children:["Paused (",u.paused,")"]}),(0,mt.jsxs)("option",{value:"sold",children:["Sold (",u.sold,")"]})]})]}),(0,mt.jsxs)(at,{to:"/list",className:"bg-primary-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors flex items-center",children:[(0,mt.jsx)(qt,{className:"mr-2"}),"Post New Item"]})]})}),0===p.length?(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,mt.jsx)(en,{className:"text-4xl text-gray-300 mx-auto mb-4"}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"all"===l?"No listings yet":"No listings match your filter"}),(0,mt.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===l?"Start by posting your first item for exchange!":"Try adjusting your filter to see more listings."}),"all"===l&&(0,mt.jsx)(at,{to:"/list",className:"inline-block bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors",children:"Post Your First Item"})]}):(0,mt.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,mt.jsxs)("div",{className:"relative",children:[(0,mt.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),(0,mt.jsx)("div",{className:"absolute top-2 left-2",children:(0,mt.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${f(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,mt.jsxs)("div",{className:"absolute bottom-2 right-2 flex space-x-2",children:[(0,mt.jsx)(at,{to:`/product/${e.id}`,className:"bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-all",title:"View",children:(0,mt.jsx)(Qt,{className:"text-gray-600"})}),(0,mt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone."))try{n(t=>t.filter(t=>t.id!==e)),alert("Listing deleted successfully!")}catch(a){console.error("Error deleting listing:",a),alert("Failed to delete listing")}})(e.id),className:"bg-white bg-opacity-90 p-2 rounded-full hover:bg-opacity-100 transition-all",title:"Delete",children:(0,mt.jsx)(pn,{className:"text-red-500"})})]})]}),(0,mt.jsxs)("div",{className:"p-4",children:[(0,mt.jsx)("h3",{className:"font-semibold text-gray-900 text-lg mb-2 line-clamp-2",children:e.title}),(0,mt.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,mt.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["\u20b9",e.price.toLocaleString()]}),(0,mt.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.category})]}),(0,mt.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center",children:[(0,mt.jsxs)("div",{className:"text-xs",children:[(0,mt.jsx)("div",{className:"font-medium text-gray-900",children:e.views}),(0,mt.jsx)("div",{className:"text-gray-500",children:"Views"})]}),(0,mt.jsxs)("div",{className:"text-xs",children:[(0,mt.jsx)("div",{className:"font-medium text-gray-900",children:e.likes}),(0,mt.jsx)("div",{className:"text-gray-500",children:"Likes"})]}),(0,mt.jsxs)("div",{className:"text-xs",children:[(0,mt.jsx)("div",{className:"font-medium text-gray-900",children:e.exchanges}),(0,mt.jsx)("div",{className:"text-gray-500",children:"Offers"})]})]}),(0,mt.jsxs)("div",{className:"text-xs text-gray-500 mb-4",children:["Posted: ",new Date(e.postedAt).toLocaleDateString()]}),(0,mt.jsxs)("div",{className:"space-y-2",children:["active"===e.status&&(0,mt.jsxs)("button",{onClick:()=>h(e.id,"paused"),className:"w-full bg-yellow-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center justify-center",children:[(0,mt.jsx)(rn,{className:"mr-2"}),"Pause Listing"]}),"paused"===e.status&&(0,mt.jsxs)("button",{onClick:()=>h(e.id,"active"),className:"w-full bg-green-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center justify-center",children:[(0,mt.jsx)(sn,{className:"mr-2"}),"Activate Listing"]}),"sold"!==e.status&&(0,mt.jsxs)("button",{onClick:()=>h(e.id,"sold"),className:"w-full bg-gray-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors flex items-center justify-center",children:[(0,mt.jsx)($t,{className:"mr-2"}),"Mark as Sold"]}),(0,mt.jsxs)(at,{to:`/edit-listing/${e.id}`,className:"w-full bg-primary-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors flex items-center justify-center",children:[(0,mt.jsx)(qt,{className:"mr-2"}),"Edit Listing"]})]})]})]},e.id))}),p.length>0&&(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-8",children:[(0,mt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Summary"}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p.reduce((e,t)=>e+t.views,0)}),(0,mt.jsx)("div",{className:"text-sm text-gray-600",children:"Total Views"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-2xl font-bold text-red-600",children:p.reduce((e,t)=>e+t.likes,0)}),(0,mt.jsx)("div",{className:"text-sm text-gray-600",children:"Total Likes"})]}),(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.reduce((e,t)=>e+t.exchanges,0)}),(0,mt.jsx)("div",{className:"text-sm text-gray-600",children:"Exchange Offers"})]})]})]})]})})},qn=()=>{const{user:e}=yt(),[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(!0),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)("all"),[u,d]=(0,r.useState)(0),[h,f]=(0,r.useState)("");(0,r.useEffect)(()=>{let t;const r=async()=>{s(!0),o(null);try{if(e){const e=await vt("getNotifications","GET");n(e),d(e.filter(e=>!e.isRead).length)}else n([]),d(0)}catch(er){o("Failed to load notifications")}s(!1)};return r(),t=setInterval(r,1e4),()=>clearInterval(t)},[e]),(0,r.useEffect)(()=>{t.length>0&&(async()=>{if(e&&t.some(e=>!e.isRead))try{await Promise.all(t.filter(e=>!e.isRead).map(e=>vt("markNotificationRead","POST",{notificationId:e.id}))),f("All notifications marked as read.")}catch(er){}})()},[t,e]);const p=e=>{switch(e){case"exchange_offer":return(0,mt.jsx)(Kt,{className:"text-blue-600"});case"like":return(0,mt.jsx)(Jt,{className:"text-red-600"});case"view":return(0,mt.jsx)(Qt,{className:"text-green-600"});case"delivery":return(0,mt.jsx)(Ut,{className:"text-orange-600"});default:return(0,mt.jsx)(Ut,{className:"text-gray-600"})}},m=e=>{switch(e){case"high":return"border-l-4 border-red-500";case"medium":return"border-l-4 border-yellow-500";case"low":return"border-l-4 border-green-500";default:return"border-l-4 border-gray-300"}},g=e=>{const t=new Date,n=new Date(e),r=Math.floor((t-n)/6e4);return r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:`${Math.floor(r/1440)}d ago`},y=t.filter(e=>"all"===l||("unread"===l?!e.isRead:e.type===l));return i?(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center",children:(0,mt.jsxs)("div",{className:"text-center",children:[(0,mt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"Loading notifications..."})]})}):(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 py-8",children:(0,mt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-8",children:[(0,mt.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[(0,mt.jsx)(Ut,{className:"text-primary-600 mr-3"}),"Notifications"]}),(0,mt.jsx)("p",{className:"text-lg text-gray-600",children:u>0?`${u} unread notification${u>1?"s":""}`:"All caught up!"})]}),(0,mt.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:(0,mt.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,mt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mt.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),(0,mt.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsxs)("option",{value:"all",children:["All (",t.length,")"]}),(0,mt.jsxs)("option",{value:"unread",children:["Unread (",u,")"]}),(0,mt.jsxs)("option",{value:"exchange_offer",children:["Exchange Offers (",t.filter(e=>"exchange_offer"===e.type).length,")"]}),(0,mt.jsxs)("option",{value:"like",children:["Likes (",t.filter(e=>"like"===e.type).length,")"]}),(0,mt.jsxs)("option",{value:"view",children:["Views (",t.filter(e=>"view"===e.type).length,")"]}),(0,mt.jsxs)("option",{value:"delivery",children:["Delivery (",t.filter(e=>"delivery"===e.type).length,")"]}),(0,mt.jsxs)("option",{value:"system",children:["System (",t.filter(e=>"system"===e.type).length,")"]})]})]}),(0,mt.jsxs)("div",{className:"flex space-x-2",children:[u>0&&(0,mt.jsxs)("button",{onClick:async()=>{try{n(e=>e.map(e=>({...e,isRead:!0}))),d(0)}catch(a){console.error("Error marking all notifications as read:",a)}},className:"bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors flex items-center",children:[(0,mt.jsx)(Ht,{className:"mr-2"}),"Mark All Read"]}),(0,mt.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear all notifications?"))try{n([]),d(0)}catch(a){console.error("Error clearing all notifications:",a)}},className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors flex items-center",children:[(0,mt.jsx)(pn,{className:"mr-2"}),"Clear All"]})]})]})}),0===y.length?(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,mt.jsx)(Ut,{className:"text-4xl text-gray-300 mx-auto mb-4"}),(0,mt.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"all"===l?"No notifications yet":"No notifications match your filter"}),(0,mt.jsx)("p",{className:"text-gray-600",children:"all"===l?"You'll see notifications here when you receive exchange offers, likes, and updates.":"Try adjusting your filter to see more notifications."})]}):(0,mt.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,mt.jsx)("div",{className:`bg-white rounded-lg shadow-lg p-6 ${m(e.priority)} ${e.isRead?"":"ring-2 ring-primary-200"}`,children:(0,mt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mt.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,mt.jsx)("div",{className:"flex-shrink-0 mt-1",children:p(e.type)}),(0,mt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,mt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),(0,mt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mt.jsx)("span",{className:"text-sm text-gray-500",children:g(e.timestamp)}),!e.isRead&&(0,mt.jsx)("span",{className:"w-2 h-2 bg-primary-600 rounded-full"})]})]}),(0,mt.jsx)("p",{className:"text-gray-600 mb-3",children:e.message}),e.itemId&&(0,mt.jsxs)(at,{to:`/product/${e.itemId}`,className:"inline-block bg-gray-100 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-200 transition-colors",children:["View Item: ",e.itemTitle]})]})]}),(0,mt.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.isRead&&(0,mt.jsx)("button",{onClick:()=>(async e=>{try{n(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t)),d(e=>e-1)}catch(a){console.error("Error marking notification as read:",a)}})(e.id),className:"text-primary-600 hover:text-primary-700 p-1",title:"Mark as read",children:(0,mt.jsx)(Ht,{})}),(0,mt.jsx)("button",{onClick:()=>(async e=>{try{const r=t.find(t=>t.id===e);n(t=>t.filter(t=>t.id!==e)),r.isRead||d(e=>e-1)}catch(a){console.error("Error deleting notification:",a)}})(e.id),className:"text-red-600 hover:text-red-700 p-1",title:"Delete notification",children:(0,mt.jsx)(fn,{})})]})]})},e.id))}),(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-8",children:[(0,mt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Settings"}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Email Notifications"}),(0,mt.jsxs)("div",{className:"space-y-2",children:[(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Exchange offers"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Likes and views"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Delivery updates"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Marketing emails"})]})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Push Notifications"}),(0,mt.jsxs)("div",{className:"space-y-2",children:[(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"New exchange offers"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Item interactions"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Delivery status"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Promotional alerts"})]})]})]})]})]})]})})};function Kn(){return(0,mt.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:[(0,mt.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 1s linear infinite"},children:[(0,mt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",opacity:"0.2"}),(0,mt.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"#3b82f6",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]}),(0,mt.jsx)("style",{children:"@keyframes spin { 100% { transform: rotate(360deg); } }"})]})}const Gn=()=>{const{user:e,logout:t}=yt(),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)("profile"),[o,l]=(0,r.useState)({displayName:(null===e||void 0===e?void 0:e.displayName)||"",email:(null===e||void 0===e?void 0:e.email)||"",phone:"",bio:"",location:"Mumbai",avatar:(null===e||void 0===e?void 0:e.photoURL)||""}),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)({notifications:{email:!0,push:!0,exchangeOffers:!0,likes:!0,views:!0,delivery:!0,marketing:!1},privacy:{profileVisibility:"public",showEmail:!1,showPhone:!1,allowMessages:!0,showOnlineStatus:!0},preferences:{language:"en",currency:"INR",timezone:"Asia/Kolkata",theme:"light"}}),{showToast:b}=wt();(0,r.useEffect)(()=>{e&&l(t=>({...t,displayName:e.displayName||"",email:e.email||"",avatar:e.photoURL||""}))},[e]);const x=(e,t,n)=>{v(r=>({...r,[e]:{...r[e],[t]:n}}))},w=[{id:"profile",name:"Profile",icon:gn},{id:"security",name:"Security",icon:cn},{id:"notifications",name:"Notifications",icon:Ut},{id:"privacy",name:"Privacy",icon:Yt},{id:"preferences",name:"Preferences",icon:nn}];return(0,mt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 py-8",children:(0,mt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mt.jsxs)("div",{className:"text-center mb-8",children:[(0,mt.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[(0,mt.jsx)(Wt,{className:"text-primary-600 mr-3"}),"Account Settings"]}),(0,mt.jsx)("p",{className:"text-lg text-gray-600",children:"Manage your account preferences and settings"})]}),(0,mt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,mt.jsx)("div",{className:"border-b border-gray-200",children:(0,mt.jsx)("nav",{className:"flex space-x-8 px-6",children:w.map(e=>{const t=e.icon;return(0,mt.jsxs)("button",{onClick:()=>a(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 "+(s===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,mt.jsx)(t,{}),(0,mt.jsx)("span",{children:e.name})]},e.id)})})}),(0,mt.jsxs)("div",{className:"p-6",children:["profile"===s&&(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Information"}),(0,mt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),u(""),h("");try{await vt("createUserProfile","POST",{displayName:o.displayName,email:o.email,photoURL:o.avatar}),u("Profile updated successfully!"),b("Profile updated successfully!","success")}catch(t){h("Failed to update profile."),b("Failed to update profile.","error")}i(!1)},className:"space-y-6",children:[(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),(0,mt.jsx)("input",{type:"text",value:o.displayName,onChange:e=>l(t=>({...t,displayName:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your display name"})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,mt.jsx)("input",{type:"email",value:o.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),(0,mt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,mt.jsx)("input",{type:"tel",value:o.phone,onChange:e=>l(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"+91 98765 43210"})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,mt.jsxs)("select",{value:o.location,onChange:e=>l(t=>({...t,location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"Mumbai",children:"Mumbai"}),(0,mt.jsx)("option",{value:"Delhi",children:"Delhi"}),(0,mt.jsx)("option",{value:"Bangalore",children:"Bangalore"}),(0,mt.jsx)("option",{value:"Chennai",children:"Chennai"}),(0,mt.jsx)("option",{value:"Kolkata",children:"Kolkata"})]})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),(0,mt.jsx)("textarea",{value:o.bio,onChange:e=>l(t=>({...t,bio:e.target.value})),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Tell us about yourself..."})]}),(0,mt.jsx)("div",{className:"flex justify-end",children:(0,mt.jsx)("button",{type:"submit",disabled:n,className:"bg-primary-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center",children:n?(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(Kn,{})," Saving..."]}):(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(an,{className:"mr-2"}),"Save Changes"]})})})]})]}),"security"===s&&(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),(0,mt.jsxs)("div",{className:"space-y-6",children:[(0,mt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,mt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),(0,mt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f.newPassword===f.confirmPassword)if(f.newPassword.length<6)alert("Password must be at least 6 characters long");else{i(!0);try{p({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully!")}catch(d){console.error("Error changing password:",d),alert("Failed to change password")}finally{i(!1)}}else alert("New passwords do not match")},className:"space-y-4",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,mt.jsxs)("div",{className:"relative",children:[(0,mt.jsx)("input",{type:m?"text":"password",value:f.currentPassword,onChange:e=>p(t=>({...t,currentPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter current password",required:!0}),(0,mt.jsx)("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:m?(0,mt.jsx)(Gt,{}):(0,mt.jsx)(Qt,{})})]})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,mt.jsx)("input",{type:m?"text":"password",value:f.newPassword,onChange:e=>p(t=>({...t,newPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter new password",required:!0})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,mt.jsx)("input",{type:m?"text":"password",value:f.confirmPassword,onChange:e=>p(t=>({...t,confirmPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm new password",required:!0})]})]}),(0,mt.jsx)("div",{className:"flex justify-end",children:(0,mt.jsx)("button",{type:"submit",disabled:n,className:"bg-primary-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:opacity-50",children:n?"Changing...":"Change Password"})})]})]}),(0,mt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[(0,mt.jsx)("h3",{className:"text-lg font-medium text-red-900 mb-4",children:"Danger Zone"}),(0,mt.jsx)("p",{className:"text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),(0,mt.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently lost.")&&window.confirm("This is your final warning. Are you absolutely sure?")&&t()},className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center",children:[(0,mt.jsx)(pn,{className:"mr-2"}),"Delete Account"]})]})]})]}),"notifications"===s&&(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),(0,mt.jsx)("div",{className:"space-y-6",children:(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Notifications"}),(0,mt.jsx)("div",{className:"space-y-3",children:Object.entries(y.notifications).map(e=>{let[t,n]=e;return(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",checked:n,onChange:e=>x("notifications",t,e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-3 text-sm text-gray-700 capitalize",children:t.replace(/([A-Z])/g," $1").toLowerCase()})]},t)})})]})})]}),"privacy"===s&&(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Privacy Settings"}),(0,mt.jsxs)("div",{className:"space-y-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Visibility"}),(0,mt.jsxs)("select",{value:y.privacy.profileVisibility,onChange:e=>x("privacy","profileVisibility",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"public",children:"Public"}),(0,mt.jsx)("option",{value:"friends",children:"Friends Only"}),(0,mt.jsx)("option",{value:"private",children:"Private"})]})]}),(0,mt.jsxs)("div",{className:"space-y-3",children:[(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",checked:y.privacy.showEmail,onChange:e=>x("privacy","showEmail",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"Show email to other users"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",checked:y.privacy.showPhone,onChange:e=>x("privacy","showPhone",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"Show phone number to other users"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",checked:y.privacy.allowMessages,onChange:e=>x("privacy","allowMessages",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"Allow messages from other users"})]}),(0,mt.jsxs)("label",{className:"flex items-center",children:[(0,mt.jsx)("input",{type:"checkbox",checked:y.privacy.showOnlineStatus,onChange:e=>x("privacy","showOnlineStatus",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,mt.jsx)("span",{className:"ml-3 text-sm text-gray-700",children:"Show online status"})]})]})]})]}),"preferences"===s&&(0,mt.jsxs)("div",{children:[(0,mt.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Preferences"}),(0,mt.jsxs)("div",{className:"space-y-6",children:[(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),(0,mt.jsxs)("select",{value:y.preferences.language,onChange:e=>x("preferences","language",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"en",children:"English"}),(0,mt.jsx)("option",{value:"hi",children:"Hindi"}),(0,mt.jsx)("option",{value:"mr",children:"Marathi"})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),(0,mt.jsxs)("select",{value:y.preferences.currency,onChange:e=>x("preferences","currency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"INR",children:"Indian Rupee (\u20b9)"}),(0,mt.jsx)("option",{value:"USD",children:"US Dollar ($)"}),(0,mt.jsx)("option",{value:"EUR",children:"Euro (\u20ac)"})]})]})]}),(0,mt.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,mt.jsxs)("select",{value:y.preferences.timezone,onChange:e=>x("preferences","timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"Asia/Kolkata",children:"India (IST)"}),(0,mt.jsx)("option",{value:"Asia/Dubai",children:"Dubai (GST)"}),(0,mt.jsx)("option",{value:"America/New_York",children:"New York (EST)"})]})]}),(0,mt.jsxs)("div",{children:[(0,mt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,mt.jsxs)("select",{value:y.preferences.theme,onChange:e=>x("preferences","theme",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,mt.jsx)("option",{value:"light",children:"Light"}),(0,mt.jsx)("option",{value:"dark",children:"Dark"}),(0,mt.jsx)("option",{value:"auto",children:"Auto"})]})]})]})]})]}),"profile"!==s&&"security"!==s&&(0,mt.jsx)("div",{className:"mt-8 flex justify-end",children:(0,mt.jsx)("button",{onClick:async()=>{i(!0);try{alert("Settings saved successfully!")}catch(d){console.error("Error saving settings:",d),alert("Failed to save settings")}finally{i(!1)}},disabled:n,className:"bg-primary-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center",children:n?"Saving...":(0,mt.jsxs)(mt.Fragment,{children:[(0,mt.jsx)(an,{className:"mr-2"}),"Save Settings"]})})})]})]})]})})},Qn=e=>{let{children:t}=e;const{user:n}=yt();return n?t:(0,mt.jsx)(we,{to:"/login"})},Yn=()=>{const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),{user:c}=yt();return(0,r.useEffect)(()=>{(async()=>{a(!0),l(null);try{if(c){const e=await vt("getAvailableItems","GET");i(e)}}catch(er){l("Failed to load items")}a(!1)})()},[c]),(0,mt.jsx)(it,{children:(0,mt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,mt.jsx)(bn,{searchValue:e,onSearchChange:t}),(0,mt.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,mt.jsxs)(Ee,{children:[(0,mt.jsx)(Se,{path:"/",element:(0,mt.jsx)(kn,{items:n,search:e})}),(0,mt.jsx)(Se,{path:"/browse",element:(0,mt.jsx)(kn,{items:n,search:e})}),(0,mt.jsx)(Se,{path:"/login",element:(0,mt.jsx)(Ln,{})}),(0,mt.jsx)(Se,{path:"/signup",element:(0,mt.jsx)(Bn,{})}),(0,mt.jsx)(Se,{path:"/about",element:(0,mt.jsx)(Vn,{})}),(0,mt.jsx)(Se,{path:"/list",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(Dn,{})})}),(0,mt.jsx)(Se,{path:"/cart",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(En,{})})}),(0,mt.jsx)(Se,{path:"/product/:id",element:(0,mt.jsx)(Fn,{})}),(0,mt.jsx)(Se,{path:"/exchange/:id",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(jn,{})})}),(0,mt.jsx)(Se,{path:"/delivery/:id",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(_n,{})})}),(0,mt.jsx)(Se,{path:"/location",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)($n,{})})}),(0,mt.jsx)(Se,{path:"/profile",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(zn,{})})}),(0,mt.jsx)(Se,{path:"/updates",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(Un,{})})}),(0,mt.jsx)(Se,{path:"/exchange-offers",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(An,{})})}),(0,mt.jsx)(Se,{path:"/wishlist",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(Hn,{})})}),(0,mt.jsx)(Se,{path:"/my-listings",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(Wn,{})})}),(0,mt.jsx)(Se,{path:"/notifications",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(qn,{})})}),(0,mt.jsx)(Se,{path:"/settings",element:(0,mt.jsx)(Qn,{children:(0,mt.jsx)(Gn,{})})})]})})]})})},Jn=()=>(0,mt.jsx)(St,{children:(0,mt.jsx)(bt,{children:(0,mt.jsx)(Nt,{children:(0,mt.jsx)(Yn,{})})})});const Xn=(0,r.createContext)(null);function Zn(e){let{clientId:t,nonce:n,onScriptLoadSuccess:i,onScriptLoadError:s,children:a}=e;const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:i}=e,[s,a]=(0,r.useState)(!1),o=(0,r.useRef)(n);o.current=n;const l=(0,r.useRef)(i);return l.current=i,(0,r.useEffect)(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;a(!0),null===(e=o.current)||void 0===e||e.call(o)},e.onerror=()=>{var e;a(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),s}({nonce:n,onScriptLoadSuccess:i,onScriptLoadError:s}),l=(0,r.useMemo)(()=>({clientId:t,scriptLoadedSuccessfully:o}),[t,o]);return r.createElement(Xn.Provider,{value:l},a)}i.createRoot(document.getElementById("root")).render((0,mt.jsx)(r.StrictMode,{children:(0,mt.jsx)(Zn,{clientId:"802922354619-j3392uam89r3rv45ic9sgsbmai5r5ng5.apps.googleusercontent.com",children:(0,mt.jsx)(Jn,{})})}))})();
//# sourceMappingURL=main.d2ecb694.js.map